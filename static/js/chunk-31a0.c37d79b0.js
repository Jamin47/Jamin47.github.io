(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-31a0","NVOe"],{"69jx":function(e,t,a){},"9Bfp":function(e,t,a){"use strict";var i=a("pM+9"),n=a("fCtq"),o=a("c+Ff"),s=a("mf7F"),r=a("DLJW"),l=a("BnWi"),c=a("siI6"),d=a("ifiM"),u=a("Bney"),p=a("uEnC"),m=a("WXo7").f,h=a("pJx8")(0),f=a("Xp5O");e.exports=function(e,t,a,v,_,g){var y=i[e],b=y,k=_?"set":"add",x=b&&b.prototype,C={};return f&&"function"==typeof b&&(g||x.forEach&&!s(function(){(new b).entries().next()}))?(b=t(function(t,a){d(t,b,e,"_c"),t._c=new y,void 0!=a&&c(a,_,t[k],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in x&&(!g||"clear"!=e)&&r(b.prototype,e,function(a,i){if(d(this,b,e),!t&&g&&!u(a))return"get"==e&&void 0;var n=this._c[e](0===a?0:a,i);return t?this:n})}),g||m(b.prototype,"size",{get:function(){return this._c.size}})):(b=v.getConstructor(t,e,_,k),l(b.prototype,a),o.NEED=!0),p(b,e),C[e]=b,n(n.G+n.W+n.F,C),g||v.setStrong(b,e,_),b}},A9N5:function(e,t,a){a("gNbS")("Set")},At7H:function(e,t,a){var i=a("Bney");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},DXDa:function(e,t,a){"use strict";a.r(t);var i=a("nKCB"),n=a.n(i),o=a("LGhb"),s=a.n(o),r=a("unDg"),l=a.n(r),c=a("omC7"),d=a.n(c),u=a("bS4n"),p=a.n(u),m=a("ABCu"),h=a("kDn8"),f=a("AlM9"),v=a("XVnh"),_=a("NVOe"),g=a("8t5x"),y={name:"EmergentBroadcast",components:{treeView:m.a,dialogDesign:h.a,TableView:f.a,notPerm:v.a},mixins:[_.default],data:function(){return{loading:!1,treeArr:[],collapseValue:[],treeList:[],activeIndex:"2",isTree:!0,isTable:!0,filterText:"",activeTable:!0,limitData:[],copyLimitData:[],treeData:{extendData:{},checkOriginName:"",treeQuery:{type:"get",action:"/role/treeList",list:null},defaultProps:{children:"children",label:"name",isLeaf:"lezy",disabled:"disabled"},nodeKey:"roleId",currentNodeKey:4,defaultExpandAll:!0,expandClickNode:!1,indent:16,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("rolePage.username"),key:"username",type:"text"},{title:this.$t("rolePage.account"),key:"account",type:"text"},{title:this.$t("rolePage.companyName"),key:"companyName",type:"text"},{title:this.$t("rolePage.status"),type:"tag",key:"status",tags:[{value:1,text:this.$t("rolePage.status_1"),option:{type:"success"}},{value:0,text:this.$t("rolePage.status_2"),option:{type:"danger"}},{value:2,text:this.$t("rolePage.status_3"),option:{type:"info"}}]},{title:this.$t("rolePage.updateTime"),key:"updateTime",type:"text"}],searchControls:[{type:"input",key:"accountName",placeholder:this.$t("rolePage.search_2"),width:"200px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},dialogDisplay:!1,dialogData:{},activeItem:{companyId:null,roleId:null,name:""},allChecked:!1,companyTreeData:[],langConfig:{"zh-CN":{menuLable:"name",permsLable:"permName"},"en-US":{menuLable:"globalName",permsLable:"globalName"}},viewConfig:{menuLable:"name",permsLable:"permName"}}},computed:p()({},Object(g.b)(["elNorms"])),watch:{filterText:function(e){this.$refs.tree.$refs.sonTree.filter(e)}},created:function(){var e=this.$store.getters.language;this.viewConfig=this.langConfig[e],this.getMenuData(),this.getCompanyFn()},mounted:function(){},methods:{handlePermissionShow:function(){},getMenuData:function(){var e=this;this.$http.get("/role/menuAndPermList").then(function(t){t.code===e.$config.API_STATUS.OK&&(e.limitData=t.data.map(function(e){return e.checkList=e.dataScopeConfig?e.dataScopeConfig.split(",").map(parseFloat).sort(function(e,t){return e-t}):[],e.dataScopeConfig||(e.defaultScopeText=!0),e.children&&e.children.length>0&&e.children.forEach(function(e){e.perms&&e.perms.length>0&&(e.perms.forEach(function(t){e.checkList=e.dataScopeConfig?e.dataScopeConfig.split(",").map(parseFloat).sort(function(e,t){return e-t}):[]}),e.dataScopeConfig||(e.defaultScopeText=!0))}),e}),e.collapseValue=[],e.limitData.forEach(function(t,a){e.collapseValue.push(a)}),e.copyLimitData=JSON.parse(d()(e.limitData)))})},getCompanyFn:function(){var e=this;this.$http.get("/company/treeList/role").then(function(t){t.code===e.$config.API_STATUS.OK&&(e.companyTreeData=t.data)})},diaClose:function(e){e&&this.$refs.tree.getTreeData(),this.dialogDisplay=!1},addRoleFn:function(e){this.dialogData={isClickClose:!1,staticData:null,isDialogDisplay:!0,title:this.$t("rolePage.add_role"),data:"",defaultData:null,mainWidth:"540",titleWidth:"140",submitAction:"/role/create",btnAlign:"center",formList:[{title:this.$t("rolePage.companyName"),type:"treeSelect",key:"companyId",valueKey:"companyId",offsetWidth:"320",clearable:!0,treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},treeDefinedData:this.companyTreeData,rules:[{required:!0,message:this.$t("rolePage.form_rule_message_1"),trigger:"blur"}]},{title:this.$t("rolePage.role_name"),type:"input",offsetWidth:"320",key:"name",rules:[{required:!0,message:this.$t("rolePage.form_rule_message_2"),trigger:"blur"}]}],formButton:[{name:this.$t("confirm.determine"),type:"confirm",class:"primary",round:!1},{name:this.$t("confirm.cancel"),type:"cancel",class:"",round:!1}]},this.dialogDisplay=!0},editRoleFn:function(e){var t={name:e.name,roleId:e.roleId};this.dialogData={isClickClose:!1,staticData:t,isDialogDisplay:!0,title:this.$t("rolePage.edit_role"),data:"",defaultData:null,mainWidth:"500",submitAction:"/role/update/"+e.roleId,titleWidth:"100",btnAlign:"center",formList:[{title:this.$t("rolePage.role_name"),type:"input",labelWidth:"100",offsetWidth:"320",key:"name",rules:[{required:!0,message:this.$t("rolePage.form_rule_message_2"),trigger:"blur"}]}],formButton:[{name:this.$t("confirm.determine"),type:"confirm",class:"primary",round:!1},{name:this.$t("confirm.cancel"),type:"cancel",class:"",round:!1}]},this.dialogDisplay=!0},remove:function(e){var t=this;this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),type:"primary"}).then(function(){t.$http.deleteApi("/role/delete",{ids:e.roleId}).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.$message({type:"success",message:t.$t("confirm.message")}),t.$refs.tree.getTreeData())})})},getTreeData:function(e){this.treeArr=[],this.forResetData(e),this.activeItem.roleId&&this.getRoleData(this.activeItem.roleId)},forResetData:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(t){null===t.companyId&&null===t.roleId&&(t.treeId="sys_init"),t.companyId&&(t.treeId="c_"+t.companyId),t.roleId&&(t.treeId="c_"+t.roleId,e.activeItem.roleId||(e.activeItem={companyId:t.companyId||null,roleId:t.roleId,name:t.name}));var a=t.sysCompanyNodes||[],i=t.sysRoles||[];t.children=[].concat(l()(i),l()(a)),t.children.length&&e.forResetData(t.children)})},nodeClick:function(e,t){e.roleId&&!this.loading&&(this.activeItem={companyId:e.companyId||null,roleId:e.roleId,name:e.name},this.getRoleData(e.roleId))},tableResponseFn:function(e,t,a){this[t.funcName].call(function(){},e,t,a)},getRoleData:function(e){var t=this;this.loading=!0,this.$http.axios.all([this.$http.get("/role/listUser/"+e),this.$http.get("/role/listMenuAndPermission/"+e)]).then(this.$http.axios.spread(function(e,a){t.loading=!1,e.code===t.$config.API_STATUS.OK&&(t.tableOptions.data=e.data,t.tableOptions.total=e.data.length),a.code===t.$config.API_STATUS.OK&&(t.limitData=JSON.parse(d()(t.copyLimitData)),t.matchingRole(a.data),t.getCheckedStatus(),t.activeTable=!1,t.$nextTick(function(){t.activeTable=!0}))})).catch(function(){t.loading=!1})},getMenuRole:function(e){var t=this;this.$http.get("/role/listUser/"+e).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.tableOptions.data=e.data,t.tableOptions.total=e.data.length)})},matchingRole:function(e){var t=this;e&&e.length&&this.limitData.forEach(function(a){e.forEach(function(e){a.menuId===e.menuId&&t.forMatchingFn(a,e)})})},forMatchingFn:function(e,t){var a=this;(t.datascope||0===t.datascope)&&(e.radio=t.datascope),t.children&&t.children.length?e.children.forEach(function(e){t.children.forEach(function(t){e.menuId===t.menuId&&a.forMatchingFn(e,t)})}):(e.perms&&e.perms.length&&e.perms.forEach(function(e){t.perms.forEach(function(t){t.permId===e.permId&&(e.checked=!0)})}),e.checked=!0)},getCheckedStatus:function(){var e=!0;this.limitData.forEach(function(t){t.checked||(e=!1)}),this.allChecked=e},checkItem:function(e,t,a,i){var n=this;1===e?(a.checked=t,a.perms&&a.perms.length>0&&a.perms.forEach(function(e){e.checked=t}),a.checked&&(!a.radio||!a.dataScopeConfig.includes(String(a.radio)))&&(a.radio=a.dataScopeConfig.split(",").map(parseFloat)[0])):2===e&&(a.checked=t,i.checked=i.perms.some(function(e){return!0===e.checked}),i.checked&&((!i.radio||!i.dataScopeConfig.includes(String(i.radio)))&&(i.radio=i.dataScopeConfig.split(",").map(parseFloat)[0]))),this.activeTable=!1,this.$nextTick(function(){n.activeTable=!0})},allCheckedFn:function(e,t){var a=this;t.forEach(function(t){t.checked=e,t.checked?!t.radio&&(t.radio=0):t.radio=null,t.children&&t.children.length?a.allCheckedFn(e,t.children):t.perms&&t.perms.length&&t.perms.forEach(function(t){t.checked=e})}),this.activeTable=!1,this.$nextTick(function(){a.activeTable=!0})},radioFn:function(e){var t=this;this.activeTable=!1,this.$nextTick(function(){t.activeTable=!0})},getCheckRoleFn:function(e,t,a,i){var n=this;e.forEach(function(e){1===e.hidden&&(e.children&&e.children.length?n.getCheckRoleFn(e.children,t,a,i):(null!==e.parentIdExt&&void 0!==e.parentIdExt?t[e.menuId]=n.forGetDataScope(e.parentIdExt,e):(e.radio||0===e.radio)&&(t[e.menuId]=e.radio),e.checked&&(0!==e.parentId&&-1===a.indexOf(e.parentId)&&a.push(e.parentId),a.push(e.menuId)),e.perms.forEach(function(e){!0===e.checked&&1===e.hidden&&i.push(e.permId)})))})},forGetDataScope:function(e,t){var a=null;return this.limitData.forEach(function(t){t.children&&t.children.length?t.children.forEach(function(t){t.menuId===e&&(a=t.radio||0===t.radio?t.radio:void 0)}):t.menuId===e&&(a=t.radio||0===t.radio?t.radio:void 0)}),a},roleSave:function(){var e=this;this.loading=!0;var t={},a=[],i=[];this.getCheckRoleFn(this.limitData,t,a,i);var o={dataScope:t,menuIds:s()(new n.a(a)),permIds:i,roleId:this.activeItem.roleId};this.$http.post("/role/allocMenuAndPerm",o).then(function(t){e.loading=!1,t.code===e.$config.API_STATUS.OK&&e.$message({message:t.message,type:"success"})}).catch(function(){e.loading=!1})}}},b=(a("tDox"),a("ZrdR")),k=Object(b.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-wrap role-page"},[e.isPermissionShow("roleTreeList")?a("div",{staticClass:"page-body"},[a("div",{staticClass:"con-left"},[a("div",{staticClass:"input-query"},[a("el-input",{attrs:{size:e.elNorms.size,placeholder:e.$t("rolePage.search_1"),"prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText="string"==typeof t?t.trim():t},expression:"filterText"}}),e._v(" "),e.isPermissionShow("roleCreate")?a("el-button",{staticStyle:{width:"80px","margin-left":"4px"},attrs:{size:e.elNorms.size,circle:e.elNorms.circle,round:e.elNorms.round,type:"primary"},on:{click:e.addRoleFn}},[e._v(e._s(e.$t("rolePage.add_role")))]):e._e()],1),e._v(" "),a("div",{staticClass:"body-tree init-tree"},[e.isTree?a("tree-view",{ref:"tree",attrs:{"tree-data":e.treeData},on:{treeDataFn:e.getTreeData,"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"left-title text-ellipsis",class:t.data.data.roleId&&"init-width",style:e.activeItem.roleId===t.data.data.roleId?"color: #3c8cfa;":""},[t.data.data.companyId||t.data.data.roleId?e._e():a("i",{staticClass:"iconfont Jamin_system_icon_cjgly"}),e._v(" "),t.data.data.companyId&&!t.data.data.roleId?a("i",{staticClass:"el-icon-office-building"}):e._e(),e._v(" "),t.data.data.roleId?a("i",{staticClass:"iconfont Jamin_system_icon_jgry"}):e._e(),e._v("\n              "+e._s(t.data.node.label)+"\n            ")]),e._v(" "),a("span",{staticClass:"right-edit"},[1===t.data.data.defaultFlag?a("span",[e.isPermissionShow("roleUpdate")?a("i",{staticClass:"el-icon-edit",on:{click:function(a){return a.stopPropagation(),e.editRoleFn(t.data.data)}}}):e._e(),e._v(" "),e.isPermissionShow("roleDelete")?a("i",{staticClass:"el-icon-delete",on:{click:function(a){return a.stopPropagation(),e.remove(t.data.data)}}}):e._e()]):e._e()])]}}])}):e._e()],1)]),e._v(" "),a("div",{staticClass:"con-right"},[a("div",{staticClass:"right-header"},[e._v("\n        "+e._s(e.activeItem.name)+"\n      ")]),e._v(" "),a("div",{staticClass:"menu-con"},[a("el-tabs",{staticClass:"init-tabs",model:{value:e.activeIndex,callback:function(t){e.activeIndex=t},expression:"activeIndex"}},[a("el-tab-pane",{attrs:{name:"2"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont Jamin_system_icon_htqx"}),e._v(" "+e._s(e.$t("rolePage.view_type_1")))])]),e._v(" "),a("el-tab-pane",{attrs:{name:"1"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont Jamin_system_icon_jsyyr"}),e._v(" "+e._s(e.$t("rolePage.view_type_2")))])])],1)],1),e._v(" "),a("transition",{attrs:{name:"opacity"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===e.activeIndex,expression:"activeIndex === '1'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"opacity_table"},[e.isTable?a("table-view",{ref:"table",attrs:{"id-key":"userId",center:"","check-memory":!0,data:e.tableOptions.data,total:e.tableOptions.total,columns:e.tableOptions.columns,"search-controls":e.tableOptions.searchControls,"search-mode":e.tableOptions.searchMode,"button-controls":e.tableOptions.buttonControls,"footer-buttons":e.tableOptions.footerButtons,"pagination-layout":e.tableOptions.paginationLayout,"is-border":""},on:{handleCallback:e.tableResponseFn}},[a("el-table-column",{attrs:{slot:"number",label:e.$t("view.index"),type:"index",align:"center",width:"60"},slot:"number"})],1):e._e()],1)]),e._v(" "),a("transition",{attrs:{name:"opacity"}},[a("keep-alive",[a("div",{directives:[{name:"show",rawName:"v-show",value:"2"===e.activeIndex,expression:"activeIndex === '2'"},{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"nav-item"},[1===e.activeItem.roleId?a("div",{staticClass:"role-tip"},[a("div",[e._v(e._s(e.$t("rolePage.describe")))])]):a("div",{staticClass:"nav-auto"},[e.limitData.length?a("el-collapse",{staticStyle:{"margin-top":"-1px"},model:{value:e.collapseValue,callback:function(t){e.collapseValue=t},expression:"collapseValue"}},[e._l(e.limitData,function(t,i){return[t.hidden&&0===t.onlyAdmin?a("el-collapse-item",{key:t.menuId,attrs:{name:i}},[t[e.viewConfig.menuLable]?a("template",{slot:"title"},[a("div",{staticClass:"collapse-title"},[a("i",{class:t.icon}),e._v("\n                        "+e._s(t[e.viewConfig.menuLable])+"\n                      ")])]):e._e(),e._v(" "),t.children&&t.children.length>0?a("div",{staticClass:"collapse-table"},[a("div",{staticClass:"table-header e-row"},[a("div",{staticClass:"e-col-6"},[e._v(e._s(e.$t("rolePage.menu_permissions")))]),e._v(" "),a("div",{staticClass:"e-col-10"},[e._v(e._s(e.$t("rolePage.function_permissions")))]),e._v(" "),a("div",{staticClass:"e-col-8"},[e._v(e._s(e.$t("rolePage.data_range")))])]),e._v(" "),e._l(t.children,function(i){return[e.activeTable&&i.perms&&1===i.hidden&&0===i.onlyAdmin?a("div",{key:i.permId,staticClass:"table-item e-row"},[a("div",{staticClass:"e-col-6"},[a("el-checkbox",{attrs:{label:i.menuId,checked:i.checked},on:{change:function(a){e.checkItem(1,a,i,t)}}},[e._v(e._s(i[e.viewConfig.menuLable]))])],1),e._v(" "),a("div",{staticClass:"e-col-10"},[null!==i.perms&&i.perms.length>0?a("div",[e._l(i.perms,function(n){return[n.hidden?a("el-checkbox",{key:n.permId,attrs:{label:n.menuId,checked:n.checked},on:{change:function(a){e.checkItem(2,a,n,i,t)}}},[e._v(e._s(n[e.viewConfig.permsLable]))]):e._e()]})],2):a("div",[e._v(e._s(e.$t("rolePage.null_role")))])]),e._v(" "),i.parentNameExt?a("div",{staticClass:"e-col-8"},[e._v("\n                            "+e._s(e.$t("rolePage.same_describe_1"))+"“"),a("span",{staticClass:"d-c"},[e._v(e._s(i.parentNameExt))]),e._v("”"+e._s(e.$t("rolePage.same_describe_2"))+"\n                          ")]):a("div",{staticClass:"e-col-8"},[i.defaultScopeText?a("div",[e._v(e._s(e.$t("rolePage.system_default_range")))]):a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e._l(i.checkList,function(t){return[0===t?a("el-radio",{key:t,attrs:{label:t},on:{change:function(t){e.radioFn(i)}},model:{value:i.radio,callback:function(t){e.$set(i,"radio",t)},expression:"citem.radio"}},[e._v(e._s(e.$t("menuPage.only_authorized_me")))]):e._e(),e._v(" "),1===t?a("el-radio",{key:t,attrs:{label:t},on:{change:function(t){e.radioFn(i)}},model:{value:i.radio,callback:function(t){e.$set(i,"radio",t)},expression:"citem.radio"}},[e._v(e._s(e.$t("menuPage.only_i_create")))]):e._e(),e._v(" "),2===t?a("el-radio",{key:t,attrs:{label:t},on:{change:function(t){e.radioFn(i)}},model:{value:i.radio,callback:function(t){e.$set(i,"radio",t)},expression:"citem.radio"}},[e._v(e._s(e.$t("menuPage.total_company_data")))]):e._e(),e._v(" "),3===t?a("el-radio",{key:t,attrs:{label:t},on:{change:function(t){e.radioFn(i)}},model:{value:i.radio,callback:function(t){e.$set(i,"radio",t)},expression:"citem.radio"}},[e._v(e._s(e.$t("menuPage.subsidiaries_total_data")))]):e._e()]})],2)])]):e._e()]})],2):a("div",{staticClass:"collapse-table"},[a("div",{staticClass:"table-header e-row"},[a("div",{staticClass:"e-col-6"},[e._v(e._s(e.$t("rolePage.menu_permissions")))]),e._v(" "),a("div",{staticClass:"e-col-10"},[e._v(e._s(e.$t("rolePage.function_permissions")))]),e._v(" "),a("div",{staticClass:"e-col-8"},[e._v(e._s(e.$t("rolePage.data_range")))])]),e._v(" "),e.activeTable?a("div",{staticClass:"table-item e-row"},[a("div",{staticClass:"e-col-6"},[a("el-checkbox",{attrs:{label:t.menuId,checked:t.checked},on:{change:function(a){e.checkItem(1,a,t,t)}}},[e._v(e._s(t[e.viewConfig.menuLable]))])],1),e._v(" "),a("div",{staticClass:"e-col-10"},[null!==t.perms&&t.perms.length>0?a("div",[e._l(t.perms,function(i){return[1===i.hidden?a("el-checkbox",{key:i.permId,attrs:{label:i.menuId,checked:i.checked},on:{change:function(a){e.checkItem(2,a,i,t)}}},[e._v(e._s(i[e.viewConfig.permsLable]))]):e._e()]})],2):a("div",[e._v(e._s(e.$t("rolePage.null_role")))])]),e._v(" "),t.parentNameExt?a("div",{staticClass:"e-col-8"},[e._v("\n                          "+e._s(e.$t("rolePage.same_describe_1"))+"“"),a("span",{staticClass:"d-c"},[e._v(e._s(t.parentNameExt))]),e._v("”"+e._s(e.$t("rolePage.same_describe_2"))+"\n                        ")]):a("div",{staticClass:"e-col-8"},[t.defaultScopeText?a("div",[e._v(e._s(e.$t("rolePage.system_default_range")))]):a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[e._l(t.checkList,function(i){return[0===i?a("el-radio",{key:i,attrs:{label:i},on:{change:function(a){e.radioFn(t)}},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v(e._s(e.$t("menuPage.only_authorized_me")))]):e._e(),e._v(" "),1===i?a("el-radio",{key:i,attrs:{label:i},on:{change:function(a){e.radioFn(t)}},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v(e._s(e.$t("menuPage.only_i_create")))]):e._e(),e._v(" "),2===i?a("el-radio",{key:i,attrs:{label:i},on:{change:function(a){e.radioFn(t)}},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v(e._s(e.$t("menuPage.total_company_data")))]):e._e(),e._v(" "),3===i?a("el-radio",{key:i,attrs:{label:i},on:{change:function(a){e.radioFn(t)}},model:{value:t.radio,callback:function(a){e.$set(t,"radio",a)},expression:"item.radio"}},[e._v(e._s(e.$t("menuPage.subsidiaries_total_data")))]):e._e()]})],2)])]):e._e()])],2):e._e()]})],2):e._e(),e._v(" "),a("div",{staticClass:"edit-footer"},[a("div",{staticClass:"all-checked"},[e.activeTable&&e.limitData.length?a("el-checkbox",{on:{change:function(t){e.allCheckedFn(t,e.limitData)}},model:{value:e.allChecked,callback:function(t){e.allChecked=t},expression:"allChecked"}},[e._v(e._s(e.$t("operation.select_all")))]):e._e()],1),e._v(" "),e.activeTable&&e.limitData.length&&e.isPermissionShow("roleAllocMenuAndPerm")?a("el-button",{staticClass:"blue-btn",attrs:{size:e.elNorms.size,circle:e.elNorms.circle,round:e.elNorms.round,type:"primary"},on:{click:e.roleSave}},[e._v(e._s(e.$t("confirm.determine")))]):e._e()],1)],1)])])],1)],1)]):e._e(),e._v(" "),e.isPermissionShow("roleTreeList")||e.$store.state.app.permsDataLoading?e._e():a("notPerm"),e._v(" "),e.dialogDisplay?a("dialog-design",{ref:"_dialog_design",attrs:{size:"mini",color:"primary","dialog-data":e.dialogData},on:{diaClose:e.diaClose}}):e._e()],1)},[],!1,null,"2cac4da6",null);k.options.__file="roleList.vue";t.default=k.exports},FsxH:function(e,t,a){a("Jz2b"),a("h6RU"),a("OD9R"),a("UBQn"),a("U2Xt"),a("A9N5"),a("drTp"),e.exports=a("zpmP").Set},KMGv:function(e,t,a){var i=a("Qoj+");e.exports=function(e,t){return new(i(e))(t)}},KsW6:function(e,t,a){var i=a("siI6");e.exports=function(e,t){var a=[];return i(e,!1,a.push,a,t),a}},NVOe:function(e,t,a){"use strict";a.r(t);var i=a("bS4n"),n=a.n(i),o=a("8t5x");t.default={data:function(){return{permissionList:{userList:"/user/list",userCreate:"/user/create",userExport:"/user/export",userUpdate:"/user/update/**",userVehicle:"/user/vehicle/**",userReset:"/user/reset/**",userStatus:"/user/status",userDelete:"/user/delete",userListOnline:"/user/list/online",userOffline:"/user/offline/**/**",roleTreeList:"/role/treeList",roleCreate:"/role/create",roleUpdate:"/role/update",roleDelete:"/role/delete",roleAllocMenuAndPerm:"/role/allocMenuAndPerm",roleUpdateUserRole:"/role/updateUserRole",logListOperate:"/log/list/operate",logOperateExport:"/log/operate/export",logListLogin:"/log/list/login",logLoginExport:"/log/login/export",logListEquipment:"/log/list/equipment",logEquipmentExport:"/log/equipment/export"}}},computed:n()({},Object(o.b)(["permsData"]),{isAdministrator:function(){return[-1,-2].includes(Number(this.$store.getters.userData.userType))}}),watch:{permsData:{handler:function(){this.handlePermissionShow&&this.handlePermissionShow()},immediate:!0}},methods:{isPermissionShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.isAdministrator||this.permsData.includes(this.permissionList[e])}}}},"Qoj+":function(e,t,a){var i=a("Bney"),n=a("Rc/a"),o=a("7uuy")("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},U2Xt:function(e,t,a){var i=a("fCtq");i(i.P+i.R,"Set",{toJSON:a("lsC3")("Set")})},UBQn:function(e,t,a){"use strict";var i=a("iOiu"),n=a("At7H");e.exports=a("9Bfp")("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(n(this,"Set"),e=0===e?0:e,e)}},i)},drTp:function(e,t,a){a("jX1v")("Set")},gNbS:function(e,t,a){"use strict";var i=a("fCtq");e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},iOiu:function(e,t,a){"use strict";var i=a("WXo7").f,n=a("qPN7"),o=a("BnWi"),s=a("copg"),r=a("ifiM"),l=a("siI6"),c=a("d0V/"),d=a("P6YU"),u=a("bANS"),p=a("Xp5O"),m=a("c+Ff").fastKey,h=a("At7H"),f=p?"_s":"size",v=function(e,t){var a,i=m(t);if("F"!==i)return e._i[i];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var d=e(function(e,i){r(e,d,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=i&&l(i,a,e[c],e)});return o(d.prototype,{clear:function(){for(var e=h(this,t),a=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete a[i.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var a=h(this,t),i=v(a,e);if(i){var n=i.n,o=i.p;delete a._i[i.i],i.r=!0,o&&(o.n=n),n&&(n.p=o),a._f==i&&(a._f=n),a._l==i&&(a._l=o),a[f]--}return!!i},forEach:function(e){h(this,t);for(var a,i=s(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(i(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!v(h(this,t),e)}}),p&&i(d.prototype,"size",{get:function(){return h(this,t)[f]}}),d},def:function(e,t,a){var i,n,o=v(e,t);return o?o.v=a:(e._l=o={i:n=m(t,!0),k:t,v:a,p:i=e._l,n:void 0,r:!1},e._f||(e._f=o),i&&(i.n=o),e[f]++,"F"!==n&&(e._i[n]=o)),e},getEntry:v,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=h(e,t),this._k=a,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))},a?"entries":"values",!a,!0),u(t)}}},jX1v:function(e,t,a){"use strict";var i=a("fCtq"),n=a("ltg/"),o=a("copg"),s=a("siI6");e.exports=function(e){i(i.S,e,{from:function(e){var t,a,i,r,l=arguments[1];return n(this),(t=void 0!==l)&&n(l),void 0==e?new this:(a=[],t?(i=0,r=o(l,arguments[2],2),s(e,!1,function(e){a.push(r(e,i++))})):s(e,!1,a.push,a),new this(a))}})}},jcYt:function(e,t,a){e.exports=a.p+"static/img/not-perm.d97c442.png"},lsC3:function(e,t,a){var i=a("HaVW"),n=a("KsW6");e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},nKCB:function(e,t,a){e.exports={default:a("FsxH"),__esModule:!0}},pJx8:function(e,t,a){var i=a("copg"),n=a("bAmN"),o=a("MhL/"),s=a("+GGc"),r=a("KMGv");e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,d=4==e,u=6==e,p=5==e||u,m=t||r;return function(t,r,h){for(var f,v,_=o(t),g=n(_),y=i(r,h,3),b=s(g.length),k=0,x=a?m(t,b):l?m(t,0):void 0;b>k;k++)if((p||k in g)&&(v=y(f=g[k],k,_),e))if(a)x[k]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return k;case 2:x.push(f)}else if(d)return!1;return u?-1:c||d?d:x}}},tDox:function(e,t,a){"use strict";var i=a("69jx");a.n(i).a}}]);