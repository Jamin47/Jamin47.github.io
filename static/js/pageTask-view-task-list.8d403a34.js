(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pageTask-view-task-list"],{"131b":function(t,a,n){"use strict";n.r(a);var s=n("7de4"),i=n("cd10");for(var e in i)"default"!==e&&function(t){n.d(a,t,(function(){return i[t]}))}(e);var o,u=n("f0c5"),c=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,"595df1df",null,!1,s["a"],o);a["default"]=c.exports},"2bfa":function(t,a,n){"use strict";n.r(a);var s=n("95cd"),i=n("ef63");for(var e in i)"default"!==e&&function(t){n.d(a,t,(function(){return i[t]}))}(e);n("428c");var o,u=n("f0c5"),c=Object(u["a"])(i["default"],s["b"],s["c"],!1,null,"50ff7892",null,!1,s["a"],o);a["default"]=c.exports},"428c":function(t,a,n){"use strict";var s=n("574d"),i=n.n(s);i.a},5172:function(t,a,n){"use strict";var s=n("4ea4");n("99af"),n("e25e"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i=s(n("2909")),e=n("c7e5"),o=n("6195"),u=s(n("131b")),c={components:{noData:u.default},data:function(){return{uuid:(0,o.uuid)(32,16),isActive:1,params:{taskPlanId:null,taskPlanType:0,page:1,limit:30},taskListData:[]}},onLoad:function(t){this.params.taskPlanId=t.taskPlanId,this.isActive=parseInt(t.isActive),this.getTaskListFn()},onPullDownRefresh:function(){this.params.page=1,this.taskListData=[],this.getTaskListFn()},onReachBottom:function(){this.getTaskListFn()},methods:{getTaskListFn:function(){var t=this;(0,e.$http)("/app/task/getTaskList","get",this.params).then((function(a){if(uni.stopPullDownRefresh(),a.code===t.my_config.success_status){var n=a.data.list;1!==t.params.page||n.length?n.length&&(t.params.page++,t.taskListData=[].concat((0,i.default)(t.taskListData),(0,i.default)(n))):t.nextStatus("loadEnd")}else t.nextStatus("loadErr")})).catch((function(){uni.stopPullDownRefresh(),t.nextStatus("loadErr")}))},nextStatus:function(t){var a=this;this.$nextTick((function(){a.$refs._noData&&(a.$refs._noData.loadStatus=t)}))},taskStartFn:function(t){var a=this;uni.showModal({title:"执行任务",content:"手动执行任务是系统测试功能，系统不会自动停止，必须手动停止。请按规范谨慎操作！",success:function(n){n.confirm&&(a.uuid=(0,o.uuid)(32,16),(0,e.$http)("/app/task/startTask","post",{taskId:t.taskId,operationId:a.uuid}).then((function(n){n.code===a.my_config.success_status&&(t.taskStatus=1,uni.showToast({title:"任务执行成功"}))})))}})},taskStopFn:function(t){(0,e.$http)("/app/task/stopTask","post",{taskId:t.taskId}).then((function(a){t.taskStatus=0,uni.showToast({title:"任务停止成功"})}))},pushTaskInfoFn:function(t){uni.navigateTo({url:"./task-info?taskId=".concat(t.taskId)})}}};a.default=c},5394:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var s={components:{},props:{sty:{value:String,default:""}},data:function(){return{loadStatus:"loading"}},onShow:function(){},methods:{}};a.default=s},"574d":function(t,a,n){var s=n("fc06");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=n("4f06").default;i("52df7a56",s,!0,{sourceMap:!1,shadowMode:!1})},6195:function(t,a,n){n("ac1f"),n("1276");var s=function(t){var a="",n=String(t);return n.length>10&&(a=n.substr(0,3)+"****"+n.substr(7)),a},i=function(t,a){var n,s,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),e=[];if(a=a||i.length,t)for(n=0;n<t;n++)e[n]=i[0|Math.random()*a];else for(e[8]=e[13]=e[18]=e[23]="-",e[14]="4",n=0;n<36;n++)e[n]||(s=0|16*Math.random(),e[n]=i[19===n?3&s|8:s]);return e.join("")};t.exports={phoneFilter:s,uuid:i}},"7de4":function(t,a,n){"use strict";var s;n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return e})),n.d(a,"a",(function(){return s}));var i=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("v-uni-view",{staticClass:"null-data",style:t.sty},["loadEnd"===t.loadStatus?n("v-uni-view",{staticClass:"nd-cot"},[n("v-uni-view",{staticClass:"image-view"},[n("v-uni-image",{staticClass:"w-300",attrs:{src:"http://rmt-oss.oss-cn-shenzhen.aliyuncs.com/ht-soft-yunmt/20200601/b87a5514f52f41b5b84cd6bd05de0cb4.png",mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"nd-text"},[t._v("暂无数据")])],1):t._e(),"loading"===t.loadStatus?n("v-uni-view",{staticClass:"nd-cot"},[n("v-uni-view",{staticClass:"nd-text"},[t._v("数据加载中...")])],1):t._e(),"loadErr"===t.loadStatus?n("v-uni-view",{staticClass:"nd-cot"},[n("v-uni-view",{staticClass:"nd-text"},[t._v("加载失败，请重试！")])],1):t._e()],1)},e=[]},"95cd":function(t,a,n){"use strict";var s;n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return e})),n.d(a,"a",(function(){return s}));var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-uni-view",{staticClass:"task-list-page"},[t.taskListData.length?s("v-uni-view",{staticClass:"task-list"},t._l(t.taskListData,(function(a,i){return s("v-uni-view",{key:a.taskId,staticClass:"task-item flexbox flexbox-y-align"},[s("v-uni-view",{staticClass:"item-icon"},[s("v-uni-image",{attrs:{src:n("d45d"),mode:"scaleToFill"}})],1),s("v-uni-view",{staticClass:"item-content text-ellipsis flexbox-flex1",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.pushTaskInfoFn(a)}}},[t._v(t._s(a.taskName))]),1===t.isActive?s("v-uni-view",{staticClass:"item-btn"},[0===a.taskStatus?s("v-uni-button",{staticClass:"task-btn",attrs:{type:"default",size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.taskStartFn(a)}}},[t._v("执 行")]):t._e(),1===a.taskStatus?s("v-uni-button",{staticClass:"task-btn active-btn",attrs:{type:"primary",size:"mini"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.taskStopFn(a)}}},[t._v("停 止")]):t._e()],1):t._e()],1)})),1):s("noData",{ref:"_noData"})],1)},e=[]},cd10:function(t,a,n){"use strict";n.r(a);var s=n("5394"),i=n.n(s);for(var e in s)"default"!==e&&function(t){n.d(a,t,(function(){return s[t]}))}(e);a["default"]=i.a},d45d:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAV1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOl5NtAAAAHXRSTlMAihpFf2mFeFKCBXRVQRJeOw5ZNT4wLCkiCUxjYiLA3JkAAAHXSURBVFjD7ZfLcsMgDEV1bRkMxjh2Ur/a///O1osObQIRtJ0sOjnLTOYYCQQSPflXzAa3XKicCREmKsfXt5wsPbmi6tuh0UrpZmj7in6GXRzjG+wWW67pDQ5U10z7PjWdwoHpC1Vnxgdd/SUcP7tDxueS1HQAuPZ0xVabQ5+drFkB5mKjEV8MoGbKogcwjJRgHHJLrgXUie6wMLCTiAPMSncZNdBmrEd7ol+bXgD2JOIZeLn7KQOVtbmVghkpzYDwIXHpAyVZoqHbN22jyVwoRQfeImEAkXA3RpcsMOBEuSI6Aamy02CbL7IMTVFWoKZ8EdXAmjrTY4nIA45iGDRUIqIGJvH/vkzUJ3ehKhNVwCWeIioTUbx0G3Sloi6aVY3XUtFr9CQxplLRBM4KOIiaT5brwqVbVErkEXBXIlUSGp1T/dEEFpMtE5Itb39A2H4hcyJAK5RIHlXyIuxJRi5aYjQkIFwjIUmeCvBAK1y1EuGqlS9/GWughedIJjxHySVtlMkWXqNolhxl4oD1r5qIB7Q1ZY2W3PqNoieniXSyaTVZm7IDvAgHCHt2w75Rgi007I8aIcJQs938XnMYagrGLOVm/9Vy6MHnBw5+8ig6278Zjp/8N94BCyoR+LrMTGYAAAAASUVORK5CYII="},ef63:function(t,a,n){"use strict";n.r(a);var s=n("5172"),i=n.n(s);for(var e in s)"default"!==e&&function(t){n.d(a,t,(function(){return s[t]}))}(e);a["default"]=i.a},fc06:function(t,a,n){var s=n("24fb");a=s(!1),a.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */.task-list-page[data-v-50ff7892]{height:100%}.task-list .task-item[data-v-50ff7892]{padding:%?15?% %?20?%;border-bottom:1px solid #dbdbdb}.task-list .task-item .item-icon uni-image[data-v-50ff7892]{width:%?50?%;height:%?50?%;margin-right:%?20?%}.task-list .task-item .item-content[data-v-50ff7892]{font-size:%?28?%;color:#333;position:relative;top:%?-2?%}.task-list .task-item .item-btn[data-v-50ff7892]{margin-left:%?20?%}.task-list .task-item .item-btn .task-btn[data-v-50ff7892]{border-radius:%?40?%;font-size:%?22?%;padding:0 %?40?%;border:1px solid #499ff5;color:#499ff5}.task-list .task-item .item-btn .active-btn[data-v-50ff7892]{color:#fff}',""]),t.exports=a}}]);