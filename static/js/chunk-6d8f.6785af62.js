(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6d8f","chunk-02a2","chunk-2631","chunk-898a","chunk-0e30","chunk-6172","chunk-2243","chunk-4c16","chunk-3ff4","chunk-d287","chunk-2735","chunk-6d7b","chunk-9e82","chunk-4f81","chunk-263b","chunk-c694","chunk-c61d","chunk-70dc","chunk-0e8b","chunk-2a6a","chunk-123d","chunk-ed44","chunk-9e20","chunk-4b6d","chunk-a03a","chunk-780f","B8wf"],{"/Lik":function(t,e,i){},"00g4":function(t,e,i){"use strict";var a=i("/Lik");i.n(a).a},"050z":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof1of4",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"110px"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",minWidth:"110px",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"160"},{title:this.$t("statisticsReport.alarm_start_time"),key:"startTime",type:"text",minWidth:"130px"},{title:this.$t("statisticsReport.alarm_end_time"),key:"endTime",type:"text",minWidth:"130px"},{title:this.$t("statisticsReport.alarm_duration"),key:"alarmDuration",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.alarm_start_position"),key:"alarmStartPosition",type:"text",minWidth:"150px"},{title:this.$t("statisticsReport.alarm_end_position"),key:"alarmEndPosition",type:"text",minWidth:"150px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("positionDriftDetailExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/position/vehicle/drift/detail/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/vehicle/drift/detail/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("Q7Gv"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"75372215",null);l.options.__file="t_1_4.vue";e.default=l.exports},"0DCG":function(t,e,i){"use strict";var a=i("0gpK");i.n(a).a},"0gpK":function(t,e,i){},"1F+j":function(t,e,i){},"1PP3":function(t,e,i){"use strict";var a=i("1F+j");i.n(a).a},"27Ls":function(t,e,i){},"3//5":function(t,e,i){"use strict";var a=i("9RtX");i.n(a).a},"4xqO":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof7of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.vehicle_number"),key:"licenseNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_times"),key:"totalTimes",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_time"),key:"totalDuration",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_mileage_1"),key:"totalMileage",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("statisticsReport.select_vehicle"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/driver/vehicle/login/logout/summary/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/pass/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("9lQE"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"27137525",null);l.options.__file="t_7_3.vue";e.default=l.exports},"5DV+":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof1of2",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"110px"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",minWidth:"110px",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130px"},{title:this.$t("statisticsReport.statistics_time"),key:"statisticsTime",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.discontinuous_num"),key:"discontinuousNum",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.location_total"),key:"locationTotal",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.discontinuous_mileage"),key:"discontinuousMileage",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.total_mileage"),key:"totalMileage",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.locus_completeness_rate"),key:"locusCompletenessRate",type:"text",minWidth:"110px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("positionLocusExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/position/locus/complete/rate/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/locus/complete/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("3//5"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"f60a8a30",null);l.options.__file="t_1_2.vue";e.default=l.exports},"5y5H":function(t,e,i){"use strict";var a=i("h26Y");i.n(a).a},"78b2":function(t,e,i){"use strict";var a=i("a/k7");i.n(a).a},"7u41":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof1of3",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"110px"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",minWidth:"110px",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180px"},{title:this.$t("statisticsReport.statistics_time"),key:"statisticsTime",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.drift_num"),key:"driftNum",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.location_total"),key:"locationTotal",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.locus_completeness_rate"),key:"vehicleDriftRate",type:"text",minWidth:"110px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("positionDriftRateExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/position/vehicle/drift/rate/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/vehicle/drift/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("n8ns"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"81cd6612",null);l.options.__file="t_1_3.vue";e.default=l.exports},"8H73":function(t,e,i){},"8TrA":function(t,e,i){"use strict";var a=i("hflJ");i.n(a).a},"8pzs":function(t,e,i){},"9RtX":function(t,e,i){},"9lQE":function(t,e,i){"use strict";var a=i("NMVI");i.n(a).a},"9yBD":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof2of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.company_name"),key:"companyName",type:"text"},{title:this.$t("statisticsReport.mileage"),key:"mileage",type:"text"},{title:this.$t("statisticsReport.vehicleNum"),key:"vehicleNum",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"companyIds",valueKey:"companyId",placeholder:this.$t("statisticsReport.company_name"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.name.indexOf(t)}}},treeDefinedData:this.$parent.companyTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("mileageCompanyExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.companyIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){var i={companyIds:JSON.parse(t.companyIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/mileage/company/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_4"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.companyIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,companyIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/mileage/company/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_3"))}}},s=(i("8TrA"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"1ee378f8",null);l.options.__file="t_2_1.vue";e.default=l.exports},B8wf:function(t,e,i){"use strict";i.r(e);var a=i("bS4n"),n=i.n(a),o=i("8t5x");e.default={data:function(){return{permissionList:{positionPassReport:"/position/pass/rate/report",positionLocusReport:"/position/locus/complete/rate/report",positionDriftRateReport:"/position/vehicle/drift/rate/report",positionDriftReport:"/position/vehicle/drift/detail/report",positionHistoryReport:"/position/history/report",mileageCompanyReport:"/mileage/company/report",mileageVehicleReport:"/mileage/vehicle/report",mileageDriverReport:"/mileage/driver/report",mileageDayReport:"/mileage/vehicle/day/report",mileageMontyReport:"/mileage/vehicle/monty/report",alarmCommonList:"/alarm/common/list",onlineRateSummaryReport:"/online/rate/summary/report",onlineRateReport:"/online/rate/report",onlineSummaryReport:"/online/offline/summary/report",onlineDetailReport:"/online/offline/detail/report",onlineAccStatisticsReport:"/online/acc/ignition/statistics/report",onlineAccReport:"/online/acc/ignition/report",reportTemperatureAlarmStatistics:"/report/temperature/alarmStatistics",reportTemperatureList:"/report/temperature/list",reportTemperatureDetailInfo:"/report/temperature/detailInfo",positionPassExport:"/position/pass/rate/report/export",positionLocusExport:"/position/locus/complete/rate/report/export",positionDriftRateExport:"/position/vehicle/drift/rate/report/export",positionDriftDetailExport:"/position/vehicle/drift/detail/report/export",positionHistoryExport:"/position/history/report/export",mileageCompanyExport:"/mileage/company/report/export",mileageVehicleExport:"/mileage/vehicle/report/export",mileageDriverExport:"/mileage/driver/report/export",mileageDayExport:"/mileage/vehicle/day/report/export",mileageMontyExport:"/mileage/vehicle/monty/report/export",alarmReportExport:"/alarm/common/report/export",onlineRateSummaryExport:"/online/rate/summary/report/export",onlineRateExport:"/online/rate/report/export",onlineSummaryExport:"/online/offline/summary/report/export",onlineDetailExport:"/online/offline/detail/report/export",onlineAccStatisticsExport:"/online/acc/ignition/statistics/report/export",onlineAccExport:"/online/acc/ignition/report/export",reportTemperatureAlarmStatisticsExport:"/report/temperature/alarmStatistics/export",reportTemperatureListExport:"/report/temperature/list/export",reportTemperatureDetailInfoExport:"/report/temperature/detailInfo/export"}}},computed:n()({},Object(o.b)(["permsData"]),{isAdministrator:function(){return[-1,-2].includes(Number(this.$store.getters.userData.userType))}}),watch:{permsData:{handler:function(){this.handlePermissionShow&&this.handlePermissionShow()},immediate:!0}},methods:{isPermissionShow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.isAdministrator||this.permsData.includes(this.permissionList[t])}}}},BMU9:function(t,e,i){},Bcn3:function(t,e,i){"use strict";var a=i("Kq6C");i.n(a).a},BjMK:function(t,e,i){},DDkG:function(t,e,i){"use strict";i.r(e);var a=i("omC7"),n=i.n(a),o=i("6ZY3"),s=i.n(o),l=i("AlM9"),r=i("B8wf"),c={name:"Tof2of4",components:{TableView:l.a},mixins:[r.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text"},{title:this.$t("statisticsReport.total_mileage"),key:"driveMileage",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",condition:{key:"reportType",value:0}},{type:"monthrange",key:"monthTime",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",valueFormat:"yyyy-MM",condition:{key:"reportType",value:1}},{type:"select",key:"reportType",width:"120px",clearable:!0,value:0,options:[{name:this.$t("statisticsReport.day_report"),value:0},{name:this.$t("statisticsReport.month_report"),value:1}]}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],(this.isPermissionShow("mileageDayExport")||this.isPermissionShow("mileageMontyExport"))&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time||t.monthTime){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit||t.reportType!==this.params.reportType){var i=0===t.reportType?"/mileage/vehicle/day/report":"/mileage/vehicle/monty/report",a=0===t.reportType?t.time:t.monthTime,n={vehicleIds:JSON.parse(t.vehicleIds),startTime:a?a[0]:null,endTime:a?a[1]:null};this.$http.post(i,n).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.tableAllData.length&&e.resetTableColumns(e.tableAllData[0].dateMap),e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit,a=this.tableAllData.slice(e,i);a.forEach(function(t){t.dateMap&&s()(t,t.dateMap)}),this.tableOptions.data=JSON.parse(n()(a))},resetTableColumns:function(t){var e=this,i=[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:120},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:this.$parent.dictObj.licenseColor},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:150},{title:this.$t("statisticsReport.total_mileage"),key:"driveMileage",type:"text",minWidth:120}];for(var a in t){var n={title:a+"(km)",key:a,type:"text",minWidth:130};i.push(n)}this.$refs.table.viewColumns=i,this.$refs.table.isTable=!1,this.$nextTick(function(){e.$refs.table.isTable=!0})},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time,n=e.monthTime,o=e.reportType;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,s,l){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var r=1===o?n:a,c=0===o?"/mileage/vehicle/day/report/export?isToken=true":"/mileage/vehicle/monty/report/export?isToken=true",p={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:r?r[0]:null,endTime:r?r[1]:null};t.$http.download(c,p),l()}else l()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},p=(i("ITRl"),i("ZrdR")),d=Object(p.a)(c,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"34bf8912",null);d.options.__file="t_2_4.vue";e.default=d.exports},DXxr:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of5",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.period"),key:"period",type:"text",minWidth:"200"},{title:this.$t("statisticsReport.ignition_num"),key:"ignitionNum",type:"text"},{title:this.$t("statisticsReport.duration"),key:"totalTime",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineAccStatisticsExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/online/acc/ignition/statistics/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/online/acc/ignition/statistics/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("TNXv"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"9f77c9ee",null);l.options.__file="t_4_5.vue";e.default=l.exports},HiS0:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("yH6C"),o=i("B8wf"),s={name:"Tof2of3",components:{TableView:a.a,uTableView:n.a},mixins:[o.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.driver_name"),key:"driverName",type:"text",fixed:"left"},{title:this.$t("statisticsReport.company_name"),key:"companyName",type:"text"},{title:this.$t("statisticsReport.drive_time"),key:"driveTime",type:"text"},{title:this.$t("statisticsReport.mileage"),key:"driveMileage",type:"text",prependText:"km/h"},{title:this.$t("statisticsReport.drive_num"),key:"driveNum",type:"text"},{title:this.$t("operation.operation"),type:"operate",key:"operate",fixed:"right",width:"120",buttons:[{text:this.$t("operation.detail"),type:"text",funcName:"lookFn"}]}],buttonControls:[],searchControls:[{type:"treeSelect",key:"driverIds",valueKey:"driverId",placeholder:this.$t("statisticsReport.driver_name"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"el-icon-s-custom",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.driverTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[],drawerOption:{isShow:!1},isuTable:!0,uTableHeight:330,uTableOptions:{data:[],total:0,viewTableKey:"infoTableData",columns:[{title:this.$t("statisticsReport.driver_name"),key:"driverName",type:"text"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text"},{title:this.$t("view.start_time"),key:"startTime",type:"text"},{title:this.$t("view.end_time"),key:"endTime",type:"text"},{title:this.$t("view.drive_time"),key:"driveTime",type:"text"},{title:this.$t("view.mileage"),key:"driveMileage",type:"text"},{title:this.$t("view.oil_loss"),key:"oilLoss",type:"text"},{title:this.$t("view.start_position"),key:"startPosition",type:"text",minWidth:"200"},{title:this.$t("view.end_position"),key:"endPosition",type:"text",minWidth:"200"}],searchControls:[],searchMode:"immediate",footerButtons:[],loading:!1}}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("mileageDriverExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.driverIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){var i={driverIds:JSON.parse(t.driverIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/mileage/driver/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_5"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.driverIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,driverIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/mileage/driver/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_6"))},lookFn:function(t){var e=this,i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.uTableOptions.data=[],this.$http.post("/mileage/driver/mileage/detail",{driverIds:[t.driverId],startTime:this.params.time?this.params.time[0]:null,endTime:this.params.time?this.params.time[1]:null}).then(function(t){i.close(),t.code===e.$config.API_STATUS.OK&&(e.uTableOptions.data=t.data,e.drawerOption.isShow=!0)})}}},l=(i("zs7K"),i("ZrdR")),r=Object(l.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Tof2of3"},[t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e(),t._v(" "),i("el-drawer",{attrs:{title:t.$t("statisticsReport.driver_mileage_details"),visible:t.drawerOption.isShow,direction:"btt",size:"400px"},on:{"update:visible":function(e){t.$set(t.drawerOption,"isShow",e)}}},[t.isuTable?i("u-table-view",{ref:"table",staticClass:"rtp-table",attrs:{data:t.uTableOptions.data,columns:t.uTableOptions.columns,"table-height":t.uTableHeight}}):t._e()],1)],1)},[],!1,null,"0f0f50a8",null);r.options.__file="t_2_3.vue";e.default=r.exports},HsYK:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof3of2",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"130"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",width:"100",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.report_time"),key:"reportTime",type:"text",width:"120"},{title:this.$t("statisticsReport.alarm_total"),key:"alarmTotal",type:"text",minWidth:"100"},{title:this.$t("statisticsReport.emergency_alarm"),key:"emergencyAlarm",type:"text",minWidth:"110"},{title:this.$t("statisticsReport.overtime_parking"),key:"overtimeParkingAlarm",type:"text",minWidth:"100"},{title:this.$t("statisticsReport.fatigue_driving"),key:"fatigueDrivingAlarm",type:"text",minWidth:"100"},{title:this.$t("statisticsReport.danger_warning"),key:"dangerWarning",type:"text",minWidth:"100"},{title:this.$t("statisticsReport.gnss_failure"),key:"gnssFailureAlarm",type:"text",minWidth:"120"},{title:this.$t("statisticsReport.terminal_undervoltage"),key:"terminalUndervoltageAlarm",type:"text",minWidth:"120"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",condition:{key:"reportType",value:0}},{type:"monthrange",key:"monthTime",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",valueFormat:"yyyy-MM",condition:{key:"reportType",value:1}},{type:"select",key:"reportType",width:"120px",clearable:!0,value:0,options:[{name:this.$t("statisticsReport.day_report"),value:0},{name:this.$t("statisticsReport.month_report"),value:1}]}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("alarmReportExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time||t.monthTime){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i=1===t.reportType?t.monthTime:t.time,a={vehicleIds:JSON.parse(t.vehicleIds),reportType:t.reportType,startTime:i?i[0]:null,endTime:i?i[1]:null};this.$http.post("/alarm/common/list",a).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time,n=e.monthTime,o=e.reportType;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,s,l){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var r=1===o?n:a,c={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),reportType:o,startTime:r?r[0]:null,endTime:r?r[1]:null};t.$http.download("/alarm/common/report/export?isToken=true",c),l()}else l()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("QgM4"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"1d3d6b4f",null);l.options.__file="t_3_2.vue";e.default=l.exports},INMl:function(t,e,i){"use strict";var a=i("BMU9");i.n(a).a},ITRl:function(t,e,i){"use strict";var a=i("qk+1");i.n(a).a},K3l9:function(t,e,i){"use strict";var a=i("27Ls");i.n(a).a},Kq6C:function(t,e,i){},Lm1f:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof6of2",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"130"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",width:"100",type:"tag",tags:[]},{title:this.$t("statisticsReport.company_name"),key:"companyName",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.alarm_type"),type:"tagText",minWidth:"130",key:"alarmType",tags:[{text:this.$t("statisticsReport.alarm_type_1"),value:"ultraHighTemperatureWarning",option:{type:"danger"}},{text:this.$t("statisticsReport.alarm_type_2"),value:"ultraLowTemperatureWarning",option:{type:"danger"}}]},{title:this.$t("statisticsReport.sensor_name"),key:"sensorName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.reporting_time"),key:"startTime",type:"text",width:"160"},{title:this.$t("statisticsReport.upload_temperature"),key:"uploadTemperature",type:"text",width:"100"},{title:this.$t("statisticsReport.reporting_location"),key:"location",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.solve_status"),type:"tagText",width:"100",key:"solveStatus",tags:[{text:this.$t("statisticsReport.solve_status_1"),value:0,option:{type:"warning"}},{text:this.$t("statisticsReport.solve_status_2"),value:1,option:{type:"success"}}]},{title:this.$t("statisticsReport.solve_user"),key:"solveUserName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.solve_desc"),key:"solveDesc",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.solve_method"),type:"tagText",width:"100",key:"solveMethod",tags:[{text:this.$t("statisticsReport.solve_method_1"),value:0},{text:this.$t("statisticsReport.solve_method_2"),value:1},{text:this.$t("statisticsReport.solve_method_3"),value:2}]},{title:this.$t("statisticsReport.solve_time"),key:"solveTime",type:"text",width:"160"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"},{type:"select",key:"alarmType",placeholder:this.$t("statisticsReport.alarm_type"),width:"160px",clearable:!0,options:[{name:this.$t("statisticsReport.alarm_type_1"),value:"ultraHighTemperatureWarning"},{name:this.$t("statisticsReport.alarm_type_2"),value:"ultraLowTemperatureWarning"}]},{type:"select",key:"solveStatus",placeholder:this.$t("statisticsReport.solve_status"),width:"160px",clearable:!0,options:[{name:this.$t("statisticsReport.solve_status_1"),value:0},{name:this.$t("statisticsReport.solve_status_2"),value:1}]}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("reportTemperatureListExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null,alarmType:t.alarmType?[t.alarmType]:[],solveStatus:t.solveStatus};this.$http.post("/report/temperature/list",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/report/temperature/list/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("Q6Q4"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"c8610812",null);l.options.__file="t_6_2.vue";e.default=l.exports},Ly61:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof1of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"130px"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",minWidth:"110px",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180px"},{title:this.$t("statisticsReport.statistics_time"),key:"statisticsTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.un_positioned_num"),key:"unPositionedNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.latLng_error_num"),key:"latitudeLongitudeErrorNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.speed_error_num"),key:"speedErrorNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.height_error_num"),key:"heightErrorNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.direction_error_num"),key:"directionErrorNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.location_total"),key:"locationTotal",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.positioning_pass_rate"),key:"positioningPassRate",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("positionPassExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/position/pass/rate/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/pass/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("0DCG"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"c0425414",null);l.options.__file="t_1_1.vue";e.default=l.exports},LyWA:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.online_day"),key:"onlineDay",type:"text"},{title:this.$t("statisticsReport.query_days"),key:"queryDays",type:"text"},{title:this.$t("statisticsReport.total_online_time"),key:"totalOnlineTime",type:"text"},{title:this.$t("statisticsReport.online_num"),key:"onlineNum",type:"text"},{title:this.$t("statisticsReport.online_rate"),key:"onlineRate",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineRateSummaryExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/online/rate/summary/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/online/rate/summary/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("tbvo"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"06ae8952",null);l.options.__file="t_4_1.vue";e.default=l.exports},MZKF:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof7of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.vehicle_number"),key:"vehicleNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.type"),key:"type",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.recognition_result"),key:"recognitionResult",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.time"),key:"time",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.ic_card_reading_result"),key:"icCardReadingResult",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.sign_in_driver"),key:"signInDriver",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.driver_id_number"),key:"driverIdNumber",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.qualification_certificate"),key:"qualificationCertificate",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.issuing_authority"),key:"issuingAuthority",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.certificate_validity"),key:"certificateValidity",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.reporting_location"),key:"reportingLocation",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"deviceId",placeholder:this.$t("statisticsReport.select_vehicle"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"},{type:"select",key:"loginType",placeholder:this.$t("statisticsReport.all_types"),width:"160px",clearable:!0,options:[{name:this.$t("statisticsReport.sign_in"),value:1},{name:this.$t("statisticsReport.return_sign_out"),value:2}]},{type:"select",key:"verifyResult",placeholder:this.$t("statisticsReport.recognition_result"),width:"160px",clearable:!0,options:[{name:this.$t("statisticsReport.success"),value:1},{name:this.$t("statisticsReport.failed"),value:0}]}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={driverIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};t.loginType&&(i.loginType=t.loginType),(t.verifyResult||0===t.verifyResult)&&(i.verifyResult=t.verifyResult),this.$http.post("/driver/id/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/pass/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("vqsV"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"09bb492b",null);l.options.__file="t_7_5.vue";e.default=l.exports},NMVI:function(t,e,i){},Nzfm:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof6of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"110"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",width:"100",type:"tag",tags:[]},{title:this.$t("statisticsReport.company_name"),key:"companyName",type:"text",minWidth:"180"},{title:this.$t("view.start_time"),key:"startTime",type:"text",width:"160"},{title:this.$t("view.end_time"),key:"endTime",type:"text",width:"160"},{title:this.$t("statisticsReport.high_count"),key:"highCount",type:"text",width:"100"},{title:this.$t("statisticsReport.high_interval"),key:"highIntervalStr",type:"text",minWidth:"120"},{title:this.$t("statisticsReport.low_count"),key:"lowCount",type:"text",width:"100"},{title:this.$t("statisticsReport.low_interval"),key:"lowIntervalStr",type:"text",minWidth:"120"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("reportTemperatureAlarmStatisticsExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/report/temperature/alarmStatistics",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/report/temperature/alarmStatistics/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("1PP3"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"5c1ebf10",null);l.options.__file="t_6_1.vue";e.default=l.exports},PTje:function(t,e,i){},Q6Q4:function(t,e,i){"use strict";var a=i("cIFs");i.n(a).a},Q7Gv:function(t,e,i){"use strict";var a=i("8H73");i.n(a).a},QW0H:function(t,e,i){},QgM4:function(t,e,i){"use strict";var a=i("bRkr");i.n(a).a},SDqh:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof7of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.driver_name"),key:"driverName",type:"text",minWidth:"180px"},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_times"),key:"totalNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_duration"),key:"totalTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_mileage_1"),key:"totalMileage",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"driverIds",valueKey:"driverId",placeholder:this.$t("statisticsReport.select_driver"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"opDrivers",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.driverTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.driverIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={driverIds:JSON.parse(t.driverIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/driver/login/logout/summary/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.driverIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,driverIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/driver/login/logout/summary/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("5y5H"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"7af239d6",null);l.options.__file="t_7_1.vue";e.default=l.exports},TJMT:function(t,e,i){"use strict";var a=i("icr2");i.n(a).a},TNXv:function(t,e,i){"use strict";var a=i("PTje");i.n(a).a},ZZBu:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof7of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.vehicle_number"),key:"vehicleNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.driver_name"),key:"driverName",type:"text",minWidth:"180px"},{title:this.$t("statisticsReport.login_time"),key:"loginTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.logout_time"),key:"logoutTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.logoutLocation"),key:"signInLocation",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.logout_location"),key:"returnLocation",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_time"),key:"totalDuration",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_mileage_1"),key:"totalMileage",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("statisticsReport.select_vehicle"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/driver/vehicle/login/logout/detail/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/pass/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("00g4"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"e6a9889a",null);l.options.__file="t_7_4.vue";e.default=l.exports},Zg9d:function(t,e,i){},Zn0Q:function(t,e,i){"use strict";i.r(e);var a=i("unDg"),n=i.n(a),o=i("bS4n"),s=i.n(o),l=i("ABCu"),r=i("B8wf"),c=i("8t5x"),p=i("XVnh"),d=i("Ly61"),h=i("5DV+"),m=i("7u41"),u=i("050z"),f=i("gGJj"),b=i("9yBD"),y=i("zqbf"),g=i("HiS0"),v=i("DDkG"),_=i("uXvu"),x=i("HsYK"),$=i("LyWA"),O=i("lBB2"),T=i("tKDc"),k=i("t7r+"),w=i("DXxr"),R=i("zJpA"),D=i("Nzfm"),C=i("Lm1f"),I=i("oqCR"),N=i("SDqh"),A=i("aqKk"),M=i("4xqO"),S=i("ZZBu"),P=i("MZKF"),F={components:{treeView:l.a,notPerm:p.a,tof1of1:d.default,tof1of2:h.default,tof1of3:m.default,tof1of4:u.default,tof1of5:f.default,tof2of1:b.default,tof2of2:y.default,tof2of3:g.default,tof2of4:v.default,tof3of1:_.default,tof3of2:x.default,tof4of1:$.default,tof4of2:O.default,tof4of3:T.default,tof4of4:k.default,tof4of5:w.default,tof4of6:R.default,tof6of1:D.default,tof6of2:C.default,tof6of3:I.default,tof7of1:N.default,tof7of2:A.default,tof7of3:M.default,tof7of4:S.default,tof7of5:P.default},mixins:[r.default],data:function(){return{isPermission:!1,isTree:!0,filterText:"",treeData:{defaultProps:{children:"list",label:"treeName",isLeaf:"lezy"},nodeKey:"treeId",currentNodeKey:1,defaultExpandAll:!0,expandClickNode:!1,indent:16,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},activeMenu:null,treeDefinedData:[],isTable:!0,devTreeData:[],companyTreeData:[],driverTreeData:[],dictObj:null}},computed:s()({},Object(c.b)(["elNorms"])),created:function(){this.getSelectDataFn()},mounted:function(){},methods:{handlePermissionShow:function(){var t=this;this.treeDefinedData=[],this.positionReport(),this.mileageReport(),this.alarmReport(),this.onlineReport(),this.temperatureReport(),this.treeDefinedData.length>0?(this.isPermission=!0,this.$nextTick(function(){var e=t.treeDefinedData[0].list[0];t.nodeClick(e)})):this.isPermission=!1},positionReport:function(){var t=this,e=[{treeId:"t_1_1",treeName:this.$t("statisticsReport.t_1_1"),type:"table",permUrl:"positionPassReport"},{treeId:"t_1_2",treeName:this.$t("statisticsReport.t_1_2"),type:"table",permUrl:"positionLocusReport"},{treeId:"t_1_3",treeName:this.$t("statisticsReport.t_1_3"),type:"table",permUrl:"positionDriftRateReport"},{treeId:"t_1_4",treeName:this.$t("statisticsReport.t_1_4"),type:"table",permUrl:"positionDriftReport"},{treeId:"t_1_5",treeName:this.$t("statisticsReport.t_1_5"),type:"table",permUrl:"positionHistoryReport"}],i={treeId:"t_1",treeName:this.$t("statisticsReport.t_1"),type:"folder",list:[]};e.forEach(function(e){t.isPermissionShow(e.permUrl)&&i.list.push(e)}),i.list.length>0&&this.treeDefinedData.push(i)},mileageReport:function(){var t=this,e=[{treeId:"t_2_1",treeName:this.$t("statisticsReport.t_2_1"),type:"table",permUrl:"mileageCompanyReport"},{treeId:"t_2_2",treeName:this.$t("statisticsReport.t_2_2"),type:"table",permUrl:"mileageVehicleReport"},{treeId:"t_2_3",treeName:this.$t("statisticsReport.t_2_3"),type:"table",permUrl:"mileageDriverReport"},{treeId:"t_2_4",treeName:this.$t("statisticsReport.t_2_4"),type:"table",permUrl:"mileageMontyReport"}],i={treeId:"t_2",treeName:this.$t("statisticsReport.t_2"),type:"folder",list:[]};e.forEach(function(e){t.isPermissionShow(e.permUrl)&&i.list.push(e)}),i.list.length>0&&this.treeDefinedData.push(i)},alarmReport:function(){var t=this,e=[{treeId:"t_3_2",treeName:this.$t("statisticsReport.t_3_2"),type:"table",permUrl:"alarmCommonList"}],i={treeId:"t_3",treeName:this.$t("statisticsReport.t_3"),type:"folder",list:[]};e.forEach(function(e){t.isPermissionShow(e.permUrl)&&i.list.push(e)}),i.list.length>0&&this.treeDefinedData.push(i)},onlineReport:function(){var t=this,e=[{treeId:"t_4_1",treeName:this.$t("statisticsReport.t_4_1"),type:"table",permUrl:"onlineRateSummaryReport"},{treeId:"t_4_2",treeName:this.$t("statisticsReport.t_4_2"),type:"table",permUrl:"onlineRateReport"},{treeId:"t_4_3",treeName:this.$t("statisticsReport.t_4_3"),type:"table",permUrl:"onlineSummaryReport"},{treeId:"t_4_4",treeName:this.$t("statisticsReport.t_4_4"),type:"table",permUrl:"onlineDetailReport"},{treeId:"t_4_5",treeName:this.$t("statisticsReport.t_4_5"),type:"table",permUrl:"onlineAccStatisticsReport"},{treeId:"t_4_6",treeName:this.$t("statisticsReport.t_4_6"),type:"table",permUrl:"onlineAccReport"}],i={treeId:"t_4",treeName:this.$t("statisticsReport.t_4"),type:"folder",list:[]};e.forEach(function(e){t.isPermissionShow(e.permUrl)&&i.list.push(e)}),i.list.length>0&&this.treeDefinedData.push(i)},temperatureReport:function(){var t=this,e=[{treeId:"t_6_1",treeName:this.$t("statisticsReport.t_6_1"),type:"table",permUrl:"reportTemperatureAlarmStatistics"},{treeId:"t_6_2",treeName:this.$t("statisticsReport.t_6_2"),type:"table",permUrl:"reportTemperatureList"},{treeId:"t_6_3",treeName:this.$t("statisticsReport.t_6_3"),type:"table",permUrl:"reportTemperatureDetailInfo"}],i={treeId:"t_6",treeName:this.$t("statisticsReport.t_6"),type:"folder",list:[]};e.forEach(function(e){t.isPermissionShow(e.permUrl)&&i.list.push(e)}),i.list.length>0&&this.treeDefinedData.push(i)},driverReport:function(){var t=[{treeId:"t_7_1",treeName:this.$t("statisticsReport.t_7_1"),type:"table"},{treeId:"t_7_2",treeName:this.$t("statisticsReport.t_7_2"),type:"table"},{treeId:"t_7_3",treeName:this.$t("statisticsReport.t_7_3"),type:"table"},{treeId:"t_7_4",treeName:this.$t("statisticsReport.t_7_4"),type:"table"},{treeId:"t_7_5",treeName:this.$t("statisticsReport.t_7_5"),type:"table"}],e={treeId:"t_7",treeName:this.$t("statisticsReport.t_7"),type:"folder",list:[]};t.forEach(function(t){e.list.push(t)}),e.list.length>0&&this.treeDefinedData.push(e)},getSelectDataFn:function(){var t=this;this.$http.get("/postion/dataStatistics/vehicleAllTreeList").then(function(e){e.code===t.$config.API_STATUS.OK&&(t.forTreeResetDataFn(e.data.motorcades),t.devTreeData=e.data.motorcades,t.isTable=!1,t.$nextTick(function(){t.isTable=!0}))}),this.$http.get("/dict/list/codes",{dicCodes:"licenseColor"}).then(function(e){if(e.code===t.$config.API_STATUS.OK&&e.data){var i=e.data;t.dictObj={licenseColor:i.licenseColor.map(function(t){return{id:t.itemId,value:t.itemName,text:t.itemValue,name:t.itemValue}})}}}),this.$http.get("/company/treeList/dataStatistics").then(function(e){e.code===t.$config.API_STATUS.OK&&(t.companyTreeData=e.data)}),this.$http.get("/driver/dataStatistics/treeList").then(function(e){e.code===t.$config.API_STATUS.OK&&(t.forDriverTreeResetDataFn(e.data),t.driverTreeData=e.data)})},forTreeResetDataFn:function(t){var e=this;t.forEach(function(t){t.vehicleId?(t.treeName=t.licenseNum,t.treeId="v_"+t.vehicleId,t.lezy=!0):(t.treeName=t.motorcadeName,t.treeId="m_"+t.motorcadeId,t.children=[].concat(n()(t.vehicles),n()(t.motorcades)),e.forTreeResetDataFn(t.children))})},forDriverTreeResetDataFn:function(t){var e=this;t.forEach(function(t){t.driverId?(t.treeName=t.username,t.treeId="d_"+t.driverId,t.lezy=!0):(t.treeName=t.name,t.treeId="c_"+t.companyId,t.children=[].concat(n()(t.opDrivers||[]),n()(t.sysCompanyNodes||[])),e.forDriverTreeResetDataFn(t.children))})},nodeClick:function(t,e){"table"===t.type&&(this.activeMenu=t)}}},E=(i("wUDE"),i("ZrdR")),B=Object(E.a)(F,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-view"},[t.isPermission?[i("div",{staticClass:"con-left"},[i("div",{staticClass:"input-query"},[i("el-input",{attrs:{size:t.elNorms.size,placeholder:t.$t("view.search_name"),"prefix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText="string"==typeof e?e.trim():e},expression:"filterText"}})],1),t._v(" "),i("div",{staticClass:"body-tree init-tree"},[t.isTree?i("tree-view",{ref:"tree",attrs:{"tree-data":t.treeData,"defined-data":t.treeDefinedData},on:{"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"left-title text-ellipsis",style:t.activeMenu&&e.data.data.treeId===t.activeMenu.treeId?"color: var(--main-primary);":""},["folder"===e.data.data.type?i("i",{staticClass:"iconfont Jamin_vehicle_icon_xiaowenjian"}):t._e(),t._v("\n              "+t._s(e.data.data.treeName)+"\n            ")])]}}])}):t._e()],1)]),t._v(" "),i("div",{staticClass:"con-right"},[i("div",{staticClass:"title-content"},[t._v("\n        "+t._s(t.activeMenu?t.activeMenu.treeName:"")+"\n      ")]),t._v(" "),t.isTable&&t.activeMenu?i("div",{staticClass:"table-content"},["t_1_1"===t.activeMenu.treeId?i("tof1of1"):t._e(),t._v(" "),"t_1_2"===t.activeMenu.treeId?i("tof1of2"):t._e(),t._v(" "),"t_1_3"===t.activeMenu.treeId?i("tof1of3"):t._e(),t._v(" "),"t_1_4"===t.activeMenu.treeId?i("tof1of4"):t._e(),t._v(" "),"t_1_5"===t.activeMenu.treeId?i("tof1of5"):t._e(),t._v(" "),"t_2_1"===t.activeMenu.treeId?i("tof2of1"):t._e(),t._v(" "),"t_2_2"===t.activeMenu.treeId?i("tof2of2"):t._e(),t._v(" "),"t_2_3"===t.activeMenu.treeId?i("tof2of3"):t._e(),t._v(" "),"t_2_4"===t.activeMenu.treeId?i("tof2of4"):t._e(),t._v(" "),"t_3_1"===t.activeMenu.treeId?i("tof3of1"):t._e(),t._v(" "),"t_3_2"===t.activeMenu.treeId?i("tof3of2"):t._e(),t._v(" "),"t_4_1"===t.activeMenu.treeId?i("tof4of1"):t._e(),t._v(" "),"t_4_2"===t.activeMenu.treeId?i("tof4of2"):t._e(),t._v(" "),"t_4_3"===t.activeMenu.treeId?i("tof4of3"):t._e(),t._v(" "),"t_4_4"===t.activeMenu.treeId?i("tof4of4"):t._e(),t._v(" "),"t_4_5"===t.activeMenu.treeId?i("tof4of5"):t._e(),t._v(" "),"t_4_6"===t.activeMenu.treeId?i("tof4of6"):t._e(),t._v(" "),"t_6_1"===t.activeMenu.treeId?i("tof6of1"):t._e(),t._v(" "),"t_6_2"===t.activeMenu.treeId?i("tof6of2"):t._e(),t._v(" "),"t_6_3"===t.activeMenu.treeId?i("tof6of3"):t._e(),t._v(" "),"t_7_1"===t.activeMenu.treeId?i("tof7of1"):t._e(),t._v(" "),"t_7_2"===t.activeMenu.treeId?i("tof7of2"):t._e(),t._v(" "),"t_7_3"===t.activeMenu.treeId?i("tof7of3"):t._e(),t._v(" "),"t_7_4"===t.activeMenu.treeId?i("tof7of4"):t._e(),t._v(" "),"t_7_5"===t.activeMenu.treeId?i("tof7of5"):t._e()],1):t._e()])]:t._e(),t._v(" "),t.isPermission||t.$store.state.app.permsDataLoading?t._e():i("notPerm")],2)},[],!1,null,"17e6e3f4",null);B.options.__file="index.vue";e.default=B.exports},"a/k7":function(t,e,i){},aqKk:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof7of1",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("statisticsReport.driver_name"),key:"driverName",type:"text",minWidth:"180px"},{title:this.$t("statisticsReport.vehicle_number"),key:"licenseNum",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.login_time"),key:"loginTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.logout_time"),key:"logoutTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.login_location"),key:"loginLocation",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.logout_location"),key:"logoutLocation",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_time"),key:"totalTime",type:"text",minWidth:"120px"},{title:this.$t("statisticsReport.total_mileage_1"),key:"totalMileage",type:"text",minWidth:"120px"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"driverIds",valueKey:"driverId",placeholder:this.$t("statisticsReport.select_driver"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"opDrivers",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.driverTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.driverIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={driverIds:JSON.parse(t.driverIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/driver/login/logout/detail/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/pass/rate/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("kvL6"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"59b07261",null);l.options.__file="t_7_2.vue";e.default=l.exports},bRkr:function(t,e,i){},c6kY:function(t,e,i){"use strict";var a=i("wYxy");i.n(a).a},cIFs:function(t,e,i){},dS9w:function(t,e,i){},fjVU:function(t,e,i){"use strict";var a=i("dS9w");i.n(a).a},gGJj:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof1of5",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"130px"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",minWidth:"110px",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.positioning_time"),key:"positioningTime",type:"text",minWidth:"160px"},{title:this.$t("statisticsReport.speed"),key:"speed",type:"text",prependText:"km/h",minWidth:"110px"},{title:this.$t("statisticsReport.direction"),key:"directionStr",type:"text",minWidth:"110"},{title:this.$t("statisticsReport.longitude"),key:"longitude",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.latitude"),key:"latitude",type:"text",minWidth:"110px"},{title:this.$t("statisticsReport.position_type"),key:"positionType",type:"text",minWidth:"130px"},{title:this.$t("statisticsReport.location"),key:"location",type:"text",minWidth:"200"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},created:function(){},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("positionHistoryExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/position/history/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/position/history/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("Bcn3"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"1f0ec24c",null);l.options.__file="t_1_5.vue";e.default=l.exports},h26Y:function(t,e,i){},hflJ:function(t,e,i){},icr2:function(t,e,i){},jcYt:function(t,e,i){t.exports=i.p+"static/img/not-perm.d97c442.png"},kvL6:function(t,e,i){"use strict";var a=i("rZLH");i.n(a).a},lBB2:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of2",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.statistics_time"),key:"statisticsTime",type:"text"},{title:this.$t("statisticsReport.online_time"),key:"onlineTime",type:"text"},{title:this.$t("statisticsReport.online_num"),key:"onlineNum",type:"text"},{title:this.$t("statisticsReport.online_rate"),key:"onlineRate",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",condition:{key:"type",value:0}},{type:"monthrange",key:"monthTime",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px",valueFormat:"yyyy-MM",condition:{key:"type",value:1}},{type:"select",key:"type",width:"120px",clearable:!0,value:0,options:[{name:this.$t("statisticsReport.day_report"),value:0},{name:this.$t("statisticsReport.month_report"),value:1}]}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineRateExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(0!==t.type||t.time)if(1!==t.type||t.monthTime){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit||t.type!==this.params.type){var i=0===t.type?t.time:t.monthTime;if(0===t.type){var a=this.tableOptions.columns.findIndex(function(t){return"onlineDays"===t.key});a>-1&&this.tableOptions.columns.splice(a,1,{title:this.$t("statisticsReport.online_num"),key:"onlineNum",type:"text"})}else if(1===t.type){var n=this.tableOptions.columns.findIndex(function(t){return"onlineNum"===t.key});n>-1&&this.tableOptions.columns.splice(n,1,{title:this.$t("statisticsReport.online_day"),key:"onlineDays",type:"text"})}this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var o={vehicleIds:JSON.parse(t.vehicleIds),startTime:i?i[0]:null,endTime:i?i[1]:null,type:t.type};this.$http.post("/online/rate/report",o).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"));else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time,n=e.monthTime,o=e.type;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,s,l){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var r=1===o?n:a,c={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),type:o,startTime:r?r[0]:null,endTime:r?r[1]:null};t.$http.download("/online/rate/report/export?isToken=true",c),l()}else l()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("INMl"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"46748396",null);l.options.__file="t_4_2.vue";e.default=l.exports},n8ns:function(t,e,i){"use strict";var a=i("QW0H");i.n(a).a},oqCR:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof6of2",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",width:"130"},{title:this.$t("statisticsReport.company_name"),key:"companyName",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.reporting_time"),key:"reportingTime",type:"text",width:"160"},{title:this.$t("statisticsReport.current_mileage"),key:"mileage",type:"text",minWidth:"100",prependText:"km"},{title:this.$t("statisticsReport.sensor")+"1",key:"sensor1",type:"text",width:"100",prependText:"°C"},{title:this.$t("statisticsReport.sensor")+"2",key:"sensor2",type:"text",width:"100",prependText:"°C"},{title:this.$t("statisticsReport.sensor")+"3",key:"sensor3",type:"text",width:"100",prependText:"°C"},{title:this.$t("statisticsReport.sensor")+"4",key:"sensor4",type:"text",width:"100",prependText:"°C"},{title:this.$t("statisticsReport.sensor")+"5",key:"sensor5",type:"text",width:"100",prependText:"°C"},{title:this.$t("statisticsReport.reporting_location"),key:"location",type:"text",minWidth:"200"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("reportTemperatureDetailInfoExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/report/temperature/detailInfo",i).then(function(i){if(e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data){var a=["sensor1","sensor2","sensor3","sensor4","sensor5"];e.tableAllData=i.data,e.tableAllData.forEach(function(t){t.temperatureSensor&&JSON.parse(t.temperatureSensor).forEach(function(e,i){t[a[i]]=65535===e?"":e})}),e.initTableDataFn(t),e.tableOptions.total=i.data.length}}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/report/temperature/detailInfo/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("TJMT"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"337e6544",null);l.options.__file="t_6_3.vue";e.default=l.exports},"qk+1":function(t,e,i){},rZLH:function(t,e,i){},"t7r+":function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of4",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.period"),key:"period",type:"text",minWidth:"200"},{title:this.$t("statisticsReport.online_status"),key:"status",type:"tagText",tags:[{text:this.$t("statisticsReport.online_status_1"),value:0,option:{type:"danger"}},{text:this.$t("statisticsReport.online_status_2"),value:1,option:{type:"success"}}]},{title:this.$t("statisticsReport.duration"),key:"duration",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineDetailExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/online/offline/detail/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/online/offline/detail/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("K3l9"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"6c4dcded",null);l.options.__file="t_4_4.vue";e.default=l.exports},tKDc:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of3",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"130"},{title:this.$t("statisticsReport.total_online_time"),key:"totalOnlineTime",type:"text"},{title:this.$t("statisticsReport.total_offline_time"),key:"totalOfflineTime",type:"text"},{title:this.$t("statisticsReport.online_ratio"),key:"onlineRatio",type:"text"},{title:this.$t("statisticsReport.online_day"),key:"onlineDay",type:"text"},{title:this.$t("statisticsReport.offline_day"),key:"offlineDay",type:"text"},{title:this.$t("statisticsReport.online_rate"),key:"onlineRate",type:"text"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineSummaryExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/online/offline/summary/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/online/offline/summary/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("fjVU"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"6becbb26",null);l.options.__file="t_4_3.vue";e.default=l.exports},tbvo:function(t,e,i){"use strict";var a=i("vztb");i.n(a).a},uXvu:function(t,e,i){"use strict";i.r(e);var a={data:function(){return{}}},n=(i("78b2"),i("ZrdR")),o=Object(n.a)(a,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Tof3of1"},[e("div",{staticClass:"left-content"},[e("div",{staticClass:"search-view"})]),this._v(" "),e("div",{staticClass:"right-content"})])}],!1,null,"4117e5ee",null);o.options.__file="t_3_1.vue";e.default=o.exports},vqsV:function(t,e,i){"use strict";var a=i("BjMK");i.n(a).a},vzQH:function(t,e,i){"use strict";var a=i("Zg9d");i.n(a).a},vztb:function(t,e,i){},wUDE:function(t,e,i){"use strict";var a=i("8pzs");i.n(a).a},wYxy:function(t,e,i){},zA5D:function(t,e,i){},zJpA:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("B8wf"),o={name:"Tof4of6",components:{TableView:a.a},mixins:[n.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left",minWidth:"130"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",minWidth:"100",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180"},{title:this.$t("view.start_time"),key:"startTime",type:"text",width:"160"},{title:this.$t("view.end_time"),key:"endTime",type:"text",width:"160"},{title:this.$t("statisticsReport.acc_status"),key:"accStatusStr",type:"text",width:"120"},{title:this.$t("statisticsReport.drive_time"),key:"driveTime",type:"text",width:"120"},{title:this.$t("statisticsReport.start_position"),key:"startPosition",type:"text",minWidth:"220"},{title:this.$t("statisticsReport.end_position"),key:"endPosition",type:"text",minWidth:"220"}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[]}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("onlineAccExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/online/acc/ignition/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/online/acc/ignition/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))}}},s=(i("c6kY"),i("ZrdR")),l=Object(s.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e()},[],!1,null,"fa72abee",null);l.options.__file="t_4_6.vue";e.default=l.exports},zqbf:function(t,e,i){"use strict";i.r(e);var a=i("AlM9"),n=i("yH6C"),o=i("B8wf"),s={name:"Tof2of2",components:{TableView:a.a,initTableView:n.a},mixins:[o.default],data:function(){return{isTable:!0,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("view.license_num"),key:"licenseNum",type:"text",fixed:"left"},{title:this.$t("statisticsReport.license_color"),key:"licenseColor",type:"tag",tags:[]},{title:this.$t("statisticsReport.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"180"},{title:this.$t("statisticsReport.drive_time"),key:"driveTime",type:"text"},{title:this.$t("statisticsReport.mileage"),key:"driveMileage",type:"text"},{title:this.$t("statisticsReport.oil_loss"),key:"oilLoss",type:"text",minWidth:"90"},{title:this.$t("statisticsReport.drive_num"),key:"driveNum",type:"text"},{title:this.$t("operation.operation"),type:"operate",key:"operate",fixed:"right",width:"120",buttons:[{text:this.$t("operation.detail"),type:"text",funcName:"lookFn"}]}],buttonControls:[],searchControls:[{type:"treeSelect",key:"vehicleIds",valueKey:"vehicleId",placeholder:this.$t("view.license_num"),width:"200px",clearable:!0,treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,checkbox:!0,screenFn:{bindFn:function(t,e){return!t||-1!==e.treeName.indexOf(t)}}},treeDefinedData:this.$parent.devTreeData},{type:"daterange",key:"time",startPlaceholder:this.$t("view.start_time"),endPlaceholder:this.$t("view.end_time"),width:"280px"}],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},params:null,tableAllData:[],drawerOption:{isShow:!1},isuTable:!0,uTableHeight:330,uTableOptions:{data:[],total:0,viewTableKey:"infoTableData",columns:[{title:this.$t("view.license_num"),key:"licenseNum",type:"text"},{title:this.$t("view.start_time"),key:"startTime",type:"text"},{title:this.$t("view.end_time"),key:"endTime",type:"text"},{title:this.$t("statisticsReport.drive_time"),key:"driveTime",type:"text"},{title:this.$t("statisticsReport.mileage"),key:"driveMileage",type:"text"},{title:this.$t("statisticsReport.oil_loss"),key:"oilLoss",type:"text"},{title:this.$t("statisticsReport.start_position"),key:"startPosition",type:"text",minWidth:"200"},{title:this.$t("statisticsReport.end_position"),key:"endPosition",type:"text",minWidth:"200"}],searchControls:[],searchMode:"immediate",footerButtons:[],loading:!1}}},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("mileageVehicleExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",round:!1,icon:"el-icon-document",funcName:"exportRecord"})},getTableData:function(t){var e=this;if(t.vehicleIds)if(t.time){if(this.tableOptions.loading=!0,!this.params||this.params.page===t.page&&this.params.limit===t.limit){this.tableOptions.columns[2].tags=this.$parent.dictObj.licenseColor;var i={vehicleIds:JSON.parse(t.vehicleIds),startTime:t.time?t.time[0]:null,endTime:t.time?t.time[1]:null};this.$http.post("/mileage/vehicle/report",i).then(function(i){e.tableOptions.loading=!1,i.code===e.$config.API_STATUS.OK&&i.data&&(e.tableAllData=i.data,e.initTableDataFn(t),e.tableOptions.total=i.data.length)}).catch(function(){e.tableOptions.loading=!1})}else this.initTableDataFn(t),this.tableOptions.loading=!1;this.params=t}else this.$message.warning(this.$t("statisticsReport.tip_2"))},initTableDataFn:function(t){var e=(t.page-1)*t.limit,i=t.page*t.limit>this.tableAllData.length?this.tableAllData.length:t.page*t.limit;this.tableOptions.data=this.tableAllData.slice(e,i)},tableResponseFn:function(t,e,i){this[e.funcName].call(function(){},t,e,i)},exportRecord:function(){var t=this,e=this.$refs.table._data.searchParams,i=e.vehicleIds,a=e.time;i?this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,n,o){if(t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(i){e.key===i&&"operate"!==e.key&&(t.fieldMap[i]=e.title)})}),"confirm"===e){var s={fieldMap:t.fieldMap,vehicleIds:JSON.parse(i),startTime:a?a[0]:null,endTime:a?a[1]:null};t.$http.download("/mileage/vehicle/report/export?isToken=true",s),o()}else o()}}).catch(function(){}):this.$message.warning(this.$t("statisticsReport.tip_1"))},lookFn:function(t){var e=this,i=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.uTableOptions.data=[],this.$http.post("/mileage/vehicle/mileage/detail",{vehicleIds:[t.vehicleId],startTime:this.params.time?this.params.time[0]:null,endTime:this.params.time?this.params.time[1]:null}).then(function(t){i.close(),t.code===e.$config.API_STATUS.OK&&(e.uTableOptions.data=t.data,e.drawerOption.isShow=!0)})}}},l=(i("vzQH"),i("ZrdR")),r=Object(l.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"Tof2of2"},[t.isTable?i("table-view",{ref:"table",attrs:{center:"","id-key":"id","is-search":!0,data:t.tableOptions.data,total:t.tableOptions.total,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"footer-buttons":t.tableOptions.footerButtons,"button-controls":t.tableOptions.buttonControls,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"is-shadow":""},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:t.$t("view.index"),type:"index",align:"center",fixed:"left",width:"60"},slot:"number"})],1):t._e(),t._v(" "),i("el-drawer",{attrs:{title:"车辆里程明细",visible:t.drawerOption.isShow,direction:"btt",size:"400px"},on:{"update:visible":function(e){t.$set(t.drawerOption,"isShow",e)}}},[t.isuTable?i("init-table-view",{ref:"table",staticClass:"rtp-table",attrs:{data:t.uTableOptions.data,columns:t.uTableOptions.columns,"table-height":t.uTableHeight}}):t._e()],1)],1)},[],!1,null,"0e62725b",null);r.options.__file="t_2_2.vue";e.default=r.exports},zs7K:function(t,e,i){"use strict";var a=i("zA5D");i.n(a).a}}]);