(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d714","chunk-fb8b"],{"+FhJ":function(e,t,i){"use strict";var a=i("Rp3S");i.n(a).a},"2QmI":function(e,t,i){e.exports=i.p+"static/img/location_pic_lanchepai@2x.82e389e.png"},Rp3S:function(e,t,i){},bKGD:function(e,t,i){"use strict";i.r(t);var a=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-content"},[t("div",{staticClass:"item-license"},[t("div",{staticClass:"item-img-text"},[this._v("琼B 51444")]),this._v(" "),t("img",{attrs:{src:i("2QmI"),alt:""}})]),this._v(" "),t("div",{staticClass:"item-text"},[this._v("2210.06 km")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-content"},[t("div",{staticClass:"item-license"},[t("div",{staticClass:"item-img-text"},[this._v("琼B 51444")]),this._v(" "),t("img",{attrs:{src:i("2QmI"),alt:""}})]),this._v(" "),t("div",{staticClass:"item-text"},[this._v("2210.06 km")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"item-content"},[t("div",{staticClass:"item-license"},[t("div",{staticClass:"item-img-text"},[this._v("琼B 51444")]),this._v(" "),t("img",{attrs:{src:i("2QmI"),alt:""}})]),this._v(" "),t("div",{staticClass:"item-text"},[this._v("2210.06 km")])])}],s=i("omC7"),r=i.n(s),c=i("ABCu"),n=i("l5p/"),o=i("XpzI"),l={components:{recordsMap:n.default,recordItem:o.default,treeView:c.a},data:function(){return{searchViewObj:{isShow:!0,treeShow:!1,input:"",parking:!1,invalid:!1,supply:!1,startTime:"",endTime:""},elNorms:this.$store.getters.elNorms,searchForm:{select:null,input:"",date:null},treeObj:[],checkedKeys:[],treeViewObj:{isTree:!1,isShow:!1},carTreeViewType:"1",filterText:"",activeTreeData:null,treeData:{extendData:{},checkbox:!1,defaultProps:{motorcade:"motorcade",parentId:"parentId",status:"status",children:"children",label:"label",id:"id",count:"count"},emptyText:"暂无数据",nodeKey:"treeId",currentNodeKey:1,defaultExpandAll:!0,expandClickNode:!1,indent:16,screenFn:{bindFn:function(e,t){return!e||-1!==t.label.indexOf(e)}}},treeDefinedData:[],drawerObj:{isShow:!1}}},created:function(){this.initMultiVehicle(),this.initVehicleAllTreeList()},mounted:function(){document.querySelector(".el-select-dropdown")},methods:{initVehicleAllTreeList:function(){var e=this;this.checkedKeys=[],this.$http.get("/postion/realtime/vehicleAllTreeList").then(function(t){if(t.code===e.$config.API_STATUS.OK){var i=[{motorcades:t.data.motorcades,vehicles:t.data.vehicles}];e.treeArr(i),e.treeDefinedData=i[0].children,setTimeout(function(){e.treeViewObj.isTree=!0},400)}})},treeArr:function(e){for(var t=this,i=function(i){if(e[i].motorcades){var a=[];e[i].vehicles&&e[i].vehicles.forEach(function(s){t.checkedKeys.push("v"+s.vehicleId),a.push({motorcade:!1,parentId:e[i].vehiclePid,status:s.status,label:s.licenseNum,id:s.vehicleId,treeId:"v"+s.vehicleId})}),e[i].motorcades.forEach(function(e){!e.motorcades.length&&t.checkedKeys.push("m"+e.motorcadeId),a.push({motorcade:!0,parentId:e.parentId,status:e.status,motorcades:e.motorcades,vehicles:e.vehicles,label:e.motorcadeName,id:e.motorcadeId,count:e.count,vehiclePid:e.motorcadeId,treeId:"m"+e.motorcadeId})}),e[i].children=JSON.parse(r()(a)),t.treeArr(e[i].children),delete e[i].motorcades,delete e[i].vehicles}},a=0;a<e.length;a++)i(a)},initMultiVehicle:function(){var e=this;this.$http.get("/postion/realtime/vehicleAllTreeList").then(function(t){t.code,e.$config.API_STATUS.OK})},selectVisibleFn:function(e){},openDrawerFn:function(e){this.drawerObj.isShow=!0},getTreeData:function(e){},setTreeData:function(){var e=this;this.treeViewObj.isTree=!1,this.$nextTick(function(){e.treeViewObj.isTree=!0})},nodeClick:function(e,t){e.motorcade||(this.activeTreeData=e)}}},d=(i("xHqZ"),i("ZrdR")),p=Object(d.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-view records-replays"},[i("div",{staticClass:"records-search"},[i("el-input",{staticClass:"input-with-select",attrs:{size:e.elNorms.size,placeholder:""},model:{value:e.searchForm.input,callback:function(t){e.$set(e.searchForm,"input",t)},expression:"searchForm.input"}},[i("el-select",{attrs:{slot:"prepend",size:e.elNorms.size,placeholder:"选择车辆"},on:{"visible-change":e.selectVisibleFn},slot:"prepend",model:{value:e.searchForm.select,callback:function(t){e.$set(e.searchForm,"select",t)},expression:"searchForm.select"}})],1),e._v(" "),i("el-date-picker",{staticStyle:{"margin-right":"20px"},attrs:{size:e.elNorms.size,type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.searchForm.date,callback:function(t){e.$set(e.searchForm,"date",t)},expression:"searchForm.date"}}),e._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle}},[e._v("查询")])],1),e._v(" "),i("div",{staticClass:"records-body"},[i("div",{staticClass:"records-item",on:{click:e.openDrawerFn}},[i("div",{staticClass:"item-map"},[i("records-map",{attrs:{index:0}})],1),e._v(" "),e._m(0)]),e._v(" "),i("div",{staticClass:"records-item",on:{click:e.openDrawerFn}},[i("div",{staticClass:"item-map"},[i("records-map",{attrs:{index:1}})],1),e._v(" "),e._m(1)]),e._v(" "),i("div",{staticClass:"records-item",on:{click:e.openDrawerFn}},[i("div",{staticClass:"item-map"},[i("records-map",{attrs:{index:2}})],1),e._v(" "),e._m(2)])]),e._v(" "),i("div",{staticClass:"search-tree"},[i("i",{staticClass:"el-icon-close search-tree-close",on:{click:function(t){e.treeViewObj.isShow=!1}}}),e._v(" "),i("div",{staticClass:"input-query"},[i("el-input",{attrs:{size:e.elNorms.size,placeholder:"搜索菜单名称","prefix-icon":"el-icon-search"},model:{value:e.filterText,callback:function(t){e.filterText="string"==typeof t?t.trim():t},expression:"filterText"}},[i("template",{slot:"append"},[i("i",{staticClass:"el-icon-refresh-right",on:{click:e.setTreeData}})])],2)],1),e._v(" "),i("div",{staticClass:"body-tree init-tree"},[e.treeViewObj.isTree?i("tree-view",{ref:"tree",attrs:{"tree-data":e.treeData,"defined-data":e.treeDefinedData},on:{treeDataFn:e.getTreeData,"node-click":e.nodeClick},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticClass:"left-title text-ellipsis",style:e.activeTreeData&&t.data.data.id===e.activeTreeData.id?"color: var(--main-primary);":""},[!1===t.data.data.motorcade&&t.data.data.online?i("i",{staticClass:"iconfont Jamin_location_icon_che-lv",staticStyle:{color:"var(--main-success)"}}):!1===t.data.data.motorcade?i("i",{staticClass:"iconfont Jamin_location_icon_che-lv"}):!0===t.data.data.motorcade?i("i",{staticClass:"iconfont Jamin_vehicle_icon_xiaowenjian"}):e._e(),e._v("\n            "+e._s(t.data.data.label)+"\n          ")])]}}])}):e._e()],1)]),e._v(" "),i("el-drawer",{attrs:{title:"车辆轨迹",size:"100%",direction:"btt",visible:e.drawerObj.isShow,"wrapper-closable":!1},on:{"update:visible":function(t){e.$set(e.drawerObj,"isShow",t)}}},[i("div",{staticClass:"records-drawer-body"},[i("recordItem",{ref:"_record_item",attrs:{"is-child":!0}})],1)])],1)},a,!1,null,"86407ce4",null);p.options.__file="records-replays.vue";t.default=p.exports},"l5p/":function(e,t,i){"use strict";i.r(t);var a={props:{index:{type:Number,default:0}},data:function(){return{mapLoadingStyle:"background-color: #ebebeb;",mapId:"amap-container_"+this.index,AMapGL:null,gapdeMap:null,carMarker:null,polyline:null,passedPolyline:null,locusData:[[113.910322,22.575008],[113.910762,22.574592],[113.911438,22.575206],[113.912372,22.575984],[113.913268,22.576747],[113.914099,22.577465],[113.914099,22.577465],[113.914099,22.577465],[113.914099,22.577465],[113.914968,22.578248],[113.915596,22.578793],[113.915596,22.578793],[113.916872,22.579838],[113.91801,22.580828],[113.918761,22.581487],[113.919426,22.581314],[113.920252,22.580482],[113.921132,22.579615],[113.921845,22.578906],[113.921845,22.578906],[113.922897,22.577846],[113.923583,22.577153],[113.92435,22.5764],[113.924871,22.575845],[113.925461,22.575251],[113.926003,22.574686],[113.926727,22.574567],[113.927151,22.575573],[113.927676,22.576133],[113.92832,22.576147],[113.928599,22.575479]]}},created:function(){},mounted:function(){this.createAMap(),this.createCarMarkerFn(),this.createLocusFn(),this.setFitView()},methods:{createAMap:function(){var e=this;e.AMapGL=AMap,e.AMapGL.plugin("AMap.MoveAnimation",function(){e.gapdeMap=new e.AMapGL.Map(e.mapId,{resizeEnable:!0,center:[105.389814,38.311781],zoom:4,rotation:-.7908261543741522,viewMode:"3D",buildingAnimation:!0})})},createCarMarkerFn:function(){this.carMarker=new this.AMapGL.Marker({map:this.gapdeMap,position:[113.910322,22.575008],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",offset:new this.AMapGL.Pixel(-13,-26)})},createLocusFn:function(){this.polyline=new this.AMapGL.Polyline({map:this.gapdeMap,path:this.locusData,showDir:!0,strokeColor:"#409EFF",strokeOpacity:1,strokeWeight:10,strokeStyle:"solid"}),this.passedPolyline=new this.AMapGL.Polyline({map:this.gapdeMap,strokeColor:"#67C23A",strokeOpacity:0,strokeWeight:8})},setFitView:function(){this.gapdeMap.setFitView()}}},s=(i("+FhJ"),i("ZrdR")),r=Object(s.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"records-item-map"},[t("div",{staticClass:"amap-page",attrs:{id:this.mapId}}),this._v(" "),t("div",{staticClass:"map-mask"})])},[],!1,null,null,null);r.options.__file="records-item-map.vue";t.default=r.exports},wq8g:function(e,t,i){},xHqZ:function(e,t,i){"use strict";var a=i("wq8g");i.n(a).a}}]);