(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4bb0","NVOe"],{B8Zj:function(e,t,s){},LehH:function(e,t,s){"use strict";s.r(t);var a=s("unDg"),i=s.n(a),n=s("cLjf"),r=s.n(n),o=s("hDQ3"),l=s.n(o),c=s("omC7"),u=s.n(c),d=s("AlM9"),h=s("BHIJ"),p=s("kDn8"),m=s("NVOe"),f={components:{TableView:d.a,drawer:h.a,dialogDesign:p.a},mixins:[m.default],data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()}},treeLoading:!1,props:{motorcade:"motorcade",parentId:"parentId",status:"status",children:"children",label:"label",id:"id",count:"count"},userId:"",resetMenus:[],userMenus:[],flag:null,checkedKeys:[],fieldMap:{},drawerplay:!1,direction:"rtl",drawerTitle:"",drawerWidth:"700px",user:{username:"",account:""},companyTreeData:[],roleList:[],dialogDisplay:!1,drawerDisplay:!1,drawerData:{},alias:{pageSize:"pageSize",pageNum:"pageNum"},isTable:!0,isSearch:!1,tableOptions:{data:[],total:0,columns:[{type:"slot",name:"number",title:"序号"},{title:this.$t("userPage.login_account"),key:"username",type:"text"},{title:this.$t("userPage.name"),key:"account",type:"text"},{title:this.$t("userPage.user_role"),key:"roleName",type:"text"},{title:this.$t("userPage.owned_customer"),key:"companyName",type:"text"},{title:this.$t("userPage.expire_date"),key:"timeoutAt",type:"text"},{title:this.$t("userPage.status"),key:"status",type:"tag",tags:[{value:1,text:this.$t("userPage.search_3_status_1")},{value:0,text:this.$t("userPage.search_3_status_2"),option:{type:"warning"}},{value:2,text:this.$t("userPage.search_3_status_3"),option:{type:"danger"}}]},{title:this.$t("userPage.vehicles_total"),key:"vehicleTotal",type:"text"},{title:this.$t("userPage.creation_time"),key:"createTime",type:"text"},{title:this.$t("operation.operation"),type:"operate",key:"operate",fixed:"right",width:"200",buttons:[]}],buttonControls:[],searchControls:[{type:"input",key:"username",placeholder:this.$t("userPage.search_1"),width:"200px",size:"small"},{type:"treeSelect",key:"companyId",valueKey:"companyId",placeholder:this.$t("userPage.search_2"),width:"200px",treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},treeDefinedData:[]},{type:"select",key:"status",placeholder:this.$t("userPage.search_3"),width:"200px",size:"small",clearable:!0,options:[{name:this.$t("userPage.search_3_status_1"),value:1},{name:this.$t("userPage.search_3_status_2"),value:0},{name:this.$t("userPage.search_3_status_3"),value:2}]}],footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1}}},computed:{},watch:{},created:function(){this.getCompanyTreeDataFn()},mounted:function(){},methods:{handlePermissionShow:function(){this.tableOptions.buttonControls=[],this.isPermissionShow("userCreate")&&this.tableOptions.buttonControls.push({text:this.$t("userPage.table_button_1"),type:"primary",funcName:"increase"}),this.isPermissionShow("userExport")&&this.tableOptions.buttonControls.push({text:this.$t("operation.export_record"),type:"null",funcName:"export",dataStatus:!0}),this.tableOptions.footerButtons=[],this.isPermissionShow("userUpdate")&&this.tableOptions.footerButtons.push({text:this.$t("operation.enable"),type:"",icon:"el-icon-switch-button",funcName:"enable"}),this.isPermissionShow("userUpdate")&&this.tableOptions.footerButtons.push({text:this.$t("operation.prohibit"),type:"danger",icon:"el-icon-remove-outline",funcName:"disable"}),this.isPermissionShow("userDelete")&&this.tableOptions.footerButtons.push({text:this.$t("operation.delete"),type:"danger",icon:"el-icon-delete",funcName:"delete"});var e=this.tableOptions.columns.findIndex(function(e){return"operate"===e.key});e>-1&&(this.tableOptions.columns[e].buttons=[]),e>-1&&this.isPermissionShow("userUpdate")&&this.tableOptions.columns[e].buttons.push({text:this.$t("operation.edit"),type:"text",size:"mini",funcName:"edit"}),e>-1&&this.isPermissionShow("userVehicle")&&this.tableOptions.columns[e].buttons.push({text:this.$t("userPage.table_button_8"),type:"text",size:"mini",funcName:"vehicleAuthorization",condition:{key:"roleId",value:[1,2],compareUnequal:!0}}),e>-1&&this.isPermissionShow("userReset")&&this.tableOptions.columns[e].buttons.push({text:this.$t("userPage.table_button_9"),type:"text",size:"mini",funcName:"reset"})},getCompanyTreeDataFn:function(){var e=this;this.$http.get("/company/treeList/userManagement").then(function(t){t.code===e.$config.API_STATUS.OK&&(e.companyTreeData=t.data,e.tableOptions.searchControls[1].treeDefinedData=t.data,e.isSearch=!0,e.isTable=!1,e.$nextTick(function(){e.isTable=!0}))})},click:function(e,t){this.$refs.trees.setCurrentKey(e.treeId),this.$refs._user_tree.setCurrentKey(e.treeId)},switchs:function(e,t){var s=this;t.motorcade&&(t.children.find(function(e){return!0===e.motorcade})||t.children.forEach(function(e){s.$refs.trees.setChecked(e,!1,!1)}));this.$refs.trees.setChecked(t,!1,!1),this.CheckedKeyFn()},treeList:function(e){var t=this;this.flag=!1,this.checkedKeys=[],this.treeLoading=!0,this.$http.get("/user/list/vehicle?userId="+e).then(function(e){if(e.code===t.$config.API_STATUS.OK){var s=[{motorcades:e.data.motorcades,vehicles:e.data.vehicles}];t.treeArr(s),t.resetMenus=s[0].children}t.userTreeList(t.userId),t.treeLoading=!1})},userTreeList:function(e){var t=this;this.flag=!0,this.checkedKeys=[],this.$http.get("/user/list/vehicle/authorized?userId="+e).then(function(e){if(e.code===t.$config.API_STATUS.OK){var s=[{motorcades:e.data.motorcades,vehicles:e.data.vehicles}];t.treeArr(s),t.userMenus=s[0].children,t.$refs.trees.setCheckedKeys(t.checkedKeys)}})},treeArr:function(e){for(var t=this,s=function(s){if(e[s].motorcades){var a=[];e[s].vehicles&&e[s].vehicles.forEach(function(i){t.flag&&t.checkedKeys.push("v"+i.vehicleId),a.push({motorcade:!1,parentId:e[s].vehiclePid,status:i.status,label:i.licenseNum,id:i.vehicleId,treeId:"v"+i.vehicleId})}),e[s].motorcades.forEach(function(e){t.flag&&!e.motorcades.length&&!e.vehicles.length&&t.checkedKeys.push("m"+e.motorcadeId),a.push({motorcade:!0,parentId:e.parentId,status:e.status,motorcades:e.motorcades,vehicles:e.vehicles,label:e.motorcadeName,id:e.motorcadeId,count:e.count,vehiclePid:e.motorcadeId,treeId:"m"+e.motorcadeId})}),e[s].children=JSON.parse(u()(a)),t.treeArr(e[s].children),delete e[s].motorcades,delete e[s].vehicles}},a=0;a<e.length;a++)s(a)},CheckedKeyFn:function(e,t){this.userMenus=[],this.createCheckedTreeFn(this.$refs.trees._data.root.childNodes)},createCheckedTreeFn:function(e){for(var t=0;t<e.length;t++){var s=e[t];if(s.checked){if(!s.data.motorcade){var a=this.$refs.trees.getNode("m"+s.data.parentId),i=this.forNodeFilterFn(a);i&&this.userMenus.push(i);break}this.userMenus.push(s.data)}else s.childNodes&&s.childNodes.length&&this.createCheckedTreeFn(s.childNodes)}},forNodeFilterFn:function(e){var t=this,s=[],a=null;return e.childNodes.forEach(function(e){if(e.checked)s.push(e.data);else if(e.childNodes&&e.childNodes.length){var a=t.forNodeFilterFn(e);a&&s.push(a)}}),s.length&&((a=JSON.parse(u()(e.data))).children=s),a},addUserData:function(){},getTableData:function(e){var t=this;this.isSearch&&(this.tableOptions.loading=!0,this.$http.post("/user/list?pageNum="+e.pageNum+"&pageSize="+e.pageSize,e).then(function(e){e.code===t.$config.API_STATUS.OK?(t.tableOptions.data=e.data.list,t.tableOptions.total=e.data.total):(t.tableOptions.data=[],t.tableOptions.total=0),t.tableOptions.loading=!1}).catch(function(){t.tableOptions.data=[],t.tableOptions.total=0,t.tableOptions.loading=!1}))},companyChangeFn:function(e){var t=this,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.$http.get("/role/treeList/"+e).then(function(e){if(t.roleList=[],e.code===t.$config.API_STATUS.OK&&(e.data.forEach(function(e){e.label=e.name}),t.roleList=e.data,s&&t.$set(t.$refs.drawer.formData,"roleId",null)),-1===t.$store.getters.userData.userType){var a=t.drawerData.formList.findIndex(function(e){return"roleId"===e.key});a>-1&&t.$set(t.drawerData.formList[a],"treeDefinedData",t.roleList)}else{var i=t.drawerData.formList.findIndex(function(e){return"roleId"===e.key});i>-1&&t.$set(t.drawerData.formList[i],"treeDefinedData",t.roleList.filter(function(e){return e.value>4}))}})},tableResponseFn:function(e,t,s){this[t.funcName].call(function(){},e,t,s)},increase:function(){var e=this,t=this.$store.getters.userData;this.drawerDisplay=!0,this.drawerData={staticData:{companyId:t.companyId},isShow:!0,title:this.$t("userPage.table_button_1"),titleWidth:"150",data:{},defaultData:"",submitAction:"/user/create",btnAlign:"center",formList:[{title:this.$t("userPage.owned_customer"),type:"treeSelect",key:"companyId",valueKey:"companyId",offsetWidth:"320",label:t.companyName||this.$t("view.null"),treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},options:{type:"default",list:this.companyTreeData},treeDefinedData:this.companyTreeData,rules:[{required:!0,message:this.$t("userPage.form_rule_message_4"),trigger:"blur"}],handlerCallback:{funcName:"companyChangeFn",target:"clickFunction"}},{title:this.$t("userPage.login_account"),type:"input",offsetWidth:"320",key:"username",placeholder:this.$t("companyPage.account_placeholder"),rules:[{required:!0,message:this.$t("companyPage.account_placeholder_1"),trigger:"blur"},{min:4,max:20,message:this.$t("companyPage.account_placeholder_2"),trigger:"blur"}]},{title:this.$t("userPage.login_password"),type:"input",offsetWidth:"320",key:"password",placeholder:this.$t("companyPage.form_add_password_placeholder"),rules:[{required:!0,message:this.$t("companyPage.form_add_password_placeholder_1"),trigger:"blur"},{validator:function(t,s,a){s.length<6||s.length>20?a(new Error(e.$t("companyPage.control_input_tip"))):/^[a-z0-9]+$/i.test(s)?a():a(new Error(e.$t("companyPage.control_input_tip_1")))},trigger:"blur"}]},{title:this.$t("userPage.username"),type:"input",offsetWidth:"320",key:"account",rules:[{required:!0,message:this.$t("userPage.form_rule_message_6"),trigger:"blur"}]},{title:this.$t("userPage.role_permissions"),type:"treeSelect",key:"roleId",valueKey:"roleId",offsetWidth:"320",label:this.$t("view.null"),treeOption:{defaultProps:{children:"sysRoles",label:"name"},nodeKey:"name",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},treeDefinedData:this.roleList,rules:[{required:!0,message:this.$t("userPage.form_rule_message_7"),trigger:"blur"}]},{title:this.$t("userPage.user_level"),type:"select",key:"level",offsetWidth:"320",filterable:!0,values:1,options:{type:"default",list:[{name:"1（Low）",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5（High）",value:5}]},rules:[{required:!0,message:this.$t("userPage.form_rule_message_8"),trigger:"blur"}]},{title:this.$t("userPage.cellphone_number"),type:"input",offsetWidth:"320",key:"phone"},{title:this.$t("userPage.sign_in"),type:"select",key:"isSingle",values:0,offsetWidth:"320",options:{type:"default",list:[{name:this.$t("view.yes"),value:1},{name:this.$t("view.no"),value:0}]}},{title:this.$t("userPage.change_password"),type:"select",key:"resetPassword",values:1,offsetWidth:"320",options:{type:"default",list:[{name:this.$t("userPage.change_password_status_true"),value:1},{name:this.$t("userPage.change_password_status_false"),value:0}]}},{title:this.$t("userPage.expire_date"),type:"dateSelect",valueFormat:"yyyy-MM-dd",offsetWidth:"320",key:"timeoutAt",pickerOptions:this.pickerOptions,placeholder:this.$t("companyPage.form_add_timeoutAt_placeholder")},{title:this.$t("userPage.e_mail"),type:"input",offsetWidth:"320",key:"email"}],formButton:[{name:this.$t("confirm.determine"),type:"confirm",class:"primary"},{name:this.$t("confirm.cancel"),type:"cancel",class:""}],message:{type:"success",message:this.$t("confirm.message")}}},export:function(e){var t=this;this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),closeOnClickModal:!1,beforeClose:function(e,s,a){t.fieldMap={},t.tableOptions.columns.forEach(function(e){t.$refs.table.columnCheckList.forEach(function(s){e.key===s&&"operate"!==e.key&&(t.fieldMap[s]=e.title)})});var i=t.params,n=i.username,r=i.companyId,o=i.status;if("confirm"===e){var l={fieldMap:t.fieldMap,username:n,companyId:r,status:o};t.tableOptions.total<t.$store.getters.userData.realtimeVideoUrl?t.$http.download("/user/export?isToken=true",l):t.$http.post("/user/export/async",l),a()}else a()}}).catch(function(){})},enable:function(e){var t=this;this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel")}).then(function(){var s=[];e.forEach(function(e,t){s[t]=e.userId}),t.$http.deleteApi("/user/status",{ids:s.join(","),status:1}).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.$refs.table.initRequestTableData(),t.$message({message:e.message,type:"success"}))})})},disable:function(e){var t=this;this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),type:"warning"}).then(function(){var s=[];e.forEach(function(e,t){s[t]=e.userId}),t.$http.deleteApi("/user/status",{ids:s.join(","),status:0}).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.$refs.table.initRequestTableData(),t.$message({message:e.message,type:"success"}))})})},delete:function(e){var t=this;this.$confirm(this.$t("confirm.content"),this.$t("confirm.title"),{confirmButtonText:this.$t("confirm.determine"),cancelButtonText:this.$t("confirm.cancel"),type:"warning"}).then(function(){var s=[];e.forEach(function(e,t){s[t]=e.userId}),t.$http.deleteApi("/user/delete",{ids:s.join(",")}).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.$refs.table.initRequestTableData(),t.$message({message:e.message,type:"success"}))})})},signIn:function(e){this.$message.warning("此功能暂不开放")},edit:function(e){var t=this;return l()(r.a.mark(function s(){return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:t.drawerDisplay=!0,t.drawerData={staticData:e,isShow:!0,title:t.$t("userPage.edit_user"),titleWidth:"150",data:{},defaultData:"",submitAction:"/user/update/"+e.userId,btnAlign:"center",formList:[{title:t.$t("userPage.owned_customer"),type:"treeSelect",key:"companyId",valueKey:"companyId",offsetWidth:"320",label:e.companyName,treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},treeDefinedData:t.companyTreeData,rules:[{required:!0,message:t.$t("userPage.form_rule_message_4"),trigger:"blur"}],handlerCallback:{funcName:"companyChangeFn",target:"clickFunction"}},{title:t.$t("userPage.login_account"),type:"input",offsetWidth:"320",key:"username",disabled:!0},{title:t.$t("userPage.username"),type:"input",key:"account",offsetWidth:"320",rules:[{required:!0,message:t.$t("userPage.form_rule_message_6"),trigger:"blur"}]},{title:t.$t("userPage.role_permissions"),type:"treeSelect",key:"roleId",valueKey:"roleId",offsetWidth:"320",label:e.roleName,treeOption:{defaultProps:{children:"sysRoles",label:"name"},nodeKey:"name",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}},treeDefinedData:t.roleList,rules:[{required:!0,message:t.$t("userPage.form_rule_message_7"),trigger:"blur"}]},{title:t.$t("userPage.user_level"),type:"select",key:"level",offsetWidth:"320",filterable:!0,values:1,options:{type:"default",list:[{name:"1（Low）",value:1},{name:"2",value:2},{name:"3",value:3},{name:"4",value:4},{name:"5（High）",value:5}]},rules:[{required:!0,message:t.$t("userPage.form_rule_message_8"),trigger:"blur"}]},{title:t.$t("userPage.cellphone_number"),type:"input",offsetWidth:"320",key:"phone"},{title:t.$t("userPage.sign_in"),type:"select",key:"isSingle",offsetWidth:"320",options:{type:"default",list:[{name:t.$t("view.yes"),value:1},{name:t.$t("view.no"),value:0}]}},{title:t.$t("userPage.change_password"),type:"select",key:"resetPassword",offsetWidth:"320",options:{type:"default",list:[{name:t.$t("userPage.change_password_status_true"),value:1},{name:t.$t("userPage.change_password_status_false"),value:0}]}},{title:t.$t("userPage.expire_date"),type:"dateSelect",valueFormat:"yyyy-MM-dd",offsetWidth:"320",key:"timeoutAt",pickerOptions:t.pickerOptions},{title:t.$t("userPage.e_mail"),type:"input",offsetWidth:"320",key:"email"}],formButton:[{name:t.$t("confirm.determine"),type:"confirm",class:"primary"},{name:t.$t("confirm.cancel"),type:"cancel",class:""}],message:{type:"success",message:t.$t("confirm.message")}},e.companyId&&t.$nextTick(function(){t.companyChangeFn(e.companyId,!1)});case 4:case"end":return s.stop()}},s,t)}))()},vehicleAuthorization:function(e){e.username&&(this.user.username=e.username),e.account&&(this.user.account=e.account),this.userId=e.userId,this.treeList(this.userId),this.drawerWidth="700px",this.drawerTitle=this.$t("userPage.table_button_8"),this.drawerplay=!0},submitFn:function(){var e=this,t=this.treeCountFn(this.$refs._user_tree._data.root.childNodes,!0);this.$http.post("/user/vehicle/"+this.userId,t).then(function(t){t.code===e.$config.API_STATUS.OK&&(e.$message.success(e.$t("confirm.message")),e.drawerplay=!1,e.$refs.table.emitRequestTableData())})},treeCountFn:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=[],n=[];return e.forEach(function(e){if(e.data.motorcade){if(a.push({parentId:s?0:e.data.parentId,motorcadeId:e.data.id}),e.childNodes&&e.childNodes.length){var r=t.treeCountFn(e.childNodes);a=[].concat(i()(a),i()(r.authorizedMotorcades)),n=[].concat(i()(n),i()(r.vehicles))}}else n.push({parentId:e.data.parentId,vehicleId:e.data.id})}),{authorizedMotorcades:a,vehicles:n}},permissionSetting:function(e){},reset:function(e){var t=this;this.dialogData={isClickClose:!1,staticData:null,isDialogDisplay:!0,title:this.$t("userPage.table_button_9"),mainWidth:"500",titleWidth:"120",submitAction:"/user/reset/"+e.userId,btnAlign:"center",formList:[{title:this.$t("userPage.new_pass"),type:"input",offsetWidth:"320",key:"password",rules:[{required:!0,message:this.$t("userPage.form_rule_message_3"),trigger:"blur"},{validator:function(e,s,a){s.length<6||s.length>20?a(new Error(t.$t("userPage.form_rule_message_1"))):a()},trigger:"blur"}]}],formButton:[{name:this.$t("confirm.determine"),type:"confirm",class:"primary",round:!1},{name:this.$t("confirm.cancel"),type:"cancel",class:"",round:!1}]},this.dialogDisplay=!0},diaClose:function(e){this.drawerDisplay=!1,this.dialogDisplay=!1,e&&this.$refs.table.emitRequestTableData()},drawerCallback:function(e,t,s,a){this[e.handlerCallback.funcName].call(function(){},t,s,a)}}},g=(s("a/IZ"),s("ZrdR")),y=Object(g.a)(f,function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isPermissionShow("userList")?s("div",{staticClass:"userAccount"},[e.isTable?s("table-view",{ref:"table",attrs:{center:"","id-key":"userId","is-search":!0,"check-memory":!0,data:e.tableOptions.data,total:e.tableOptions.total,columns:e.tableOptions.columns,"search-controls":e.tableOptions.searchControls,"footer-buttons":e.tableOptions.footerButtons,"button-controls":e.tableOptions.buttonControls,"pagination-layout":e.tableOptions.paginationLayout,loading:e.tableOptions.loading,checked:"","is-shadow":"",alias:e.alias},on:{requestTableData:e.getTableData,handleCallback:e.tableResponseFn}},[s("el-table-column",{attrs:{slot:"number",label:e.$t("view.index"),type:"index",align:"center",width:"60"},slot:"number"})],1):e._e(),e._v(" "),e.drawerDisplay?s("drawer",{ref:"drawer",attrs:{size:"small","drawer-data":e.drawerData},on:{diaClose:e.diaClose,handlerCallback:e.drawerCallback}}):e._e(),e._v(" "),e.dialogDisplay?s("dialog-design",{ref:"_dialog_design",attrs:{size:"mini",color:"primary","dialog-data":e.dialogData},on:{diaClose:e.diaClose}}):e._e(),e._v(" "),s("el-drawer",{attrs:{title:e.drawerTitle,visible:e.drawerplay,direction:e.direction,size:e.drawerWidth,"wrapper-closable":!1},on:{"update:visible":function(t){e.drawerplay=t}}},[e.drawerplay?s("div",{staticClass:"uploadDialogClass"},[s("div",{staticClass:"user"},[s("span",[e._v(e._s(e.$t("userPage.login_account"))+":  "+e._s(e.user.username))]),e._v(" "),s("span",[e._v(e._s(e.$t("userPage.name"))+":  "+e._s(e.user.account))])]),e._v(" "),s("div",{staticClass:"tree_box"},[s("div",{staticClass:"tree_item"},[s("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.treeLoading,expression:"treeLoading"}],ref:"trees",attrs:{data:e.resetMenus,"show-checkbox":"","node-key":"treeId","default-checked-keys":e.checkedKeys,"default-expand-all":!0,props:e.props},on:{check:e.CheckedKeyFn,"node-click":e.click},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return s("span",{staticClass:"custom-tree-node"},[!0===i.motorcade?s("span",[s("i",{staticClass:"iconfont Jamin_vehicle_icon_dawenjianjia p-c"}),e._v("\n                "+e._s(a.label)+"\n              ")]):e._e(),e._v(" "),!1===i.motorcade?s("span",[s("i",{staticClass:"iconfont Jamin_location_icon_che-lan iconTxt p-s"}),e._v("\n                "+e._s(a.label)+"\n              ")]):e._e()])}}])})],1),e._v(" "),s("div",{staticClass:"tree_item"},[s("el-tree",{ref:"_user_tree",attrs:{data:e.userMenus,"node-key":"treeId","default-expand-all":!0,props:e.props},on:{check:e.CheckedKeyFn,"node-click":e.click},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,i=t.data;return s("span",{staticClass:"custom-tree-node"},[!0===i.motorcade?s("span",[s("span",[s("i",{staticClass:"iconfont Jamin_vehicle_icon_dawenjianjia p-c"}),e._v("\n                  "+e._s(a.label)+"\n                ")]),e._v(" "),s("span",{staticClass:"right-box"},[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.switchs(a,i)}}},[e._v("\n                    "+e._s(e.$t("userPage.table_button_5"))+"\n                  ")])],1)]):e._e(),e._v(" "),!1===i.motorcade?s("span",[s("span",[s("i",{staticClass:"iconfont Jamin_location_icon_che-lan iconTxt p-s"}),e._v("\n                  "+e._s(a.label)+"\n                ")]),e._v(" "),s("span",{staticClass:"right-box"},[s("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.switchs(a,i)}}},[e._v("\n                    "+e._s(e.$t("userPage.table_button_5"))+"\n                  ")])],1)]):e._e()])}}])})],1)])]):e._e(),e._v(" "),s("div",{staticClass:"footBtn"},[s("el-button",{attrs:{type:"primary"},on:{click:e.submitFn}},[e._v(e._s(e.$t("confirm.determine")))]),e._v(" "),s("el-button",{on:{click:function(t){e.drawerplay=!1}}},[e._v(e._s(e.$t("confirm.cancel")))])],1)])],1):e._e()},[],!1,null,"cba9c3a8",null);y.options.__file="userAccount.vue";t.default=y.exports},NVOe:function(e,t,s){"use strict";s.r(t);var a=s("bS4n"),i=s.n(a),n=s("8t5x");t.default={data:function(){return{permissionList:{userList:"/user/list",userCreate:"/user/create",userExport:"/user/export",userUpdate:"/user/update/**",userVehicle:"/user/vehicle/**",userReset:"/user/reset/**",userStatus:"/user/status",userDelete:"/user/delete",userListOnline:"/user/list/online",userOffline:"/user/offline/**/**",roleTreeList:"/role/treeList",roleCreate:"/role/create",roleUpdate:"/role/update",roleDelete:"/role/delete",roleAllocMenuAndPerm:"/role/allocMenuAndPerm",roleUpdateUserRole:"/role/updateUserRole",logListOperate:"/log/list/operate",logOperateExport:"/log/operate/export",logListLogin:"/log/list/login",logLoginExport:"/log/login/export",logListEquipment:"/log/list/equipment",logEquipmentExport:"/log/equipment/export"}}},computed:i()({},Object(n.b)(["permsData"]),{isAdministrator:function(){return[-1,-2].includes(Number(this.$store.getters.userData.userType))}}),watch:{permsData:{handler:function(){this.handlePermissionShow&&this.handlePermissionShow()},immediate:!0}},methods:{isPermissionShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.isAdministrator||this.permsData.includes(this.permissionList[e])}}}},"a/IZ":function(e,t,s){"use strict";var a=s("B8Zj");s.n(a).a}}]);