(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0d98","chunk-5344","chunk-6a66","iCa3"],{"/4Vg":function(t,e,a){t.exports=a.p+"static/img/replay_icon_beisu.bd12562.png"},"2itw":function(t,e,a){t.exports=a.p+"static/img/car.4c92cbc.png"},"9Xbp":function(t,e,a){},AVAr:function(t,e,a){"use strict";a.r(e);var i=a("omC7"),s=a.n(i),n={data:function(){return{Microsoft:null,BingMap:null,map:null,zoom:4}},mounted:function(){var t=this,e=this;try{e.Microsoft=Microsoft||null,e.Microsoft&&this.createBaiduMap()}catch(a){e.requestTime=setInterval(function(){e.Microsoft&&(e.Microsoft&&t.createBaiduMap(),clearInterval(e.requestTime),e.requestTime=null)},1e3)}},beforeDestroy:function(){},methods:{createBaiduMap:function(){this.map=new this.Microsoft.Maps.Map(document.getElementById("bing-container"),{center:new this.Microsoft.Maps.Location(39.915115,106.403963),zoom:this.zoom}),this.map.setOptions({showDashboard:!1}),this.Microsoft.Maps.loadModule("Microsoft.Maps.Clustering"),this.bingMapAddEventFn()},mapEnlargeFn:function(){this.zoom<20&&(this.zoom++,this.map.setView({zoom:this.zoom}))},mapNarrowFn:function(){this.zoom>3&&(this.zoom--,this.map.setView({zoom:this.zoom}))},bingMapAddEventFn:function(){var t=this;t.Microsoft.Maps.Events.addHandler(t.map,"viewchangeend",function(){t.zoom=t.map.getZoom()})},createCarMarkerFn:function(){this.locusData=JSON.parse(s()(this.$parent.locusData))}}},o=(a("WT//"),a("ZrdR")),c=Object(o.a)(n,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"record-bing-map",attrs:{id:"_record_bing_map"}},[e("div",{attrs:{id:"bing-container"}}),this._v(" "),e("div",{staticClass:"zoom-control"},[e("div",{staticClass:"zoom-enlarge",on:{click:this.mapEnlargeFn}},[this._v("+")]),this._v(" "),e("div",{staticClass:"zoom-narrow",on:{click:this.mapNarrowFn}},[this._v("-")])])])},[],!1,null,"bd1347a2",null);c.options.__file="record-bing.vue";e.default=c.exports},MIbw:function(t,e,a){"use strict";var i=a("zr80");a.n(i).a},T7sc:function(t,e,a){"use strict";var i=a("9Xbp");a.n(i).a},"W+yS":function(t,e,a){},"WT//":function(t,e,a){"use strict";var i=a("W+yS");a.n(i).a},XpzI:function(t,e,a){"use strict";a.r(e);var i=a("cLjf"),s=a.n(i),n=a("bS4n"),o=a.n(n),c=a("omC7"),l=a.n(c),r=a("hDQ3"),d=a.n(r),p=a("6ZY3"),h=a.n(p),v=a("ABCu"),m=a("yH6C"),u=a("XVnh"),f=a("vRT2"),_=a("AVAr"),b=a("iCa3"),w=a("aprb"),g=a("MfIo"),y=a("Kx3r"),T={components:{treeView:v.a,initTableView:m.a,recordAmap:f.default,recordBing:_.default,notPerm:u.a},mixins:[b.default],props:{isChild:{type:Boolean,default:!1},activeData:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,elNorms:this.$store.getters.elNorms,activeMap:"_amap_map_view",mapSelect:[{label:this.$t("view.amap_map"),value:"_amap_map_view"},{label:this.$t("view.bing_map"),value:"_bing_map_view"}],searchViewObj:{isShow:!0,treeShow:!1,input:"",parking:!1,invalid:!1,supply:!1,startTime:Object(g.d)(new Date,"yyyy-MM-dd")+" 00:00:00",endTime:Object(g.d)(new Date,"yyyy-MM-dd")+" 23:59:59"},timePicker:{disabledDate:function(t){var e=new Date(t).getTime(),a=Object(g.d)(new Date,"yyyy-MM-dd");return e>new Date(a+" 23:59:59").getTime()}},treeObj:[],checkedKeys:[],treeViewObj:{isTree:!0,isShow:!1},carTreeViewType:"1",filterText:"",activeTreeData:null,treeData:{extendData:{},checkbox:!1,defaultProps:{motorcade:"motorcade",parentId:"parentId",status:"status",children:"children",label:"label",id:"id",count:"count"},nodeKey:"treeId",currentNodeKey:1,defaultExpandAll:!0,expandClickNode:!1,indent:16,screenFn:{bindFn:function(t,e){return!t||-1!==e.label.indexOf(t)}}},treeDefinedData:[],allTreeData:[],followTreeData:[],carInfoObj:{isShow:!1,extendShow:!1,playStatus:"stop",slider:0,speed:1e3,multiple:1,lineStatus:!0,iconStatus:!0,lineWidth:8,lineOpacity:.9},locusData:[],viewConfig:{bottom:!1},isTable:!1,tableViewType:"1",tableOptions:{data:[],total:0,idKey:"positioningTime",viewTableKey:"trackTableData",columns:[],headerButton:[{type:"icon",icon:"iconfont Jamin_location_icon_gb1",funcName:"clearTableFn"},{type:"icon",icon:"iconfont Jamin_location_icon_xiazai1",funcName:"downloadTableFn"}],searchControls:[],searchMode:"immediate",footerButtons:[],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},trackTableData:[],alarmTableData:[],tableHeight:200,isReadOnly:!1,alarmSelect:[],licenseColorSelect:[],autoPlayOption:{status:!1,vehicleId:this.$route.params.vehicleId,data:null}}},watch:{activeTreeData:function(t){t?this.searchViewObj.input=t.label:(this.searchViewObj.input="",this.carInfoObj.isShow=!1)},filterText:function(t){this.$refs.tree.$refs.sonTree.filter(t)}},created:function(){this.getAlarmDataFn(),this.setTreeData(),this.initVehicleAllTreeList(),this.getDictFn(),this.$store.getters.polylineConfig&&(this.carInfoObj=h()(this.carInfoObj,this.$store.getters.polylineConfig)),this.$route.params&&this.$route.params.vehicleId&&(this.autoPlayOption={status:!0,vehicleId:this.$route.params.vehicleId})},mounted:function(){this.getTableHeight()},methods:{getAlarmDataFn:function(){var t=this;this.$http.get("/alarm/setting/type/list",{alarmType:0}).then(function(e){e.code===t.$config.API_STATUS.OK&&(t.alarmSelect=[],e.data.forEach(function(e){t.alarmSelect.push({text:e.typeName,value:e.typeCode}),e.children.forEach(function(e){t.alarmSelect.push({text:e.typeName,value:e.typeCode})})}))})},getTableHeight:function(){var t=this;this.$nextTick(function(){t.tableHeight=t.$refs._record_replays.offsetHeight/3.5})},activeVehicle:function(){var t=this;return d()(s.a.mark(function e(){var a,i,n,c,r,d,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isReadOnly=!0,t.activeTreeData=null,t.$refs[t.activeMap]&&t.$refs[t.activeMap].clearMap(),!t.activeData.vehicleId){e.next=14;break}return a=t.activeData,i=a.startTime,n=a.endTime,c=a.initData,r=a.vehicleId,d=a.licenseNum,t.locusData=JSON.parse(l()(c)),t.$refs[t.activeMap]&&(t.$refs[t.activeMap].createCarMarkerFn(),t.$refs[t.activeMap].createLocusFn(),t.$refs[t.activeMap].movingCarFn(),t.$refs[t.activeMap].setFitView()),p={endTime:n,startTime:i,vehicleId:[r]},e.next=10,t.$http.post("/locus/vehicleGps/list",p).then(function(e){if(e.code===t.$config.API_STATUS.OK){var a=Object(y.a)(e.data);if(!a.locusList.length)return void t.$message.error(t.$t("trackPage.tip_message_3"));a.locusInfo&&(t.activeTreeData=o()({label:d},a.locusInfo)),a.locusList.forEach(function(t){t.positioningTime&&(t.positioningTime=Object(g.d)(new Date(t.positioningTime),"yyyy-MM-dd hh:mm:ss"))}),t.carInfoObj.isShow=!0;for(var i=a.locusList,s=[],n=[],c=0;c<i.length;c++){var r=i[c],p=Object(w.b)(r.longitude,r.latitude);r.longitude=p[0],r.latitude=p[1],(r.latitude||r.longitude)&&s.push([r.longitude,r.latitude]),n.push(r)}t.trackTableData=JSON.parse(l()(n)),t.tableOptions.data=JSON.parse(l()(n))}});case 10:return e.next=12,t.$http.post("/locus/alarm/list",p).then(function(e){if(e.code===t.$config.API_STATUS.OK){var a=Object(y.a)(e.data);a.forEach(function(t){t.startTime&&(t.startTime=Object(g.d)(new Date(t.startTime),"yyyy-MM-dd hh:mm:ss")),t.endTime&&(t.endTime=Object(g.d)(new Date(t.endTime),"yyyy-MM-dd hh:mm:ss"))}),t.alarmTableData=a}});case 12:t.setTableData(),t.viewConfig.bottom=!0;case 14:case"end":return e.stop()}},e,t)}))()},getDictFn:function(){var t=this;this.$http.get("/dict/list/codes",{dicCodes:"licenseColor"}).then(function(e){if(e.code===t.$config.API_STATUS.OK&&e.data){var a={licenseColor:e.data.licenseColor.map(function(t){return{id:t.itemId,value:t.itemName,text:t.itemValue,name:t.itemValue}})};t.licenseColorSelect=a.licenseColor}t.setTableData()})},initVehicleAllTreeList:function(){var t=this;this.checkedKeys=[],this.$http.get("/postion/locus/vehicleAllTreeList").then(function(e){if(e.code===t.$config.API_STATUS.OK){var a=[{motorcades:e.data.motorcades,vehicles:e.data.vehicles}];t.treeArr(a),t.allTreeData=[{motorcade:!0,parentId:null,motorcadeId:"None",label:t.$t("view.tree_parent_name"),id:"None",children:a[0].children}],t.setTreeData()}}),this.$http.get("/postion/realtime/attentionList").then(function(e){e.code===t.$config.API_STATUS.OK&&(e.data.length>0&&(t.followTreeData=t.followTree(e.data)),t.setTreeData())})},treeArr:function(t){for(var e=this,a=function(a){if(t[a].motorcades){var i=[];t[a].vehicles&&t[a].vehicles.forEach(function(s){e.checkedKeys.push("v"+s.vehicleId);var n={motorcade:!1,parentId:t[a].vehiclePid,status:s.status,label:s.licenseNum,id:s.vehicleId,treeId:"v"+s.vehicleId,vehicleId:s.vehicleId,onlineStatus:s.onlineStatus,isCompany:s.isCompany};i.push(n),e.autoPlayOption.status&&e.autoPlayOption.vehicleId===s.vehicleId&&(e.nodeClick(n),e.autoPlayOption.status=!1,e.searchSubmitFn())}),t[a].motorcades.forEach(function(t){!t.motorcades.length&&e.checkedKeys.push("m"+t.motorcadeId),i.push({motorcade:!0,parentId:t.parentId,status:t.status,motorcades:t.motorcades,vehicles:t.vehicles,label:t.motorcadeName,id:t.motorcadeId,count:t.count,vehiclePid:t.motorcadeId,treeId:"m"+t.motorcadeId,isCompany:t.isCompany})}),t[a].children=JSON.parse(l()(i)),e.treeArr(t[a].children),delete t[a].motorcades,delete t[a].vehicles}},i=0;i<t.length;i++)a(i)},followTree:function(t){var e=[];return t.forEach(function(t,a){var i=t.licenseNum,s=t.onlineStatus,n=t.vehicleId;e[a]={id:n,label:i,status:s,treeId:"v"+n}}),e},timeChangeFn:function(t){if("startTime"===t){var e=Object(g.d)(new Date(this.searchViewObj.startTime),"yyyy-MM-dd");this.searchViewObj.endTime?this.searchViewObj.endTime=e+" "+Object(g.d)(new Date(this.searchViewObj.endTime),"hh:mm:ss"):this.searchViewObj.endTime=e+" 23:59:59"}else{var a=Object(g.d)(new Date(this.searchViewObj.endTime),"yyyy-MM-dd");this.searchViewObj.startTime?this.searchViewObj.startTime=a+" "+Object(g.d)(new Date(this.searchViewObj.startTime),"hh:mm:ss"):this.searchViewObj.startTime=a+" 00:00:00"}},startAnimation:function(){this.$refs[this.activeMap].startAnimation()},pauesAnimation:function(){this.$refs[this.activeMap].pauesAnimation()},stopAnimation:function(){this.carInfoObj.slider=0,this.$refs[this.activeMap].resetPolyline()},clearActiveTreeDataFn:function(){this.activeTreeData=null,this.carInfoObj.isShow=!1,this.carInfoObj.extendShow=!1,this.carInfoObj.playStatus="stop",this.$refs[this.activeMap]&&this.$refs[this.activeMap].clearMap()},searchSubmitFn:function(){var t=this;return d()(s.a.mark(function e(){var a,i,n,c,r,d,p;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.stopAnimation(),t.$refs[t.activeMap]&&t.$refs[t.activeMap].clearMap(),t.tableOptions.data=[],t.trackTableData=[],t.alarmTableData=[],t.activeTreeData&&t.activeTreeData.id){e.next=8;break}return t.$message({message:t.$t("trackPage.tip_message_1"),type:"warning"}),e.abrupt("return");case 8:if(t.searchViewObj.startTime&&t.searchViewObj.endTime){e.next=11;break}return t.$message({message:t.$t("trackPage.tip_message_2"),type:"warning"}),e.abrupt("return");case 11:return t.loading=!0,a=t.searchViewObj,i=a.endTime,n=a.startTime,c=a.invalid,r=a.parking,d=a.supply,p={endTime:i,startTime:n,drivingState:r?0:1,positioningStatus:c?0:1,reportingType:d?0:1,vehicleId:[t.activeTreeData.id]},e.next=16,t.$http.post("/locus/vehicleGps/list",p).then(function(e){if(t.loading=!1,e.code===t.$config.API_STATUS.OK){var a=Object(y.a)(e.data);if(!a.locusList.length)return void t.$message.warning(t.$t("trackPage.tip_message_3"));t.activeTreeData={id:t.activeTreeData.id,label:t.activeTreeData.label},a.locusInfo&&(t.activeTreeData=o()({},t.activeTreeData,a.locusInfo)),a.locusList.forEach(function(t){t.positioningTime&&(t.positioningTime=Object(g.d)(new Date(t.positioningTime),"yyyy-MM-dd hh:mm:ss"))}),t.carInfoObj.isShow=!0;for(var i=JSON.parse(l()(a.locusList)),s=[],n=[],c=0;c<i.length;c++){var r=i[c],d=Object(w.b)(r.longitude,r.latitude);r.longitude=d[0],r.latitude=d[1],(r.latitude||r.longitude)&&s.push([r.longitude,r.latitude]),n.push(r)}t.trackTableData=JSON.parse(l()(n)),t.tableOptions.data=JSON.parse(l()(n)),t.locusData=s,t.$refs[t.activeMap]&&(t.$refs[t.activeMap].createCarMarkerFn(),t.$refs[t.activeMap].createLocusFn(),t.$refs[t.activeMap].movingCarFn(),t.$refs[t.activeMap].setFitView())}}).catch(function(){t.loading=!1});case 16:return e.next=18,t.$http.post("/locus/alarm/list",p).then(function(e){if(e.code===t.$config.API_STATUS.OK){var a=Object(y.a)(e.data);a.forEach(function(t){t.startTime&&(t.startTime=Object(g.d)(new Date(t.startTime),"yyyy-MM-dd hh:mm:ss")),t.endTime&&(t.endTime=Object(g.d)(new Date(t.endTime),"yyyy-MM-dd hh:mm:ss"))}),t.alarmTableData=a}});case 18:t.setTableData(),t.viewConfig.bottom=!0;case 20:case"end":return e.stop()}},e,t)}))()},openTreeFn:function(){this.treeViewObj.isShow=!0},setTreeData:function(){var t=this;"1"===this.carTreeViewType?this.treeDefinedData=this.allTreeData:this.treeDefinedData=this.followTreeData,this.filterText="",this.treeViewObj.isTree=!1,this.$nextTick(function(){t.treeViewObj.isTree=!0})},getTreeData:function(t){},nodeClick:function(t,e){t.motorcade||(this.activeTreeData=t,this.treeViewObj.isShow=!1)},handleCommand:function(t){this[t.funcName].call(function(){},t.data,t.node,t.funcName)},controlViewFn:function(t){this.viewConfig[t]=!this.viewConfig[t],"bottom"===t&&this.viewConfig[t]&&this.setTableData()},setTableData:function(){var t=this;"1"===this.tableViewType?(this.tableOptions.columns=[{title:this.$t("view.license_num"),key:"licenseNum",type:"text",width:"120"},{title:this.$t("trackPage.license_color"),key:"licenseColor",width:"100",type:"tag",tags:this.licenseColorSelect},{title:this.$t("trackPage.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"160"},{title:this.$t("trackPage.device_num"),key:"deviceNum",type:"text",width:"150"},{title:"aac",key:"accStatus",type:"text",width:"150"},{title:this.$t("trackPage.today_mileage"),key:"todayMileage",prependText:"km",type:"text",width:"100"},{title:this.$t("trackPage.mileage"),key:"mileage",prependText:"km",type:"text",width:"100"},{title:this.$t("trackPage.speed"),key:"speed",prependText:"km/h",type:"text",width:"100"},{title:this.$t("trackPage.positioning_time"),key:"positioningTime",type:"text",width:"140"},{title:this.$t("trackPage.location"),key:"location",type:"slot",name:"location"}],this.tableOptions.viewTableKey="trackTable",this.tableOptions.data=JSON.parse(l()(this.trackTableData))):(this.tableOptions.columns=[{title:this.$t("view.license_num"),key:"licenseNum",type:"text",width:"120"},{title:this.$t("trackPage.file"),key:"file",type:"slot",name:"file"},{title:this.$t("trackPage.motorcade_name"),key:"motorcadeName",type:"text",minWidth:"160"},{title:this.$t("trackPage.alarm_type"),key:"alarmType",type:"tagText",minWidth:"160",tags:this.alarmSelect},{title:this.$t("view.start_time"),key:"startTime",type:"text",width:"140"},{title:this.$t("view.end_time"),key:"endTime",type:"text",width:"140"},{title:this.$t("trackPage.duration"),key:"duration",type:"text",width:"100"},{title:this.$t("trackPage.speed"),key:"alarmSpeed",prependText:"km/h",type:"text",width:"100"},{title:this.$t("trackPage.location"),key:"location",type:"slot",name:"location"}],this.tableOptions.viewTableKey="alarmTable",this.tableOptions.data=JSON.parse(l()(this.alarmTableData))),this.isTable=!1,this.$nextTick(function(){t.isTable=!0})},getTableData:function(t){},tableResponseFn:function(t,e,a){this[e.funcName].call(function(){},t,e,a)},formatTooltip:function(t){var e=t;return this.trackTableData[t]&&(e=this.trackTableData[t].positioningTime),e},rangeSliderFn:function(t){this.$refs[this.activeMap].setCarPath(this.trackTableData[t],t)},extendChange:function(t){var e={speed:this.carInfoObj.speed,lineStatus:this.carInfoObj.lineStatus,iconStatus:this.carInfoObj.iconStatus,lineWidth:this.carInfoObj.lineWidth,lineOpacity:this.carInfoObj.lineOpacity};this.$store.dispatch("setPolylineConfig",e),this.$refs[this.activeMap].setPolylineOptions()},rowClickFn:function(t,e,a){var i=this;"1"===this.tableViewType&&this.trackTableData.forEach(function(e,a){e.longitude===t.longitude&&e.latitude===t.latitude&&i.$refs[i.activeMap].setCarPath(e,a)})},speedFormatTooltipFn:function(t){return t+" km/h"},currentTableActiveRowFn:function(t){"1"===this.tableViewType&&t<this.tableOptions.data.length&&(this.$refs.table.setCurrent(this.tableOptions.data[t]),this.$refs.table.scrollToRow(t))},multipleFn:function(){this.carInfoObj.multiple>=8?this.carInfoObj.multiple=1:this.carInfoObj.multiple=2*this.carInfoObj.multiple,this.carInfoObj.speed=1e3*this.carInfoObj.multiple},mapTypeChangeFn:function(){}}},O=(a("T7sc"),a("ZrdR")),k=Object(O.a)(T,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"_record_replays",staticClass:"page-view record-replays__page",style:t.isChild&&"padding: 0;"},[t.isChild||t.isPermissionShow("postionLocusVehicleAllTreeList")?[i("div",{staticClass:"map-view",class:t.viewConfig.bottom&&"map-view__active",style:t.isChild&&"border-radius: 0;"},[i("recordAmap",{directives:[{name:"show",rawName:"v-show",value:"_amap_map_view"===t.activeMap,expression:"activeMap === '_amap_map_view'"}],ref:"_amap_map_view",staticClass:"map-page"}),t._v(" "),i("recordBing",{directives:[{name:"show",rawName:"v-show",value:"_bing_map_view"===t.activeMap,expression:"activeMap === '_bing_map_view'"}],ref:"_bing_map_view",staticClass:"map-page"}),t._v(" "),t._e(),t._v(" "),t.isReadOnly?t._e():i("div",{staticClass:"map-api__operate"},[t._m(0),t._v(" "),t._m(1)]),t._v(" "),t.isReadOnly?t._e():i("div",{staticClass:"map-left__button",class:t.searchViewObj.isShow&&"map-left__button-active",on:{click:function(e){t.searchViewObj.isShow=!t.searchViewObj.isShow}}},[i("i",{staticClass:"iconfont Jamin_location_icon_ssuo"})]),t._v(" "),t.isReadOnly?t._e():i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchViewObj.isShow,expression:"searchViewObj.isShow"}],staticClass:"search-view"},[i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v(t._s(t.$t("trackPage.select_vehicle")))]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-input",{staticClass:"input-width",attrs:{size:"mini",placeholder:"",clearable:""},on:{focus:t.openTreeFn,clearable:t.clearActiveTreeDataFn},model:{value:t.searchViewObj.input,callback:function(e){t.$set(t.searchViewObj,"input",e)},expression:"searchViewObj.input"}})],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v(t._s(t.$t("trackPage.filter")))]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-checkbox",{model:{value:t.searchViewObj.parking,callback:function(e){t.$set(t.searchViewObj,"parking",e)},expression:"searchViewObj.parking"}},[t._v(t._s(t.$t("trackPage.filter_parking")))]),t._v(" "),i("el-checkbox",{model:{value:t.searchViewObj.invalid,callback:function(e){t.$set(t.searchViewObj,"invalid",e)},expression:"searchViewObj.invalid"}},[t._v(t._s(t.$t("trackPage.filter_invalid")))]),t._v(" "),i("el-checkbox",{model:{value:t.searchViewObj.supply,callback:function(e){t.$set(t.searchViewObj,"supply",e)},expression:"searchViewObj.supply"}},[t._v(t._s(t.$t("trackPage.filter_supply")))])],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v(t._s(t.$t("view.start_time")))]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-date-picker",{staticClass:"input-width",attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:"",clearable:!1,"picker-options":t.timePicker},on:{change:function(e){t.timeChangeFn("startTime")}},model:{value:t.searchViewObj.startTime,callback:function(e){t.$set(t.searchViewObj,"startTime",e)},expression:"searchViewObj.startTime"}})],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v(t._s(t.$t("view.end_time")))]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-date-picker",{staticClass:"input-width",attrs:{size:"mini","value-format":"yyyy-MM-dd HH:mm:ss","default-time":"23:59:59",type:"datetime",placeholder:"",clearable:!1,"picker-options":t.timePicker},on:{change:function(e){t.timeChangeFn("endTime")}},model:{value:t.searchViewObj.endTime,callback:function(e){t.$set(t.searchViewObj,"endTime",e)},expression:"searchViewObj.endTime"}})],1)]),t._v(" "),i("div",{staticClass:"search-view__button"},[i("div",{on:{click:t.searchSubmitFn}},[t._v(t._s(t.$t("confirm.determine")))])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchViewObj.isShow&&t.treeViewObj.isShow,expression:"searchViewObj.isShow && treeViewObj.isShow"}],staticClass:"search-tree"},[i("i",{staticClass:"el-icon-close search-tree-close",on:{click:function(e){t.treeViewObj.isShow=!1}}}),t._v(" "),i("el-tabs",{staticClass:"init-tabs",on:{"tab-click":t.setTreeData},model:{value:t.carTreeViewType,callback:function(e){t.carTreeViewType=e},expression:"carTreeViewType"}},[i("el-tab-pane",{attrs:{name:"1"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_monitor_icon_clcd"}),t._v(" "+t._s(t.$t("view.tree_tab_1")))])]),t._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_monitor_icon_gzcl"}),t._v(" "+t._s(t.$t("view.tree_tab_2")))])])],1),t._v(" "),i("div",{staticClass:"input-query"},[i("el-input",{attrs:{size:t.elNorms.size,placeholder:t.$t("trackPage.tree_search"),"prefix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText="string"==typeof e?e.trim():e},expression:"filterText"}},[i("template",{slot:"append"},[i("i",{staticClass:"el-icon-refresh-right",on:{click:t.initVehicleAllTreeList}})])],2)],1),t._v(" "),i("div",{staticClass:"body-tree init-tree"},[t.treeViewObj.isTree?i("tree-view",{ref:"tree",attrs:{"tree-data":t.treeData,"defined-data":t.treeDefinedData},on:{treeDataFn:t.getTreeData,"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"left-title text-ellipsis",style:t.activeTreeData&&e.data.data.id===t.activeTreeData.id?"color: var(--main-primary);":""},[e.data.data.vehicleId?i("i",{staticClass:"iconfont Jamin_location_icon_che-lv",style:e.data.data.onlineStatus?"color: var(--main-success);":"color: #999999;"}):null===e.data.data.parentId?i("i",{staticClass:"iconfont Jamin_location_icon_dn"}):1===e.data.data.isCompany?i("i",{staticClass:"iconfont Jamin_location_icon_gs"}):i("i",{staticClass:"iconfont Jamin_location_icon_cd"}),t._v("\n                "+t._s(e.data.data.label)+"\n              ")])]}}])}):t._e()],1)],1),t._v(" "),t.searchViewObj.isShow&&t.carInfoObj.isShow?i("div",{staticClass:"car-info__body",class:{"car-info-only":t.isReadOnly,"car-info__media":!t.isReadOnly,"car-info__body_ch":"zh-CN"===t.$store.getters.language}},[i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("view.license_num")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.label||""))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.drive_mileage")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.driveMileage||0)+" km")])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.drive_time")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.driveTime||""))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.park_time")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.parkTime||""))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.top_speed")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.topSpeed||""))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.average_speed")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.averageSpeed||""))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item info-item-row"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.start_location")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.startLocation))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item info-item-row"},[i("span",{staticClass:"info-item__title"},[t._v(t._s(t.$t("trackPage.end_location")))]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData&&t.activeTreeData.endLocation||""))])])])]):t._e(),t._v(" "),t.searchViewObj.isShow&&t.carInfoObj.isShow?i("div",{staticClass:"route-operate"},[i("i",{directives:[{name:"show",rawName:"v-show",value:"stop"===t.carInfoObj.playStatus||"pause"===t.carInfoObj.playStatus,expression:"carInfoObj.playStatus === 'stop' || carInfoObj.playStatus === 'pause'"}],staticClass:"iconfont Jamin_replay_icon_bofang",staticStyle:{"margin-right":"10px"},on:{click:t.startAnimation}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"play"===t.carInfoObj.playStatus,expression:"carInfoObj.playStatus === 'play'"}],staticClass:"iconfont Jamin_replay_icon_zt",staticStyle:{"margin-right":"10px"},on:{click:t.pauesAnimation}}),t._v(" "),i("i",{staticClass:"el-icon-circle-close",staticStyle:{"font-size":"20px"},on:{click:t.stopAnimation}}),t._v(" "),i("div",{staticClass:"route-slider"},[i("el-slider",{attrs:{min:0,max:t.trackTableData.length?t.trackTableData.length-1:0,"format-tooltip":t.formatTooltip},on:{change:t.rangeSliderFn},model:{value:t.carInfoObj.slider,callback:function(e){t.$set(t.carInfoObj,"slider",e)},expression:"carInfoObj.slider"}})],1),t._v(" "),i("div",{staticClass:"multiple",on:{click:t.multipleFn}},[i("img",{staticStyle:{width:"14px",height:"10px"},attrs:{src:a("/4Vg"),alt:""}}),t._v("\n          x "+t._s(t.carInfoObj.multiple)+"\n        ")]),t._v(" "),i("i",{staticClass:"iconfont Jamin_location_icon_shezhi1",on:{click:function(e){t.carInfoObj.extendShow=!t.carInfoObj.extendShow}}})]):t._e(),t._v(" "),t.searchViewObj.isShow&&t.carInfoObj.extendShow?i("div",{staticClass:"route-operate__extend"},[i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("trackPage.play_track")))]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"item-radio"},[i("el-radio-group",{attrs:{size:"small"},on:{change:function(e){t.extendChange("lineStatus")}},model:{value:t.carInfoObj.lineStatus,callback:function(e){t.$set(t.carInfoObj,"lineStatus",e)},expression:"carInfoObj.lineStatus"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("operation.display")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("operation.hide")))])],1)],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("trackPage.track_direction")))]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"item-radio"},[i("el-radio-group",{on:{change:function(e){t.extendChange("iconStatus")}},model:{value:t.carInfoObj.iconStatus,callback:function(e){t.$set(t.carInfoObj,"iconStatus",e)},expression:"carInfoObj.iconStatus"}},[i("el-radio",{attrs:{label:!0}},[t._v(t._s(t.$t("operation.display")))]),t._v(" "),i("el-radio",{attrs:{label:!1}},[t._v(t._s(t.$t("operation.hide")))])],1)],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("trackPage.width")))]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"route-slider"},[i("el-slider",{attrs:{min:1,max:20},on:{change:function(e){t.extendChange("lineWidth")}},model:{value:t.carInfoObj.lineWidth,callback:function(e){t.$set(t.carInfoObj,"lineWidth",e)},expression:"carInfoObj.lineWidth"}})],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("trackPage.opacity")))]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"route-slider"},[i("el-slider",{attrs:{min:0,max:1,step:.1},on:{change:function(e){t.extendChange("lineOpacity")}},model:{value:t.carInfoObj.lineOpacity,callback:function(e){t.$set(t.carInfoObj,"lineOpacity",e)},expression:"carInfoObj.lineOpacity"}})],1)])])]):t._e(),t._v(" "),i("div",{staticClass:"bottom-control control-view",on:{click:function(e){t.controlViewFn("bottom")}}},[t.viewConfig.bottom?i("i",{staticClass:"el-icon-arrow-down"}):i("i",{staticClass:"el-icon-arrow-up"})])],1),t._v(" "),i("div",{staticClass:"table-view",class:t.viewConfig.bottom&&"table-view__active"},[i("div",{staticClass:"table-tabs"},[i("el-tabs",{staticClass:"init-tabs",on:{"tab-click":function(e){t.setTableData(),t.viewConfig.bottom=!0}},model:{value:t.tableViewType,callback:function(e){t.tableViewType=e},expression:"tableViewType"}},[i("el-tab-pane",{attrs:{name:"1"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_replay_icon_gjmx"}),t._v(" "+t._s(t.$t("trackPage.table_tab_1")))])]),t._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_replay_icon_bjmx"}),t._v(" "+t._s(t.$t("trackPage.table_tab_2")))])])],1)],1),t._v(" "),i("div",{staticClass:"table-content"},[t.isTable?i("init-table-view",{ref:"table",staticClass:"rtp-table",attrs:{data:t.tableOptions.data,columns:t.tableOptions.columns,"header-button":t.tableOptions.headerButton,"table-height":t.tableHeight,"id-key":t.tableOptions.idKey}},[i("u-table-column",{attrs:{slot:"location",label:t.$t("trackPage.location"),align:"center","min-width":"300"},slot:"location",scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(t._s(e.row.location))])]}}])})],1):t._e()],1)])]:t._e(),t._v(" "),t.isChild||t.isPermissionShow("postionLocusVehicleAllTreeList")||t.$store.state.app.permsDataLoading?t._e():i("notPerm")],2)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"operate-item"},[e("i",{staticClass:"iconfont Jamin_location_icon_caidan"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"operate-item"},[e("i",{staticClass:"iconfont Jamin_location_icon_chakan"})])}],!1,null,"0e39bc90",null);k.options.__file="record-replays.vue";e.default=k.exports},foDw:function(t,e,a){t.exports=a.p+"static/img/replay_pic_zhong.88c4b65.png"},iCa3:function(t,e,a){"use strict";a.r(e);var i=a("bS4n"),s=a.n(i),n=a("8t5x");e.default={data:function(){return{permissionList:{postionLocusVehicleAllTreeList:"/postion/locus/vehicleAllTreeList",postionRecordsReplaysVehicleAllTreeList:"/postion/recordsReplays/vehicleAllTreeList",videotapeReplaysVehicleAllTreeLis:"/postion/videotapeReplays/vehicleAllTreeList",videotapeReplaysVehicleStatistics:"/postion/videotapeReplays/vehicleStatistics",playbackFileList:"/playback/file/list",postionVideotapeFile:"/postion/videotapeFile/vehicleAllTreeList",playbackFileUpload:"/playback/file/upload",playbackFileDownload:"1"}}},computed:s()({},Object(n.b)(["permsData"]),{isAdministrator:function(){return[-1,-2].includes(Number(this.$store.getters.userData.userType))}}),watch:{permsData:{handler:function(){this.handlePermissionShow&&this.handlePermissionShow()},immediate:!0}},methods:{isPermissionShow:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.isAdministrator||this.permsData.includes(this.permissionList[t])}}}},jcYt:function(t,e,a){t.exports=a.p+"static/img/not-perm.d97c442.png"},lrbD:function(t,e,a){t.exports=a.p+"static/img/icon_zd.fbde0e6.png"},vRT2:function(t,e,a){"use strict";a.r(e);var i=a("omC7"),s=a.n(i),n=a("AkzS"),o=a.n(n),c={data:function(){return{elNorms:this.$store.getters.elNorms,AMapGL:null,gapdeMap:null,carMarker:null,polyline:null,passedPolyline:null,searchValue:"",placeSearch:null,locusData:[],graspRoad:null,infoWindow:null,moveIndex:0,moveActiveData:null,windowShow:!0,timeOut:null}},watch:{searchValue:function(t){this.placeSearch.search(t)},moveIndex:function(t){this.passedPolyline.setPath(this.locusData.slice(0,t)),this.$parent.carInfoObj.slider=t,t>this.locusData.length-1&&(this.$parent.carInfoObj.playStatus="stop")}},mounted:function(){var t=this;this.$nextTick(function(){t.createAMap()})},methods:{createAMap:function(){var t=this;t.gapdeMap=new o.a.Map("amap-container",{resizeEnable:!0,center:[105.389814,38.311781],zoom:4}),o.a.plugin(["AMap.ToolBar","AMap.Scale","AMap.PlaceSearch","AMap.GraspRoad"],function(){t.gapdeMap.addControl(new o.a.ToolBar({liteStyle:!0,position:"RT"})),t.gapdeMap.addControl(new o.a.Scale({liteStyle:!0,position:"RB"})),t.placeSearch=new o.a.PlaceSearch({city:"全国",map:t.gapdeMap}),t.graspRoad=new o.a.GraspRoad})},createCarMarkerFn:function(){this.locusData=JSON.parse(s()(this.$parent.locusData)),this.carMarker=new o.a.Marker({map:this.gapdeMap,position:this.locusData[0],icon:a("2itw"),offset:new o.a.Pixel(-26,-13),autoRotation:!0});var t=a("LBOA"),e=a("lrbD");"zh-CN"===this.$store.getters.language&&(t=a("dDFt"),e=a("foDw")),this.startMarker=new o.a.Marker({map:this.gapdeMap,position:this.locusData[0],icon:t,offset:new o.a.Pixel(-14,-34)}),this.endMarker=new o.a.Marker({map:this.gapdeMap,position:this.locusData[this.locusData.length-1],icon:e,offset:new o.a.Pixel(-14,-34)})},createLocusFn:function(){this.polyline=new o.a.Polyline({map:this.gapdeMap,path:this.locusData,lineJoin:"round",showDir:this.$parent.carInfoObj.iconStatus,strokeColor:"#409EFF",strokeOpacity:this.$parent.carInfoObj.lineStatus?this.$parent.carInfoObj.lineOpacity:0,strokeWeight:this.$parent.carInfoObj.lineWidth}),this.passedPolyline=new o.a.Polyline({map:this.gapdeMap,lineJoin:"round",strokeColor:"#67C23A",strokeOpacity:.5,strokeWeight:this.$parent.carInfoObj.lineWidth})},setPolylineOptions:function(){this.polyline.setOptions({showDir:this.$parent.carInfoObj.iconStatus,strokeColor:"#409EFF",strokeOpacity:this.$parent.carInfoObj.lineStatus?this.$parent.carInfoObj.lineOpacity:0,strokeWeight:this.$parent.carInfoObj.lineWidth}),this.passedPolyline.setOptions({strokeOpacity:this.$parent.carInfoObj.lineStatus?.5:0,strokeWeight:this.$parent.carInfoObj.lineWidth})},movingCarFn:function(){var t=this;t.carMarker.on("moveend",function(e){t.nextPointFn(),t.timeOut&&clearTimeout(t.timeOut),t.timeOut=setTimeout(function(){t.moveIndex<t.locusData.length-1&&t.nextPointFn()},3e3)}),t.carMarker.on("click",function(e){var a=t.moveIndex>t.$parent.trackTableData.length-1?t.$parent.trackTableData.length-1:t.moveIndex;t.windowShow=!0,t.openLineWindowFn(t.$parent.trackTableData[a])})},nextPointFn:function(){var t=this.$parent.carInfoObj;this.moveIndex++,this.contrastFn(),this.getContainsPointFn(this.locusData[this.moveIndex]),this.$parent.currentTableActiveRowFn(this.moveIndex);var e=this.locusData[this.moveIndex];this.openLineWindowFn(this.$parent.trackTableData[this.moveIndex]),e&&(this.moveActiveData=e,"play"===t.playStatus&&this.carMarker.moveTo(e,t.speed))},contrastFn:function(){var t=this.locusData[this.moveIndex],e=Math.abs(t.lng-this.moveActiveData.lng)<4e-4,a=Math.abs(t.lat-this.moveActiveData.lat)<4e-4;t&&this.moveActiveData&&e&&a&&(this.moveIndex++,this.$parent.currentTableActiveRowFn(this.moveIndex),this.contrastFn())},startAnimation:function(){var t=this.$parent.carInfoObj;this.moveIndex>this.locusData.length-1&&(this.moveIndex=0,this.moveActiveData=null,this.carMarker.setPosition(this.locusData[this.moveIndex])),"stop"!==t.playStatus&&"pause"!==t.playStatus||(this.moveActiveData=this.locusData[this.moveIndex],this.moveIndex++,this.contrastFn(),this.carMarker.moveTo(this.locusData[this.moveIndex],this.$parent.carInfoObj.speed)),t.playStatus="play"},pauesAnimation:function(){this.carMarker.stopMove(),this.$parent.carInfoObj.playStatus="pause"},stopAnimation:function(){this.$parent.carInfoObj.playStatus="stop",this.moveIndex=0,this.moveActiveData=null},clearMap:function(){this.gapdeMap.clearMap()},setFitView:function(){this.gapdeMap.setFitView(),this.gapdeMap.zoomOut()},resetPolyline:function(){this.stopAnimation(),this.clearMap(),this.createCarMarkerFn(),this.createLocusFn(),this.movingCarFn()},addLineClickFn:function(t){var e=this;e[t].on("click",function(t){for(var a=t.lnglat.lng,i=t.lnglat.lat,s=1e4,n=1e4,o=null,c=e.$parent.trackTableData.length-1;c>=0;c--){var l=e.$parent.trackTableData[c],r=Math.abs(a-l.longitude),d=Math.abs(i-l.latitude);r<s&&d<n&&(s=r,n=d,o=c)}null!==o&&e.openLineWindowFn(e.$parent.trackTableData[o])})},openLineWindowFn:function(t){var e=this;if(e.windowShow){var a=e.valueOfLicenseImg(t.licenseColor),i='<div class="map-box-window" style="min-height: 150px;"><div class="window-title"><div class="title-text"><div class="item-img-text" style="color: '+(4===t.licenseColor?"#000000":"#FFFFFF")+';">'+(t.licenseNum||"")+'</div><img src="'+a+'" alt=""></div></div><div class="window-box"><div class="window-row"><div class="row-item"><span class="item-title">'+e.$t("positionPage.time")+'：</span><span class="item-text">'+(t.positioningTime||"")+'</span></div><div class="row-item"><span class="item-title">'+e.$t("positionPage.speed")+'：</span><span class="item-text">'+(t.speed||0)+'km/h</span></div></div></div><div class="window-row"><div class="row-item"><span class="item-title">'+e.$t("positionPage.device_num")+'：</span><span class="item-text">'+(t.deviceNum||"")+'</span></div><div class="row-item"><span class="item-title">'+e.$t("positionPage.sim_no")+'：</span><span class="item-text">'+(t.phone||"")+'</span></div></div><div class="window-row"><div class="row-item"><span class="item-title">'+e.$t("positionPage.today_mileage")+'：</span><span class="item-text">'+(t.todayMileage||0)+'km</span></div><div class="row-item"><span class="item-title">'+e.$t("positionPage.mileage")+'：</span><span class="item-text">'+(t.mileage||0)+'km</span></div></div><div class="window-row"><div class="row-item"><span class="item-title">'+e.$t("positionPage.driving_direction")+'：</span><span class="item-text">'+(t.directionStr||"")+'</span></div><div class="row-item"><span class="item-title">'+e.$t("positionPage.platform_mileage")+'：</span><span class="item-text">'+(t.platformCurrentMileage||0)+'km</span></div></div><div class="window-row"><span class="item-title">'+e.$t("positionPage.location")+'：</span><span class="item-text">'+(t.location||'<span class="d-c">'+e.$t("positionPage.no_located")+"</span>")+"</span></div></div>";e.infoWindow?(e.infoWindow.setContent(i),e.infoWindow.setPosition(new o.a.LngLat(t.longitude,t.latitude))):(e.infoWindow=new o.a.InfoWindow({isCustom:!1,content:i,showShadow:!0,autoMove:!1,offset:new o.a.Pixel(0,-25)}),e.infoWindow.open(e.gapdeMap,new o.a.LngLat(t.longitude,t.latitude))),e.infoWindow.on("close",function(t){e.windowShow=!1,e.infoWindow=null})}},valueOfLicenseImg:function(t){var e="";switch(t){case 1:e=a("2QmI");break;case 2:e=a("rSXH");break;case 3:e=a("APGH");break;case 4:e=a("G+XG");break;case 9:e=a("xAz7");break;default:e=a("2QmI")}return e},setCarPath:function(t,e){var a=new o.a.LngLat(t.longitude,t.latitude);this.moveActiveData=a,this.carMarker.setPosition(a),this.moveIndex=e,"play"===this.$parent.carInfoObj.playStatus&&(this.carMarker.stopMove(),this.startAnimation(),this.$parent.carInfoObj.playStatus="pause")},getContainsPointFn:function(t){var e=this.gapdeMap.getBounds(),a=e.getNorthEast(),i=e.getSouthWest(),s=[a.lng,i.lat],n=[i.lng,a.lat];n=this.container2lnglat(this.lnglat2container(n)),i=this.container2lnglat(this.lnglat2container(i));var c=[[a.lng,a.lat],s,[i.lng,i.lat],n];!0!==o.a.GeometryUtil.isPointInRing(t,c)&&this.gapdeMap.panTo(t)},lnglat2container:function(t){var e=this.gapdeMap.lngLatToContainer(t);return(e=e.round()).x=e.x+380,e},container2lnglat:function(t){return this.gapdeMap.containerToLngLat(t)},graspRoadFn:function(t){var e=this,a=JSON.parse(s()(e.$parent.locusData)),i=e.graspRoadResetData(a);if(e.graspRoad&&i){var n=!0,o=0,c={};i.forEach(function(s){e.graspRoad.driving(s.data,function(e,l){o++,e&&(n=!1),l&&(c[s.index]=l.data.points),i.length===o&&(n||t(a))})})}else t(a)},graspRoadResetData:function(t){var e=[];if(t&&t.length)for(var a=Math.ceil(t.length/500),i=0;i<a;i++){var s=500*i,n=i===a-1?t.length:500*(i+1);e.push({index:i,startNum:s,endNum:n,data:t.slice(s,n)})}return e}}},l=(a("MIbw"),a("ZrdR")),r=Object(l.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record-amap"},[a("div",{staticClass:"amap-page",attrs:{id:"amap-container"}}),t._v(" "),a("el-input",{staticClass:"map-search",attrs:{size:"small",clearable:"",placeholder:t.$t("trackPage.map_search"),"prefix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)},[],!1,null,"ef6b3972",null);r.options.__file="record-amap.vue";e.default=r.exports},zr80:function(t,e,a){}}]);