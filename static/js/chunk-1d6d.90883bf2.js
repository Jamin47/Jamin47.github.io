(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d6d"],{"4HbD":function(e,t,i){"use strict";i.r(t);var r=i("unDg"),s=i.n(r),a=i("bS4n"),l=i.n(a),d=i("8t5x"),n={components:{treeView:i("ABCu").a},data:function(){return{drawerDisplay:!1,drawerTitle:"",drawerWidth:"720px",upLoadData:{Authorization:"",companyId:null,companyName:""},upLoadRole:{companyId:[{required:!0,message:this.$t("vehicleAdminister.select_fleet_company"),trigger:"change"}]},fileList:[],fileLists:[],item:!0,item1:!0,item2:!0,form:{certificateNum:"",username:"",sex:1,phone:"",hometown:"",idCard:"",bornAt:"",issuer:"",living:"",vehicleIds:null,idFront:null,idBack:null,dialogVisible:!1,certPhoto:null,roadLicenseNum:"",companyId:null,companyName:"",licenseNum:""},rules:{certificateNum:[{required:!0,message:this.$t("driverAdminister.enter_qualification_number"),trigger:"blur"}],username:[{required:!0,message:this.$t("driverAdminister.enter_name"),trigger:"blur"}],sex:[{required:!0,message:this.$t("driverAdminister.select_gender"),trigger:"change"}],phone:[{required:!0,message:this.$t("driverAdminister.enter_phone_number"),trigger:"blur"}],idCard:[{required:!0,message:this.$t("driverAdminister.enter_id_number"),trigger:"blur"}],companyId:[{required:!0,message:this.$t("driverAdminister.select_company"),trigger:"blur"}]},form1:{driverLicenseNum:"",drivingIssuer:"",allowModel:"",drivingIssueAt:"",drivingValidAt:"",drivingInvalidAt:"",drivingAdvanceNum:"",drivingFront:null,drivingBack:null,archivesNum:""},rules1:{driverLicenseNum:[{required:!0,message:this.$t("driverAdminister.enter_driver_license_number"),trigger:"blur"}],allowModel:[{required:!0,message:this.$t("driverAdminister.select_driving_model"),trigger:"change"}],bornAt:[{required:!0,message:this.$t("driverAdminister.enter_date_birth"),trigger:"blur"}],drivingValidAt:[{required:!0,message:this.$t("driverAdminister.enter_valid_start_date"),trigger:"blur"}],drivingAdvanceNum:[{required:!0,message:this.$t("driverAdminister.enter_reminder_days_advance"),trigger:"blur"}],drivingIssueAt:[{required:!0,message:this.$t("driverAdminister.select_first_certification"),trigger:"change"}],drivingInvalidAt:[{required:!0,message:this.$t("driverAdminister.enter_valid_due_date"),trigger:"blur"}]},form2:{onlineLicenseNum:"",onlineIssuer:"",onlineValidAt:"",onlineInvalidAt:"",onlineAdvanceNum:"",onlineFront:null,onlineBack:null},sex:[{label:this.$t("driverAdminister.male"),value:1},{label:this.$t("driverAdminister.female"),value:0}],companyTreeOptions:{filter:"",definedData:[],treeOption:{defaultProps:{children:"sysCompanyNodes",label:"name"},nodeKey:"companyId",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.name.indexOf(e)}}}},carTreeOptions:{filter:"",definedData:[],treeOption:{defaultProps:{children:"children",label:"treeName"},nodeKey:"treeId",nodeCode:"iconfont Jamin_vehicle_icon_clgl1",defaultExpandAll:!1,expandClickNode:!1,screenFn:{bindFn:function(e,t){return!e||-1!==t.treeName.indexOf(e)}}}}}},computed:l()({},Object(d.b)(["elNorms","userData"])),watch:{"companyTreeOptions.filter":function(e){this.$refs._company_tree.$refs.sonTree.filter(e)},"carTreeOptions.filter":function(e){this.$refs._car_tree.$refs.sonTree.filter(e)}},created:function(){this.getCompanyTreeDataFn(),this.getCarTreeDataFn()},methods:{getCompanyTreeDataFn:function(){var e=this;this.$http.get("/company/treeList/driverAdminister").then(function(t){t.code===e.$config.API_STATUS.OK&&(e.companyTreeOptions.definedData=t.data)})},getCarTreeDataFn:function(){var e=this;this.$http.get("/postion/insuranceAdminister/vehicleAllTreeList").then(function(t){t.code===e.$config.API_STATUS.OK&&(e.carTreeOptions.definedData=t.data.motorcades,e.forResetDevTreeFn(e.carTreeOptions.definedData))})},forResetDevTreeFn:function(e){var t=this;e.forEach(function(e){e.children=[].concat(s()(e.vehicles?e.vehicles:[]),s()(e.motorcades?e.motorcades:[])),e.children.length&&t.forResetDevTreeFn(e.children),e.vehicleId?(e.treeId="v_"+e.vehicleId,e.treeName=e.licenseNum):(e.treeId="m_"+e.motorcadeId,e.treeName=e.motorcadeName)})},successUpload:function(e,t,i){e.code===this.$config.API_STATUS.OK?(this.$message({type:"success",message:"上传成功！"}),this.dialogVisible=!1,this.$refs.upload.clearFiles()):(this.$refs.upload.clearFiles(),this.$message.error(e.message)),this.$parent.emitRequestFn&&this.$parent.emitRequestFn()},itemShow:function(e){"item"===e?this.item=!this.item:"item1"===e?this.item1=!this.item1:this.item2=!this.item2},filterData:function(e,t){return t||0===t?e.filter(function(e){return e.value===t})[0].label:""},onSuccess:function(e,t,i){"idFront"===e.data.type?this.$set(this.fileList,0,[{name:this.$t("driverAdminister.id_card_front"),url:e.data.url,type:e.data.type}]):"idBack"===e.data.type?this.$set(this.fileList,1,[{name:this.$t("driverAdminister.id_card_reverse"),url:e.data.url,type:e.data.type}]):"certPhoto"===e.data.type?this.$set(this.fileList,2,[{name:this.$t("driverAdminister.certificate_licence"),url:e.data.url,type:e.data.type}]):"drivingFront"===e.data.type?this.$set(this.fileList,3,[{name:this.$t("driverAdminister.driver_license_front"),url:e.data.url,type:e.data.type}]):"drivingBack"===e.data.type?this.$set(this.fileList,4,[{name:this.$t("driverAdminister.driver_license_reverse"),url:e.data.url,type:e.data.type}]):"onlineFront"===e.data.type?this.$set(this.fileList,5,[{name:this.$t("driverAdminister.qualification_ertificate_front"),url:e.data.url,type:e.data.type}]):"onlineBack"===e.data.type&&this.$set(this.fileList,6,[{name:this.$t("driverAdminister.qualification_ertificate_reverse"),url:e.data.url,type:e.data.type}])},handleRemove:function(e,t){return this.$confirm(this.$t("driverAdminister.confirm_mocile")+" "+e.name+" ? "+this.$t("driverAdminister.dele_file"))},onremove:function(e,t){this.$http.post("/file/delete",{url:e.url}).then(function(e){});var i={};i[e.type]="",this.$http.post("/driver/update/"+this.driverId,i).then(function(e){})},handleExceed:function(e,t){this.$message.warning(this.$t("vehicleAdminister.limit_select_photot"))},endTime:function(e){this.form1.drivingValidAt?new Date(e).getTime()<=new Date(this.form1.drivingValidAt).getTime()&&(this.$message.error(this.$t("vehicleAdminister.end_time_text_tip")),this.form1.drivingInvalidAt=null):(this.$message.error(this.$t("certificatesAdminister.select_start_time")),this.form1.drivingInvalidAt=null)},onlineEndTime:function(e){this.form2.onlineValidAt?new Date(e).getTime()<=new Date(this.form2.onlineValidAt).getTime()&&(this.$message.error(this.$t("vehicleAdminister.end_time_text_tip")),this.form2.onlineInvalidAt=null):(this.$message.error(this.$t("certificatesAdminister.select_start_time")),this.form2.onlineInvalidAt=null)},resetFn:function(){this.form={certificateNum:"",username:"",sex:1,phone:"",hometown:"",idCard:"",bornAt:"",issuer:"",living:"",vehicleIds:null,idFront:null,idBack:null,dialogVisible:!1,certPhoto:null,roadLicenseNum:"",companyId:null,companyName:"",licenseNum:""},this.form1={driverLicenseNum:"",drivingIssuer:"",allowModel:"",drivingIssueAt:"",drivingValidAt:"",drivingInvalidAt:"",drivingAdvanceNum:"",drivingFront:null,drivingBack:null,archivesNum:""},this.form2={onlineLicenseNum:"",onlineIssuer:"",onlineValidAt:"",onlineInvalidAt:"",onlineAdvanceNum:"",onlineFront:null,onlineBack:null},this.fileList=[]},details:function(e){var t=this;this.resetFn(),this.drawerWidth="720px",this.drawerTitle=this.$t("driverAdminister.add_driver"),this.drawerDisplay=!0,this.$nextTick(function(){t.$refs.ruleForm.resetFields(),t.$refs.ruleForm1.resetFields()})},detail:function(e){this.edit(e),this.drawerTitle=this.$t("driverAdminister.driver_details")},edit:function(e){var t=this;this.resetFn(),this.driverId=e.driverId,this.drawerWidth="720px",this.drawerTitle=this.$t("driverAdminister.edit_driver"),this.drawerDisplay=!0,this.$nextTick(function(){t.$refs.ruleForm.resetFields(),t.$refs.ruleForm1.resetFields()}),this.$http.get("/driver/get/"+e.driverId).then(function(e){if(e.code===t.$config.API_STATUS.OK)for(var i in e.data){for(var r in t.form)i===r&&("idFront"===i&&e.data[i]&&(t.fileList[0]=[{name:t.$t("driverAdminister.id_card_front"),url:e.data[i],type:"idFront"}]),"idBack"===i&&e.data[i]&&(t.fileList[1]=[{name:t.$t("driverAdminister.id_card_reverse"),url:e.data[i],type:"idBack"}]),"certPhoto"===i&&e.data[i]&&(t.fileList[2]=[{name:t.$t("driverAdminister.certificate_licence"),url:e.data[i],type:"certPhoto"}]),"vehicleIds"===i?e.data.vehicleIds&&e.data.vehicleIds.length&&(t.form.vehicleIds=e.data.vehicleIds.join("")):t.form[r]=e.data[i]);for(var s in t.form1)i===s&&("drivingFront"===i&&e.data[i]&&(t.fileList[3]=[{name:t.$t("driverAdminister.driver_license_front"),url:e.data[i],type:"drivingFront"}]),"drivingBack"===i&&e.data[i]&&(t.fileList[4]=[{name:t.$t("driverAdminister.driver_license_reverse"),url:e.data[i],type:"drivingBack"}]),t.form1[s]=e.data[i]);for(var a in t.form2)i===a&&("onlineFront"===i&&e.data[i]&&(t.fileList[5]=[{name:t.$t("driverAdminister.qualification_ertificate_front"),url:e.data[i],type:"drivingFront"}]),"onlineBack"===i&&e.data[i]&&(t.fileList[6]=[{name:t.$t("driverAdminister.qualification_ertificate_reverse"),url:e.data[i],type:"drivingBack"}]),t.form2[a]=e.data[i])}})},batchExport:function(){this.drawerWidth="500px",this.drawerTitle=this.$t("driverAdminister.batch_import"),this.upLoadData=this.$options.data().upLoadData,this.drawerDisplay=!0},uploadSubmit:function(){return!!this.submitForm("upLoad")&&(this.$refs.upload.uploadFiles.length?void this.$refs.upload.submit():(this.$message({type:"warning",message:this.$t("vehicleAdminister.select_file_upload")}),!1))},submitForm:function(e){var t=!0;return this.$refs[e].validate(function(e){if(!e)return t=!1}),t},publicData:function(){var e=this;return this.fileList.forEach(function(t){t.length>0&&(e.form[t[0].type]||void 0!==e.form[t[0].type]&&(e.form[t[0].type]=t[0].url),e.form1[t[0].type]||void 0!==e.form1[t[0].type]&&(e.form1[t[0].type]=t[0].url),e.form2[t[0].type]||void 0!==e.form2[t[0].type]&&(e.form2[t[0].type]=t[0].url))}),this.form.vehicleIds&&(this.form.vehicleIds=[Number(this.form.vehicleIds)]),l()({},this.form,this.form1,this.form2)},submit:function(){var e=this;if(this.drawerTitle===this.$t("driverAdminister.add_driver")){if(this.submitForm("ruleForm")&&this.submitForm("ruleForm1")){var t=this.publicData();this.$http.post("/driver/create",t).then(function(t){t.code===e.$config.API_STATUS.OK&&(e.$parent.emitRequestFn&&e.$parent.emitRequestFn(),e.drawerDisplay=!1,e.$message({message:t.message,type:"success"}))})}}else if(this.drawerTitle===this.$t("driverAdminister.edit_driver")&&this.submitForm("ruleForm")){var i=this.publicData();this.$http.post("/driver/update/"+this.driverId,i).then(function(t){t.code===e.$config.API_STATUS.OK&&(e.$parent.emitRequestFn&&e.$parent.emitRequestFn(),e.drawerDisplay=!1,e.$message({message:t.message,type:"success"}))})}},nodeClick:function(e,t,i){"companyId"===i?(this.$set(this.form,"companyId",e.companyId),this.$set(this.form,"companyName",e.name),this.$set(this.upLoadData,"companyId",e.companyId),this.$set(this.upLoadData,"companyName",e.name),this.$refs._company_tree_select.blur()):"vehicleIds"===i&&e.vehicleId&&(this.$set(this.form,"vehicleIds",e.vehicleId),this.$set(this.form,"licenseNum",e.licenseNum),this.$refs._vehicle_tree_select.blur()),this.$refs.ruleForm.clearValidate([i])}}},o=(i("tokt"),i("ZrdR")),m=Object(o.a)(n,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-drawer",{attrs:{title:e.drawerTitle,visible:e.drawerDisplay,direction:"rtl",size:e.drawerWidth,"wrapper-closable":!1},on:{"update:visible":function(t){e.drawerDisplay=t}}},[e.drawerDisplay&&e.drawerTitle===e.$t("driverAdminister.batch_import")?i("div",{staticStyle:{"padding-bottom":"100px"}},[i("el-form",{ref:"upLoad",staticStyle:{"margin-top":"20px"},attrs:{model:e.upLoadData,rules:e.upLoadRole,size:e.elNorms.formSize,"label-width":"120px"}},[e.drawerDisplay?i("el-form-item",{attrs:{label:e.$t("driverAdminister.company"),prop:"companyId"}},[i("el-select",{ref:"_company_tree_select",staticStyle:{width:"280px"},attrs:{size:e.elNorms.size},model:{value:e.upLoadData.companyId,callback:function(t){e.$set(e.upLoadData,"companyId",t)},expression:"upLoadData.companyId"}},[i("el-option",{staticClass:"tree-select",attrs:{value:e.upLoadData.companyId,label:e.upLoadData.companyName}},[i("div",{staticClass:"input-query",on:{click:function(e){e.stopPropagation()}}},[i("el-input",{attrs:{size:e.elNorms.size,placeholder:e.$t("driverAdminister.search_name"),"prefix-icon":"el-icon-search"},model:{value:e.companyTreeOptions.filter,callback:function(t){e.$set(e.companyTreeOptions,"filter","string"==typeof t?t.trim():t)},expression:"companyTreeOptions.filter"}})],1),e._v(" "),i("tree-view",{ref:"_company_tree",attrs:{"tree-data":e.companyTreeOptions.treeOption,"defined-data":e.companyTreeOptions.definedData},on:{"node-click":function(t){e.nodeClick(arguments[0],arguments[1],"companyId")}},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticStyle:{"font-weight":"400"}},[e._v(e._s(t.data.node.label))])]}}])})],1)],1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.$t("vehicleAdminister.upload_file")}},[i("div",{staticClass:"uploadDialogClass"},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:e.$config.API_CONFIG.API_ROOT+"/driver/import/"+e.upLoadData.companyId,name:"file",headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},"on-success":e.successUpload,"auto-upload":!1,accept:".excel,.xlsx,.xls",multiple:"","file-list":e.fileLists,limit:1}},[i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("vehicleAdminister.click_select_file")))]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_excel_file")))])],1),e._v(" "),i("a",{staticClass:"upload-click-span",attrs:{href:"/static/excel/driver-template-CN.xlsx"},on:{click:function(e){e.stopPropagation()}}},[e._v(e._s(e.$t("vehicleAdminister.download_template_file")))])],1)])],1),e._v(" "),i("div",{staticClass:"footBtn",staticStyle:{width:"500px"}},[i("el-button",{attrs:{type:"primary",size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle},on:{click:e.uploadSubmit}},[e._v(e._s(e.$t("operateCommon.ok")))]),e._v(" "),i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle},on:{click:function(t){e.drawerDisplay=!1}}},[e._v(e._s(e.$t("operateCommon.cancel")))])],1)],1):e.drawerDisplay?i("div",{staticStyle:{"padding-bottom":"100px"}},[i("div",{staticClass:"formItem"},[i("div",{staticClass:"formTitle",on:{click:function(t){e.itemShow("item")}}},[i("div",[e._v(e._s(e.$t("vehicleAdminister.basic_information")))]),e._v(" "),e.item?i("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("operation.out_away")))]):i("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("operation.unfold")))])],1),e._v(" "),i("el-collapse-transition",[e.item?i("div",[i("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form,rules:e.rules,size:e.elNorms.formSize,"label-width":"130px"}},[i("el-form-item",{attrs:{label:e.$t("driverAdminister.qualification_number"),prop:"certificateNum"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.certificateNum,callback:function(t){e.$set(e.form,"certificateNum",t)},expression:"form.certificateNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.certificateNum)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.road_transport_certificate_number")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.roadLicenseNum,callback:function(t){e.$set(e.form,"roadLicenseNum",t)},expression:"form.roadLicenseNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.roadLicenseNum)+" ")])],1),e._v(" "),e.drawerDisplay?i("el-form-item",{attrs:{label:e.$t("driverAdminister.company"),prop:"companyId"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-select",{ref:"_company_tree_select",staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.companyId,callback:function(t){e.$set(e.form,"companyId",t)},expression:"form.companyId"}},[i("el-option",{staticClass:"tree-select",attrs:{value:e.form.companyId,label:e.form.companyName}},[i("div",{staticClass:"input-query",on:{click:function(t){return t.stopPropagation(),e.treeSelectStop(t)}}},[i("el-input",{attrs:{size:e.elNorms.size,placeholder:e.$t("driverAdminister.search_name"),"prefix-icon":"el-icon-search"},model:{value:e.companyTreeOptions.filter,callback:function(t){e.$set(e.companyTreeOptions,"filter","string"==typeof t?t.trim():t)},expression:"companyTreeOptions.filter"}})],1),e._v(" "),i("tree-view",{ref:"_company_tree",attrs:{"tree-data":e.companyTreeOptions.treeOption,"defined-data":e.companyTreeOptions.definedData},on:{"node-click":function(t){e.nodeClick(arguments[0],arguments[1],"companyId")}},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",{staticStyle:{"font-weight":"400"}},[e._v(e._s(t.data.node.label))])]}}])})],1)],1):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.companyName)+" ")])],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.contact_number"),prop:"phone"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.phone)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.name"),prop:"username"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.username)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.date_of_birth"),prop:"bornAt"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,type:"date","value-format":"yyyy-MM-dd",placeholder:e.$t("vehicleAdminister.select_date")},model:{value:e.form.bornAt,callback:function(t){e.$set(e.form,"bornAt",t)},expression:"form.bornAt"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.bornAt)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.gender"),prop:"sex"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-select",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}},e._l(e.sex,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v("  "+e._s(e.filterData(e.sex,e.form.sex))+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.home_place")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.hometown,callback:function(t){e.$set(e.form,"hometown",t)},expression:"form.hometown"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.hometown)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.id_number"),prop:"idCard"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.idCard,callback:function(t){e.$set(e.form,"idCard",t)},expression:"form.idCard"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.idCard)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.present_residence")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.living,callback:function(t){e.$set(e.form,"living",t)},expression:"form.living"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.living)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.issuing_authority")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.issuer,callback:function(t){e.$set(e.form,"issuer",t)},expression:"form.issuer"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.issuer)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.bind_vehicle")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-select",{ref:"_vehicle_tree_select",staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form.vehicleIds,callback:function(t){e.$set(e.form,"vehicleIds",t)},expression:"form.vehicleIds"}},[i("el-option",{staticClass:"tree-select",attrs:{value:e.form.vehicleIds,label:e.form.licenseNum}},[i("div",{staticClass:"input-query",on:{click:function(e){e.stopPropagation()}}},[i("el-input",{attrs:{size:e.elNorms.size,placeholder:e.$t("driverAdminister.search_name"),"prefix-icon":"el-icon-search"},model:{value:e.carTreeOptions.filter,callback:function(t){e.$set(e.carTreeOptions,"filter","string"==typeof t?t.trim():t)},expression:"carTreeOptions.filter"}})],1),e._v(" "),i("tree-view",{ref:"_car_tree",attrs:{"tree-data":e.carTreeOptions.treeOption,"defined-data":e.carTreeOptions.definedData},on:{"node-click":function(t){e.nodeClick(arguments[0],arguments[1],"vehicleIds")}},scopedSlots:e._u([{key:"default",fn:function(t){return[void 0!==t.data.data.vehicleId?i("i",{class:e.carTreeOptions.treeOption.nodeCode,staticStyle:{color:"var(--main-primary)","font-size":"14px","margin-right":"2px"}}):e._e(),e._v(" "),i("span",{staticStyle:{"font-weight":"400"}},[e._v(e._s(t.data.node.label))])]}}])})],1)],1):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form.licenseNum)+" ")])],1),e._v(" "),i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.id_card_front")}},[i("el-upload",{ref:"idFront",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/idFront","on-success":e.onSuccess,"on-remove":e.onremove,"before-remove":e.handleRemove,accept:".png,.jpg",disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"on-exceed":e.handleExceed,"file-list":e.fileList[0],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("vehicleAdminister.upload_front")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1),e._v(" "),i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.id_card_reverse")}},[i("el-upload",{ref:"idBack",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/idBack","on-success":e.onSuccess,"on-remove":e.onremove,"before-remove":e.handleRemove,accept:".png,.jpg","on-exceed":e.handleExceed,disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"file-list":e.fileList[1],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("vehicleAdminister.upload_reverse")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:"证件照"}},[i("el-upload",{ref:"certPhoto",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/certPhoto","on-success":e.onSuccess,"on-remove":e.onremove,"before-remove":e.handleRemove,accept:".png,.jpg",disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"on-exceed":e.handleExceed,"file-list":e.fileList[2],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("driverAdminister.upload_photos")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1):e._e()],1)],1):e._e()])],1),e._v(" "),i("div",{staticClass:"formItem"},[i("div",{staticClass:"formTitle",on:{click:function(t){e.itemShow("item1")}}},[i("div",[e._v(e._s(e.$t("driverAdminister.driver_license_information")))]),e._v(" "),e.item1?i("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("operation.out_away")))]):i("el-button",{attrs:{type:"text"}},[e._v('">'+e._s(e.$t("operation.unfold")))])],1),e._v(" "),i("el-collapse-transition",[e.item1?i("div",[i("el-form",{ref:"ruleForm1",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form1,rules:e.rules1,size:e.elNorms.formSize,"label-width":"130px"}},[i("el-form-item",{attrs:{label:e.$t("driverAdminister.driver_license_number"),prop:"driverLicenseNum"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form1.driverLicenseNum,callback:function(t){e.$set(e.form1,"driverLicenseNum",t)},expression:"form1.driverLicenseNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form1.driverLicenseNum)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.archive_number")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form1.archivesNum,callback:function(t){e.$set(e.form1,"archivesNum",t)},expression:"form1.archivesNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form1.archivesNum)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.driver_license_type"),prop:"allowModel"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form1.allowModel,callback:function(t){e.$set(e.form1,"allowModel",t)},expression:"form1.allowModel"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form1.allowModel)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.issuing_authority_1")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form1.drivingIssuer,callback:function(t){e.$set(e.form1,"drivingIssuer",t)},expression:"form1.drivingIssuer"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form1.drivingIssuer)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.issue_date"),prop:"drivingIssueAt"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,type:"date","value-format":"yyyy-MM-dd",placeholder:e.$t("vehicleAdminister.select_date")},model:{value:e.form1.drivingIssueAt,callback:function(t){e.$set(e.form1,"drivingIssueAt",t)},expression:"form1.drivingIssueAt"}}):i("div",{staticStyle:{width:"176px"}},[e._v(" "+e._s(e.form1.drivingIssueAt)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.valid_start_date"),prop:"drivingValidAt"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,type:"date","value-format":"yyyy-MM-dd",placeholder:e.$t("vehicleAdminister.select_date")},model:{value:e.form1.drivingValidAt,callback:function(t){e.$set(e.form1,"drivingValidAt",t)},expression:"form1.drivingValidAt"}}):i("div",{staticStyle:{width:"176px"}},[e._v(" "+e._s(e.form1.drivingValidAt)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.valid_expiration_date"),prop:"drivingInvalidAt"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,"value-format":"yyyy-MM-dd",type:"date",placeholder:e.$t("vehicleAdminister.select_date")},on:{change:e.endTime},model:{value:e.form1.drivingInvalidAt,callback:function(t){e.$set(e.form1,"drivingInvalidAt",t)},expression:"form1.drivingInvalidAt"}}):i("div",{staticStyle:{width:"176px"}},[e._v(" "+e._s(e.form1.drivingInvalidAt)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.days_advance_reminder"),prop:"drivingAdvanceNum"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form1.drivingAdvanceNum,callback:function(t){e.$set(e.form1,"drivingAdvanceNum",t)},expression:"form1.drivingAdvanceNum"}}):i("div",{staticStyle:{width:"176px"}},[e._v(" "+e._s(e.form1.drivingAdvanceNum)+" ")])],1),e._v(" "),i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.driver_license_front")}},[i("el-upload",{ref:"drivingFront",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/drivingFront","on-success":e.onSuccess,"on-remove":e.onremove,disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"before-remove":e.handleRemove,accept:".png,.jpg","on-exceed":e.handleExceed,"file-list":e.fileList[3],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(" "+e._s(e.$t("vehicleAdminister.upload_front")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1),e._v(" "),i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.driver_license_reverse")}},[i("el-upload",{ref:"drivingBack",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/drivingBack","on-success":e.onSuccess,"on-remove":e.onremove,disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"before-remove":e.handleRemove,accept:".png,.jpg","on-exceed":e.handleExceed,"file-list":e.fileList[4],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("vehicleAdminister.upload_reverse")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1)],1)],1):e._e()])],1),e._v(" "),i("div",{staticClass:"formItem"},[i("div",{staticClass:"formTitle",on:{click:function(t){e.itemShow("item2")}}},[i("div",[e._v(e._s(e.$t("driverAdminister.online_car_information")))]),e._v(" "),e.item2?i("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("operation.out_away")))]):i("el-button",{attrs:{type:"text"}},[e._v(e._s(e.$t("operation.unfold")))])],1),e._v(" "),i("el-collapse-transition",[e.item2?i("div",[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.form2,size:e.elNorms.formSize,"label-width":"130px"}},[i("el-form-item",{attrs:{label:e.$t("driverAdminister.online_car_number")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form2.onlineLicenseNum,callback:function(t){e.$set(e.form2,"onlineLicenseNum",t)},expression:"form2.onlineLicenseNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form2.onlineLicenseNum)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.issuing_authority_1")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form2.onlineIssuer,callback:function(t){e.$set(e.form2,"onlineIssuer",t)},expression:"form2.onlineIssuer"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form2.onlineIssuer)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.valid_start_date")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,type:"date","value-format":"yyyy-MM-dd",placeholder:e.$t("vehicleAdminister.select_date")},model:{value:e.form2.onlineValidAt,callback:function(t){e.$set(e.form2,"onlineValidAt",t)},expression:"form2.onlineValidAt"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form2.onlineValidAt)+" ")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("driverAdminister.valid_expiration_date")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-date-picker",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size,"value-format":"yyyy-MM-dd",type:"date",placeholder:e.$t("vehicleAdminister.select_date")},on:{change:e.onlineEndTime},model:{value:e.form2.onlineInvalidAt,callback:function(t){e.$set(e.form2,"onlineInvalidAt",t)},expression:"form2.onlineInvalidAt"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form2.onlineInvalidAt)+" ")])],1),e._v(" "),i("el-form-item",{staticStyle:{width:"700px"},attrs:{label:e.$t("driverAdminister.days_advance_reminder")}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-input",{staticStyle:{width:"176px"},attrs:{size:e.elNorms.size},model:{value:e.form2.onlineAdvanceNum,callback:function(t){e.$set(e.form2,"onlineAdvanceNum",t)},expression:"form2.onlineAdvanceNum"}}):i("div",{staticStyle:{width:"176px","font-size":"14px",color:"1A1A1A"}},[e._v(" "+e._s(e.form2.onlineAdvanceNum)+" ")])],1),e._v(" "),i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.driver_license_front")}},[i("el-upload",{ref:"onlineFront",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/onlineFront","on-success":e.onSuccess,"on-remove":e.onremove,"before-remove":e.handleRemove,accept:".png,.jpg",disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"on-exceed":e.handleExceed,"file-list":e.fileList[5],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(" "+e._s(e.$t("vehicleAdminister.upload_front")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-form-item",{staticStyle:{width:"345px"},attrs:{label:e.$t("driverAdminister.driver_license_reverse")}},[i("el-upload",{ref:"onlineBack",staticClass:"upload-demo",attrs:{limit:1,headers:{Authorization:e.$store.getters.userData.tokenHead+e.$store.getters.userData.token},action:e.$config.API_CONFIG.API_ROOT+"/file/upload/onlineBack","on-success":e.onSuccess,"on-remove":e.onremove,disabled:e.drawerTitle===e.$t("driverAdminister.driver_details"),"before-remove":e.handleRemove,accept:".png,.jpg","on-exceed":e.handleExceed,"file-list":e.fileList[6],"list-type":"picture"}},[e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle,type:"primary"}},[e._v(e._s(e.$t("vehicleAdminister.upload_reverse")))]):e._e(),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("vehicleAdminister.only_jpg_png_files")))]):e._e()],1)],1):e._e()],1)],1):e._e()])],1),e._v(" "),e.drawerTitle!==e.$t("driverAdminister.driver_details")?i("div",{staticClass:"footBtn"},[i("el-button",{attrs:{type:"primary",size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle},on:{click:e.submit}},[e._v(e._s(e.$t("operateCommon.ok")))]),e._v(" "),i("el-button",{attrs:{size:e.elNorms.size,round:e.elNorms.round,circle:e.elNorms.circle},on:{click:function(t){e.drawerDisplay=!1}}},[e._v(e._s(e.$t("operateCommon.cancel")))])],1):e._e()]):e._e()])},[],!1,null,"ea3854ec",null);m.options.__file="driverAdministerAdd.vue";t.default=m.exports},azc9:function(e,t,i){},tokt:function(e,t,i){"use strict";var r=i("azc9");i.n(r).a}}]);