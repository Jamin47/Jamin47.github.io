(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-02c1","chunk-8472"],{GeOZ:function(t,e,a){"use strict";var i=a("IA5E");a.n(i).a},IA5E:function(t,e,a){},Pr3H:function(t,e,a){t.exports=a.p+"static/img/replay_pic_fujian@2x.35aecc2.png"},XpzI:function(t,e,a){"use strict";a.r(e);var i=a("bS4n"),s=a.n(i),n=a("omC7"),o=a.n(n),l=a("ABCu"),c=a("AlM9"),r=a("vRT2"),d={components:{treeView:l.a,TableView:c.a,recordAmap:r.default},props:{isChild:{type:Boolean,default:!1}},data:function(){return{loading:!1,elNorms:this.$store.getters.elNorms,activeMap:"_amap",searchViewObj:{isShow:!0,treeShow:!1,input:"",parking:!1,invalid:!1,supply:!1,startTime:"",endTime:""},treeObj:[],checkedKeys:[],treeViewObj:{isTree:!0,isShow:!1},carTreeViewType:"1",filterText:"",activeTreeData:null,treeData:{extendData:{},checkbox:!1,defaultProps:{motorcade:"motorcade",parentId:"parentId",status:"status",children:"children",label:"label",id:"id",count:"count"},emptyText:"暂无数据",nodeKey:"treeId",currentNodeKey:1,defaultExpandAll:!0,expandClickNode:!1,indent:16,screenFn:{bindFn:function(t,e){return!t||-1!==e.label.indexOf(t)}}},treeDefinedData:[],allTreeData:[],followTreeData:[],carInfoObj:{isShow:!1,extendShow:!1,playStatus:"stop",slider:0,speed:0,lineStatus:!0,iconStatus:!0,lineWidth:50,lineOpacity:100},staticData:[],locusData:[],viewConfig:{bottom:!1},isTable:!0,tableViewType:"1",tableOptions:{data:[],total:0,viewTableKey:"trackTableData",columns:[{type:"slot",name:"number",title:"序号"},{title:"车牌号码",key:"licenseNum",type:"text",minWidth:"150"},{title:"车牌颜色",key:"licenseColor",minWidth:"120",type:"tag",tags:[]},{title:"状态",key:"drivingState",type:"slot",name:"initColumn",minWidth:"120"},{title:"车队/公司",key:"motorcadeName",type:"text",minWidth:"160"},{title:"设备号",key:"deviceNum",type:"text",minWidth:"150"},{title:"今日里程",key:"todayMileage",type:"text",minWidth:"120"},{title:"平均总里程",key:"mileage",type:"text",minWidth:"120"},{title:"行驶速度",key:"speed",type:"text",minWidth:"120"},{title:"定位时间",key:"positioningTime",type:"text",minWidth:"160"},{title:"地理位置",key:"initAddress",type:"text",minWidth:"300"},{title:"",key:"operate",type:"operate",fixed:"right",name:"initColumn",minWidth:"150",iconButton:[{icon:"iconfont Jamin_location_icon_gb1",funcName:"clearTableFn"},{icon:"iconfont Jamin_location_icon_xiazai1",funcName:"downloadTableFn"}],buttons:[]}],searchControls:[],searchMode:"immediate",footerButtons:[{text:"切换角色",size:"mini",icon:"el-icon-sort",round:!1,funcName:"switchUser"}],paginationLayout:"total, sizes, prev, pager, next, jumper",loading:!1},trackTableData:[]}},watch:{activeTreeData:function(t){t?this.searchViewObj.input=t.label:(this.searchViewObj.input="",this.carInfoObj.isShow=!1)}},created:function(){this.setTreeData(),this.setTableData(),this.initVehicleAllTreeList(),this.getDictFn()},mounted:function(){},methods:{getDictFn:function(){var t=this;this.$http.get("/dict/list/codes",{dicCodes:"licenseColor"}).then(function(e){if(e.code===t.$config.API_STATUS.OK&&e.data){var a={licenseColor:e.data.licenseColor.map(function(t){return{id:t.itemId,value:t.itemName,text:t.itemValue,name:t.itemValue}})};t.tableOptions.columns[2].tags=a.licenseColor}})},initVehicleAllTreeList:function(){var t=this;this.checkedKeys=[],this.$http.get("/postion/realtime/vehicleAllTreeList").then(function(e){if(e.code===t.$config.API_STATUS.OK){var a=[{motorcades:e.data.motorcades,vehicles:e.data.vehicles}];t.treeArr(a),t.allTreeData=a[0].children,t.setTreeData()}}),this.$http.get("/postion/realtime/attentionList").then(function(e){e.code===t.$config.API_STATUS.OK&&(e.data.length>0&&(t.followTreeData=t.followTree(e.data)),t.setTreeData())})},treeArr:function(t){for(var e=this,a=function(a){if(t[a].motorcades){var i=[];t[a].vehicles&&t[a].vehicles.forEach(function(s){e.checkedKeys.push("v"+s.vehicleId),i.push({motorcade:!1,parentId:t[a].vehiclePid,status:s.status,label:s.licenseNum,id:s.vehicleId,treeId:"v"+s.vehicleId})}),t[a].motorcades.forEach(function(t){!t.motorcades.length&&e.checkedKeys.push("m"+t.motorcadeId),i.push({motorcade:!0,parentId:t.parentId,status:t.status,motorcades:t.motorcades,vehicles:t.vehicles,label:t.motorcadeName,id:t.motorcadeId,count:t.count,vehiclePid:t.motorcadeId,treeId:"m"+t.motorcadeId})}),t[a].children=JSON.parse(o()(i)),e.treeArr(t[a].children),delete t[a].motorcades,delete t[a].vehicles}},i=0;i<t.length;i++)a(i)},followTree:function(t){var e=[];return t.forEach(function(t,a){var i=t.licenseNum,s=t.onlineStatus,n=t.vehicleId;e[a]={id:n,label:i,status:s,treeId:"v"+n}}),e},endTime:function(t){this.searchViewObj.startTime?new Date(t).getTime()<=new Date(this.searchViewObj.startTime).getTime()&&(this.$message.error("结束时间不得小于开始时间"),this.searchViewObj.endTime=null):(this.$message.error("请先选择开始时间"),this.searchViewObj.endTimet=null)},startAnimation:function(){this.$refs[this.activeMap].startAnimation()},pauesAnimation:function(){this.$refs[this.activeMap].pauesAnimation()},stopAnimation:function(){this.$refs[this.activeMap].stopAnimation()},clearActiveTreeDataFn:function(){this.activeTreeData=null,this.carInfoObj.isShow=!1,this.carInfoObj.extendShow=!1,this.carInfoObj.playStatus="stop",this.$refs[this.activeMap].clearMap()},searchSubmitFn:function(){var t=this;if(this.activeTreeData&&this.activeTreeData.id)if(this.searchViewObj.startTime&&this.searchViewObj.endTime){this.loading=!0;var e=this.searchViewObj,a=e.endTime,i=e.startTime,n=e.invalid,l=e.parking,c=e.supply,r=[];l&&r.push(1),n&&r.push(2),c&&r.push(3);var d={endTime:a,startTime:i,status:r,vehicleId:[this.activeTreeData.id]};this.$http.post("/locus/vehicleGps/list",d).then(function(e){if(e.code===t.$config.API_STATUS.OK){e.data.locusInfo?t.activeTreeData=s()({},t.activeTreeData,e.data.locusInfo):(t.activeTreeData.label=null,t.activeTreeData.driveMileage=null,t.activeTreeData.driveTime=null,t.activeTreeData.parkTime=null,t.activeTreeData.topSpeed=null,t.activeTreeData.averageSpeed=null,t.activeTreeData.endLocation=null,t.activeTreeData.startLocation=null),t.$message({message:e.message,type:"success"}),t.carInfoObj.isShow=!0;var a=e.data.locusList,i=[];t.locusData=[],t.staticData=[],t.trackTableData=[];for(var n=0;n<a.length;n++)(a[n].latitude||a[n].longitude)&&(i[n]=[a[n].latitude,a[n].longitude]),t.trackTableData[n]={licenseNum:a[n].licenseNum,motorcadeName:a[n].motorcadeName,licenseColor:a[n].licenseColor,drivingState:a[n].drivingState,deviceNum:a[n].deviceNum,todayMileage:a[n].todayMileage,mileage:a[n].mileage,speed:a[n].speed,positioningTime:a[n].positioningTime,initAddress:a[n].initAddress};t.tableOptions.data=t.trackTableData,t.locusData=JSON.parse(o()(i)),t.staticData=JSON.parse(o()(i)),t.loading=!1,t.$refs[t.activeMap].clearMap(),t.$refs[t.activeMap].createCarMarkerFn(),t.$refs[t.activeMap].createLocusFn(),t.$refs[t.activeMap].movingCarFn(),t.$refs[t.activeMap].setFitView()}})}else this.$message({message:"请选择时间",type:"error"});else this.$message({message:"请先选择车辆",type:"error"})},openTreeFn:function(){this.treeViewObj.isShow=!0},setTreeData:function(){var t=this;"1"===this.carTreeViewType?this.treeDefinedData=this.allTreeData:this.treeDefinedData=this.followTreeData,this.treeViewObj.isTree=!1,this.$nextTick(function(){t.treeViewObj.isTree=!0})},getTreeData:function(t){},nodeClick:function(t,e){t.motorcade||(this.activeTreeData=t)},handleCommand:function(t){this[t.funcName].call(function(){},t.data,t.node,t.funcName)},controlViewFn:function(t){this.viewConfig[t]=!this.viewConfig[t]},setTableData:function(){var t=this;"1"===this.tableViewType?(this.tableOptions.columns=[{type:"slot",name:"number",title:"序号"},{title:"车牌号码",key:"licenseNum",type:"text",minWidth:"150"},{title:"车牌颜色",key:"licenseColor",minWidth:"120",type:"tag",tags:[]},{title:"状态",key:"drivingState",type:"slot",name:"initColumn",minWidth:"120"},{title:"车队/公司",key:"motorcadeName",type:"text",minWidth:"160"},{title:"设备号",key:"deviceNum",type:"text",minWidth:"150"},{title:"今日里程",key:"todayMileage",type:"text",minWidth:"120"},{title:"平均总里程",key:"mileage",type:"text",minWidth:"120"},{title:"行驶速度",key:"speed",type:"text",minWidth:"120"},{title:"定位时间",key:"positioningTime",type:"text",minWidth:"160"},{title:"地理位置",key:"initAddress",type:"text",minWidth:"300"},{title:"",key:"operate",type:"operate",fixed:"right",name:"initColumn",minWidth:"150",iconButton:[{icon:"iconfont Jamin_location_icon_gb1",funcName:"clearTableFn"},{icon:"iconfont Jamin_location_icon_xiazai1",funcName:"downloadTableFn"}],buttons:[]}],this.tableOptions.viewTableKey="trackTable",this.getDictFn(),this.tableOptions.data=this.trackTableData):(this.tableOptions.columns=[{title:"车牌号码",key:"name",type:"text",fixed:"left",minWidth:"150"},{title:"附件",key:"file",type:"slot",name:"file",minWidth:"120"},{title:"车队/公司",key:"companyName",type:"text",minWidth:"160"},{title:"报警类别",key:"alarmType",type:"text",minWidth:"150"},{title:"报警级别",key:"alarmLevel",type:"text",minWidth:"120"},{title:"开始时间",key:"startTime",type:"text",minWidth:"160"},{title:"结束时间",key:"endTime",type:"text",minWidth:"160"},{title:"持续时间",key:"duration",type:"text",minWidth:"120"},{title:"行驶速度",key:"speed",type:"text",minWidth:"120"},{title:"地理位置",key:"localName",type:"text",minWidth:"200"},{title:"",key:"operate",type:"operate",fixed:"right",name:"initColumn",minWidth:"150",iconButton:[{icon:"iconfont Jamin_location_icon_gb1",funcName:"clearTableFn"},{icon:"iconfont Jamin_location_icon_xiazai1",funcName:"downloadTableFn"}],buttons:[]}],this.tableOptions.viewTableKey="alarmTable",this.tableOptions.data=this.alarmTableData),this.isTable=!1,this.$nextTick(function(){t.isTable=!0})},getTableData:function(t){},tableResponseFn:function(t,e,a){this[e.funcName].call(function(){},t,e,a)}}},p=(a("GeOZ"),a("ZrdR")),v=Object(p.a)(d,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"page-view record-replays__page",style:t.isChild&&"padding: 0;"},[i("div",{staticClass:"map-view",class:t.viewConfig.bottom&&"map-view__active",style:t.isChild&&"border-radius: 0;"},[i("recordAmap",{ref:"_amap",staticClass:"amap-page"}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"map-left__button",class:t.searchViewObj.isShow&&"map-left__button-active",on:{click:function(e){t.searchViewObj.isShow=!0}}},[i("i",{staticClass:"iconfont Jamin_location_icon_ssuo"})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchViewObj.isShow,expression:"searchViewObj.isShow"}],staticClass:"search-view"},[i("div",{staticClass:"search-view__title"},[i("i",{staticClass:"el-icon-close",on:{click:function(e){t.treeViewObj.isShow=!1,t.searchViewObj.isShow=!1}}})]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v("选择车辆")]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-input",{staticClass:"input-width",attrs:{size:t.elNorms.size,placeholder:""},on:{focus:t.openTreeFn},model:{value:t.searchViewObj.input,callback:function(e){t.$set(t.searchViewObj,"input",e)},expression:"searchViewObj.input"}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:t.activeTreeData,expression:"activeTreeData"}],staticClass:"el-icon-circle-close",on:{click:t.clearActiveTreeDataFn}})],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v("过滤定位")]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-checkbox",{model:{value:t.searchViewObj.parking,callback:function(e){t.$set(t.searchViewObj,"parking",e)},expression:"searchViewObj.parking"}},[t._v("停车")]),t._v(" "),i("el-checkbox",{model:{value:t.searchViewObj.invalid,callback:function(e){t.$set(t.searchViewObj,"invalid",e)},expression:"searchViewObj.invalid"}},[t._v("无效")]),t._v(" "),i("el-checkbox",{model:{value:t.searchViewObj.supply,callback:function(e){t.$set(t.searchViewObj,"supply",e)},expression:"searchViewObj.supply"}},[t._v("补报")])],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v("开始时间")]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-date-picker",{staticClass:"input-width",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:""},model:{value:t.searchViewObj.startTime,callback:function(e){t.$set(t.searchViewObj,"startTime",e)},expression:"searchViewObj.startTime"}})],1)]),t._v(" "),i("div",{staticClass:"search-view__item"},[i("div",{staticClass:"view-text"},[t._v("结束时间")]),t._v(" "),i("div",{staticClass:"view-form"},[i("el-date-picker",{staticClass:"input-width",attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime",placeholder:""},on:{change:t.endTime},model:{value:t.searchViewObj.endTime,callback:function(e){t.$set(t.searchViewObj,"endTime",e)},expression:"searchViewObj.endTime"}})],1)]),t._v(" "),i("div",{staticClass:"search-view__button"},[i("div",{on:{click:t.searchSubmitFn}},[t._v("查 询")])])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.treeViewObj.isShow,expression:"treeViewObj.isShow"}],staticClass:"search-tree"},[i("i",{staticClass:"el-icon-close search-tree-close",on:{click:function(e){t.treeViewObj.isShow=!1}}}),t._v(" "),i("el-tabs",{staticClass:"init-tabs",on:{"tab-click":t.setTreeData},model:{value:t.carTreeViewType,callback:function(e){t.carTreeViewType=e},expression:"carTreeViewType"}},[i("el-tab-pane",{attrs:{name:"1"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_monitor_icon_clcd"}),t._v(" 车辆车队")])]),t._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_monitor_icon_gzcl"}),t._v(" 关注车辆")])])],1),t._v(" "),i("div",{staticClass:"input-query"},[i("el-input",{attrs:{size:t.elNorms.size,placeholder:"搜索菜单名称","prefix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText="string"==typeof e?e.trim():e},expression:"filterText"}},[i("template",{slot:"append"},[i("i",{staticClass:"el-icon-refresh-right",on:{click:t.setTreeData}})])],2)],1),t._v(" "),i("div",{staticClass:"body-tree init-tree"},[t.treeViewObj.isTree?i("tree-view",{ref:"tree",attrs:{"tree-data":t.treeData,"defined-data":t.treeDefinedData},on:{treeDataFn:t.getTreeData,"node-click":t.nodeClick},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{staticClass:"left-title text-ellipsis",style:t.activeTreeData&&e.data.data.id===t.activeTreeData.id?"color: var(--main-primary);":""},[!1===e.data.data.motorcade&&e.data.data.online?i("i",{staticClass:"iconfont Jamin_location_icon_che-lv",staticStyle:{color:"var(--main-success)"}}):!1===e.data.data.motorcade?i("i",{staticClass:"iconfont Jamin_location_icon_che-lv"}):!0===e.data.data.motorcade?i("i",{staticClass:"iconfont Jamin_vehicle_icon_xiaowenjian"}):t._e(),t._v("\n              "+t._s(e.data.data.label)+"\n            ")])]}}])}):t._e()],1)],1),t._v(" "),t.searchViewObj.isShow&&t.carInfoObj.isShow?i("div",{staticClass:"car-info__body"},[i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("车辆号码")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.label))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("行车里程")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.driveMileage))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("行车时长")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.driveTime))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("停车时长")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.parkTime))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("最高时速")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.topSpeed))])]),t._v(" "),i("div",{staticClass:"divider-vertical"}),t._v(" "),i("div",{staticClass:"info-item text-ellipsis"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("平均时速")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.averageSpeed))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item info-item-row"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("起点位置")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.startLocation))])])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"info-row"},[i("div",{staticClass:"info-item info-item-row"},[i("div",{staticClass:"round"}),t._v(" "),i("span",{staticClass:"info-item__title"},[t._v("终点位置")]),t._v(" "),i("span",{staticClass:"info-item__text"},[t._v(t._s(t.activeTreeData.endLocation))])])])]):t._e(),t._v(" "),t.carInfoObj.isShow?i("div",{staticClass:"route-operate"},[i("i",{directives:[{name:"show",rawName:"v-show",value:"stop"===t.carInfoObj.playStatus||"pause"===t.carInfoObj.playStatus,expression:"carInfoObj.playStatus === 'stop' || carInfoObj.playStatus === 'pause'"}],staticClass:"iconfont Jamin_replay_icon_bofang",staticStyle:{"margin-right":"10px"},on:{click:t.startAnimation}}),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"play"===t.carInfoObj.playStatus,expression:"carInfoObj.playStatus === 'play'"}],staticClass:"iconfont Jamin_replay_icon_zt",staticStyle:{"margin-right":"10px"},on:{click:t.pauesAnimation}}),t._v(" "),i("i",{staticClass:"iconfont Jamin_location_icon_gb",on:{click:t.stopAnimation}}),t._v(" "),i("div",{staticClass:"route-slider"},[i("el-slider",{model:{value:t.carInfoObj.slider,callback:function(e){t.$set(t.carInfoObj,"slider",e)},expression:"carInfoObj.slider"}})],1),t._v(" "),i("i",{staticClass:"iconfont Jamin_location_icon_shezhi1",on:{click:function(e){t.carInfoObj.extendShow=!t.carInfoObj.extendShow}}})]):t._e(),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.carInfoObj.extendShow,expression:"carInfoObj.extendShow"}],staticClass:"route-operate__extend"},[i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v("播放速度")]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"route-slider"},[i("el-slider",{model:{value:t.carInfoObj.slider,callback:function(e){t.$set(t.carInfoObj,"slider",e)},expression:"carInfoObj.slider"}})],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v("播放轨迹")]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"item-radio"},[i("el-radio",{attrs:{label:!0},model:{value:t.carInfoObj.lineStatus,callback:function(e){t.$set(t.carInfoObj,"lineStatus",e)},expression:"carInfoObj.lineStatus"}},[t._v("显示")]),t._v(" "),i("el-radio",{attrs:{label:!1},model:{value:t.carInfoObj.lineStatus,callback:function(e){t.$set(t.carInfoObj,"lineStatus",e)},expression:"carInfoObj.lineStatus"}},[t._v("隐藏")])],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v("显示方向")]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"item-radio"},[i("el-radio",{attrs:{label:!0},model:{value:t.carInfoObj.iconStatus,callback:function(e){t.$set(t.carInfoObj,"iconStatus",e)},expression:"carInfoObj.iconStatus"}},[t._v("显示")]),t._v(" "),i("el-radio",{attrs:{label:!1},model:{value:t.carInfoObj.iconStatus,callback:function(e){t.$set(t.carInfoObj,"iconStatus",e)},expression:"carInfoObj.iconStatus"}},[t._v("隐藏")])],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v("线路宽度")]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"route-slider"},[i("el-slider",{model:{value:t.carInfoObj.lineWidth,callback:function(e){t.$set(t.carInfoObj,"lineWidth",e)},expression:"carInfoObj.lineWidth"}})],1)])]),t._v(" "),i("div",{staticClass:"divider-row"}),t._v(" "),i("div",{staticClass:"extend-item"},[i("div",{staticClass:"item-title"},[t._v("线路透明")]),t._v(" "),i("div",{staticClass:"item-text"},[i("div",{staticClass:"route-slider"},[i("el-slider",{model:{value:t.carInfoObj.lineOpacity,callback:function(e){t.$set(t.carInfoObj,"lineOpacity",e)},expression:"carInfoObj.lineOpacity"}})],1)])])]),t._v(" "),i("div",{staticClass:"bottom-control control-view",on:{click:function(e){t.controlViewFn("bottom")}}},[t.viewConfig.bottom?i("i",{staticClass:"el-icon-arrow-down"}):i("i",{staticClass:"el-icon-arrow-up"})])],1),t._v(" "),i("div",{staticClass:"table-view",class:t.viewConfig.bottom&&"table-view__active"},[i("div",{staticClass:"table-tabs"},[i("el-tabs",{staticClass:"init-tabs",on:{"tab-click":t.setTableData},model:{value:t.tableViewType,callback:function(e){t.tableViewType=e},expression:"tableViewType"}},[i("el-tab-pane",{attrs:{name:"1"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_replay_icon_gjmx"}),t._v(" 轨迹明细")])]),t._v(" "),i("el-tab-pane",{attrs:{name:"2"}},[i("span",{attrs:{slot:"label"},slot:"label"},[i("i",{staticClass:"iconfont Jamin_replay_icon_bjmx"}),t._v(" 报警明细")])])],1)],1),t._v(" "),i("div",{staticClass:"table-content"},[t.isTable?i("table-view",{ref:"table",attrs:{"is-search":!1,"column-view":"",data:t.tableOptions.data,total:0,columns:t.tableOptions.columns,"search-controls":t.tableOptions.searchControls,"search-mode":t.tableOptions.searchMode,"button-controls":t.tableOptions.buttonControls,"footer-buttons":t.tableOptions.footerButtons,"pagination-layout":t.tableOptions.paginationLayout,loading:t.tableOptions.loading,"view-table-key":t.tableOptions.viewTableKey},on:{requestTableData:t.getTableData,handleCallback:t.tableResponseFn}},[i("el-table-column",{attrs:{slot:"number",label:"序号",type:"index",align:"center"},slot:"number"}),t._v(" "),i("el-table-column",{attrs:{slot:"initColumn",align:"center",width:"150"},slot:"initColumn",scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{attrs:{scope:e}},[t._v("状态")])]}},{key:"default",fn:function(e){return[0===e.row.drivingState?i("span",{staticClass:"table-status-icon"},[i("img",{attrs:{src:a("a60Y"),alt:""}})]):t._e(),t._v(" "),1===e.row.drivingState?i("span",{staticClass:"table-status-icon"},[i("img",{attrs:{src:a("q/SC"),alt:""}})]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{slot:"file",align:"center",width:"150"},slot:"file",scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{attrs:{scope:e}},[t._v("附件")])]}},{key:"default",fn:function(e){return[i("span",{staticClass:"table-file-icon",attrs:{scope:e}},[i("img",{attrs:{src:a("Pr3H"),alt:""}}),t._v(" "),i("span",[t._v(t._s(e.row.file))])])]}}])})],1):t._e()],1)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"map-api__operate"},[e("div",{staticClass:"operate-item"},[e("i",{staticClass:"iconfont Jamin_location_icon_caidan"})]),this._v(" "),e("div",{staticClass:"operate-item"},[e("i",{staticClass:"iconfont Jamin_location_icon_chakan"})])])}],!1,null,"2f4917d4",null);v.options.__file="record-replays.vue";e.default=v.exports},a60Y:function(t,e,a){t.exports=a.p+"static/img/location_pic_p@2x.742252f.png"},briW:function(t,e,a){},kPe3:function(t,e,a){"use strict";var i=a("briW");a.n(i).a},"q/SC":function(t,e,a){t.exports=a.p+"static/img/location_pic_l@2x.34fa203.png"},vRT2:function(t,e,a){"use strict";a.r(e);var i={data:function(){return{elNorms:this.$store.getters.elNorms,AMapGL:null,gapdeMap:null,carMarker:null,polyline:null,passedPolyline:null,searchValue:"",placeSearch:null}},watch:{searchValue:function(t){this.placeSearch.search(t)}},mounted:function(){this.createAMap()},methods:{createAMap:function(){var t=this;t.AMapGL=AMap,t.AMapGL.plugin("AMap.MoveAnimation",function(){t.gapdeMap=new t.AMapGL.Map("amap-container",{resizeEnable:!0,center:[105.389814,38.311781],zoom:4,rotation:-.7908261543741522,viewMode:"3D",buildingAnimation:!0})}),t.gapdeMap.plugin(["AMap.Scale"],function(){var e=new t.AMapGL.Scale({position:"RB",offset:[10,10]});t.gapdeMap.addControl(e)}),t.gapdeMap.plugin(["AMap.ToolBar"],function(){var e=new t.AMapGL.ToolBar({position:"RT",offset:[10,60]});t.gapdeMap.addControl(e)}),t.AMapGL.plugin(["AMap.PlaceSearch"],function(){t.placeSearch=new t.AMapGL.PlaceSearch({city:"全国",map:t.gapdeMap})})},createCarMarkerFn:function(){this.carMarker=new this.AMapGL.Marker({map:this.gapdeMap,position:this.$parent.staticData[0],icon:"https://a.amap.com/jsapi_demos/static/demo-center-v2/car.png",offset:new this.AMapGL.Pixel(-13,-26)})},createLocusFn:function(){this.polyline=new this.AMapGL.Polyline({map:this.gapdeMap,path:this.$parent.locusData,showDir:!0,strokeColor:"#409EFF",strokeOpacity:1,strokeWeight:10,strokeStyle:"solid"}),this.passedPolyline=new this.AMapGL.Polyline({map:this.gapdeMap,strokeColor:"#67C23A",strokeOpacity:0,strokeWeight:8})},movingCarFn:function(){var t=this;t.carMarker.on("moving",function(e){t.passedPolyline.setPath(e.passedPath)})},startAnimation:function(){var t=this.$parent.carInfoObj;"stop"===t.playStatus?this.carMarker.moveAlong(this.$parent.locusData,{duration:500,autoRotation:!0}):"pause"===t.playStatus&&this.carMarker.resumeMove(),t.playStatus="play"},pauesAnimation:function(){this.carMarker.pauseMove(),this.$parent.carInfoObj.playStatus="pause"},stopAnimation:function(){this.carMarker.stopMove(),this.$parent.carInfoObj.playStatus="stop"},clearMap:function(){this.gapdeMap.clearMap()},setFitView:function(){this.gapdeMap.setFitView()}}},s=(a("kPe3"),a("ZrdR")),n=Object(s.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"record-amap"},[a("div",{staticClass:"amap-page",attrs:{id:"amap-container"}}),t._v(" "),a("el-input",{staticClass:"map-search",attrs:{size:t.elNorms.size,clearable:"",placeholder:"全国搜索","prefix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)},[],!1,null,"1dccf188",null);n.options.__file="record-amap.vue";e.default=n.exports}}]);